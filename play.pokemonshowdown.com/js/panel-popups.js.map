{"version":3,"file":"panel-popups.js","names":["UserRoom","_PSRoom","options","_options$args","_this","call","classType","userid","name","isSelf","id","split","setName","args","username","_inheritsLoose","_proto","prototype","toID","PS","user","test","charAt","update","send","PSRoom","UserPanel","_PSRoomPanel","_this2","_len","arguments","length","Array","_key","apply","concat","lookup","ev","_querySelector","preventDefault","stopImmediatePropagation","room","props","base","querySelector","value","maybeReset","_querySelector2","_proto2","renderUser","mainmenu","userdetailsCache","slice","avatar","hideInteraction","startsWith","group","server","getGroup","groupName","type","preact","h","style","globalGroup","globalGroupName","roomsList","rooms","battlebuf","chatbuf","privatebuf","roomid","curRoom","roomrank","toRoomid","substr","p1","p2","ownBattle","toUserid","roomLink","href","title","isPrivate","push","unshift","away","status","buttonbar","disabled","named","parentRoomid","Dex","resolveAvatar","src","Config","routes","users","target","BattleLog","usernameColor","customgroup","render","showLookup","PSPanelWrapper","onSubmit","minWidth","onInput","onChange","PSRoomPanel","Model","location","UserOptionsPanel","_PSRoomPanel2","_this3","_len2","_key2","handleMute","setState","showMuteInput","showBanInput","showLockInput","handleBan","handleLock","handleCancel","showConfirm","handleConfirm","data","state","_this3$getTargets","getTargets","targetUser","targetRoom","cmd","action","duration","reason","close","handleAddFriend","_this3$getTargets2","requestSent","handleIgnore","_this3$getTargets3","handleUnignore","_this3$getTargets4","muteUser","_this3$base","hrMute","currentTarget","banUser","_this3$base2","weekBan","lockUser","_this3$base3","weekLock","isNamelock","isIgnoringUser","ignoring","prefs","ignore","_proto3","_targetRoom","_targetRoom2","_targetRoom3","_targetRoom4","_targetRoom5","_this$props$room$id$s","targetRoomid","getParent","_this4","_this$state$data","_this$state$data2","_this$state$data3","banPerms","mutePerms","_this$getTargets","userRoomGroup","canMute","includes","canBan","canLock","isVisible","actionName","width","onClick","endsWith","Fragment","placeholder","noURL","UserListPanel","_PSRoomPanel3","_proto4","parentRoom","Error","ChatUserList","VolumePanel","_PSRoomPanel4","_this5","_len3","_key3","setVolume","e","slider","set","Number","forceUpdate","setMute","checkbox","checked","_proto5","componentDidMount","_this6","subscriptions","subscribe","mute","effectvolume","min","max","step","onKeyUp","musicvolume","notifvolume","OptionsPanel","_PSRoomPanel5","_this7","_len4","_key4","setTheme","theme","setLayout","_PS","layout","rightPanel","setChatroomTimestamp","timestamp","Object","assign","timestamps","chatrooms","undefined","setPMsTimestamp","pms","handleShowStatusInput","showStatusInput","handleOnChange","elem","setting","loadSpriteData","noanim","editStatus","_statusInput$value","statusInput","showStatusUpdated","_proto6","subscribeTo","_PS$user$registered","height","verticalAlign","registered","className","selected","onepanel","bwgfx","nopastgens","blockPMs","blockChallenges","inchatpm","noselfhighlight","leavePopupRoom","refreshprompt","language","tournaments","GooglePasswordBox","_preact$Component","_proto7","_this8","window","gapiCallback","response","changeNameWithPassword","credential","needsGoogle","gapiLoaded","script","document","createElement","async","getElementsByTagName","appendChild","Component","LoginPanel","_PSRoomPanel6","_this9","_len5","_key5","handleSubmit","passwordBox","getUsername","changeName","reset","handleShowPassword","passwordShown","_proto8","_this10","success","setTimeout","focus","_this$props$room$args","_this$base","loginName","loggingIn","input","_ref","usernameBox","select","loginState","error","autocomplete","needsPassword","maxWidth","margin","AvatarsPanel","_PSRoomPanel7","_proto9","avatars","i","_window$BattleAvatarN","BattleAvatarNumbers","map","_ref2","Math","floor","BattleForfeitPanel","_PSRoomPanel8","_proto10","battleRoom","battle","rated","ReplacePlayerPanel","_PSRoomPanel9","_this11","_len6","_key6","handleReplacePlayer","_room$getParent","_this11$base","newPlayer","add","ended","playerSlot","_proto11","ChangePasswordPanel","_PSRoomPanel10","_this12","_len7","_key7","handleChangePassword","_this12$base","_this12$base2","_this12$base3","oldpassword","password","cpassword","errorMsg","PSLoginServer","query","then","actionerror","alert","err","console","message","_proto12","_this$state$errorMsg","readOnly","RegisterPanel","_PSRoomPanel11","_this13","_len8","_key8","handleRegisterUser","_this13$base","_this13$base2","_this13$base3","captcha","challstr","_data$curuser","curuser","loggedin","assertion","handleAssertion","_proto13","_this$state$errorMsg2","alt","rightPopup","BackgroundListPanel","_PSRoomPanel12","_this14","_len9","_key9","setBg","curtarget","bg","_this14$props$room$ar","PSBackground","bgUrl","uploadBg","_this14$base","handleUploadedFiles","files","handleDrop","_ev$dataTransfer","_files$","dataTransfer","skipConfirm","file","reader","FileReader","onload","_PS$rooms$changebackg","result","join","onerror","readAsDataURL","_proto14","renderUpload","_room$args","_room$args2","option","val","accept","ChatFormattingPanel","_PSRoomPanel13","_this15","_len10","_key10","curPref","chatformatting","_proto15","ctrl","PSView","isMac","hidegreentext","hideme","hidespoiler","hidelinks","hideinterstice","LeaveRoomPanel","_PSRoomPanel14","_proto16","BattleOptionsPanel","_PSRoomPanel15","_this16","_len11","_key11","handleHardcoreMode","mode","getBattleRoom","setHardcoreMode","handleIgnoreSpectators","ignoreSpects","chats","querySelectorAll","displaySetting","_i2","chat","small","text","innerText","isPlayerChat","display","scene","log","updateScroll","handleIgnoreOpponent","ignoreOpponent","resetToCurrentTurn","handleIgnoreNicks","ignoreNicks","handleAllSettings","disallowSpectators","_proto17","_battleRoom$battle","isPlayer","myPokemon","canOfferTie","turn","hardcoreMode","disallowspectators","ignorenicks","ignorespects","ignoreopp","autotimer","body","offsetWidth","rightpanelbattles","PopupRoom","_PSRoom2","_this17$args","_this17","_len12","_key12","returnValue","cancelValue","_proto18","destroy","_this$args","callback","PopupPanel","_PSRoomPanel16","_this18","_len13","_key13","_room$args3","okValue","textbox","_proto19","_this$props$room$args2","parseMessage","sanitizeHTML","_room$args4","_room$args5","_room$args6","_room$args7","_room$args8","_room$args9","_room$args10","okButton","cancelButton","otherButtons","dangerouslySetInnerHTML","__html","RoomTabListPanel","_PSRoomPanel17","_this19","_len14","_key14","startingLayout","handleLayoutChange","_proto20","verticalTabs","leftRoomList","PSHeader","renderRoomTab","rightRoomList","BattleTimerPanel","_PSRoomPanel18","_proto21","kickingInactive","RulesPanel","_PSRoomPanel19","_proto22","_this20","isWarn","timerRef","setInterval","timeLeft","canClose","clearInterval","_room$args11","_room$args12","_room$args13","escapeHTML","addRoomType"],"sources":["../src/panel-popups.tsx"],"sourcesContent":["import preact from \"../js/lib/preact\";\nimport { toID, toRoomid, toUserid, Dex } from \"./battle-dex\";\nimport type { ID } from \"./battle-dex-data\";\nimport { BattleLog } from \"./battle-log\";\nimport { PSLoginServer } from \"./client-connection\";\nimport { PSBackground } from \"./client-core\";\nimport {\n\tPS, PSRoom, Config, type RoomOptions, type PSLoginState, type RoomID, type TimestampOptions,\n} from \"./client-main\";\nimport { type BattleRoom } from \"./panel-battle\";\nimport { ChatUserList, type ChatRoom } from \"./panel-chat\";\nimport { PSRoomPanel, PSPanelWrapper, PSView } from \"./panels\";\nimport { PSHeader } from \"./panel-topbar\";\n\n/**\n * User popup\n */\n\nexport class UserRoom extends PSRoom {\n\toverride readonly classType = 'user';\n\tuserid!: ID;\n\tname!: string;\n\tisSelf!: boolean;\n\tconstructor(options: RoomOptions) {\n\t\tsuper(options);\n\t\tconst userid = (this.id.split('-')[1] || '') as ID;\n\t\tthis.setName(options.args?.username as string || userid);\n\t}\n\tsetName(name: string) {\n\t\tthis.name = name;\n\t\tthis.userid = toID(name);\n\t\tthis.isSelf = (this.userid === PS.user.userid);\n\t\tif (/[a-zA-Z0-9]/.test(this.name.charAt(0))) this.name = ' ' + this.name;\n\t\tthis.update(null);\n\t\tif (this.userid) PS.send(`/cmd userdetails ${this.userid}`);\n\t}\n}\n\nclass UserPanel extends PSRoomPanel<UserRoom> {\n\tstatic readonly id = 'user';\n\tstatic readonly routes = ['user-*', 'viewuser-*', 'users'];\n\tstatic readonly Model = UserRoom;\n\tstatic readonly location = 'popup';\n\n\trenderUser() {\n\t\tconst room = this.props.room;\n\t\tif (!room.userid) return null;\n\t\tconst user = PS.mainmenu.userdetailsCache[room.userid] || {\n\t\t\tuserid: room.userid, name: room.name.slice(1), avatar: '[loading]',\n\t\t};\n\t\tif (!user.avatar) {\n\t\t\t// offline; server doesn't know the actual username\n\t\t\tuser.name = room.name;\n\t\t}\n\t\tconst hideInteraction = room.id.startsWith('viewuser-');\n\n\t\tconst group = PS.server.getGroup(room.name);\n\t\tlet groupName: preact.ComponentChild = group.name || null;\n\t\tif (group.type === 'punishment') {\n\t\t\tgroupName = <span style=\"color:#777777\">{groupName}</span>;\n\t\t}\n\n\t\tconst globalGroup = PS.server.getGroup(user.group);\n\t\tlet globalGroupName: preact.ComponentChild = globalGroup.name && `Global ${globalGroup.name}` || null;\n\t\tif (globalGroup.type === 'punishment') {\n\t\t\tglobalGroupName = <span style=\"color:#777777\">{globalGroupName}</span>;\n\t\t}\n\t\tif (globalGroup.name === group.name) groupName = null;\n\n\t\tlet roomsList: preact.ComponentChild = null;\n\t\tif (user.rooms) {\n\t\t\tlet battlebuf = [];\n\t\t\tlet chatbuf = [];\n\t\t\tlet privatebuf = [];\n\t\t\tfor (let roomid in user.rooms) {\n\t\t\t\tif (roomid === 'global') continue;\n\t\t\t\tconst curRoom = user.rooms[roomid];\n\t\t\t\tlet roomrank: preact.ComponentChild = null;\n\t\t\t\tif (!/[A-Za-z0-9]/.test(roomid.charAt(0))) {\n\t\t\t\t\troomrank = <small style=\"color: #888; font-size: 100%\">{roomid.charAt(0)}</small>;\n\t\t\t\t}\n\t\t\t\troomid = toRoomid(roomid);\n\n\t\t\t\tif (roomid.substr(0, 7) === 'battle-') {\n\t\t\t\t\tconst p1 = curRoom.p1!.substr(1);\n\t\t\t\t\tconst p2 = curRoom.p2!.substr(1);\n\t\t\t\t\tconst ownBattle = (PS.user.userid === toUserid(p1) || PS.user.userid === toUserid(p2));\n\t\t\t\t\tconst roomLink = <a\n\t\t\t\t\t\thref={`/${roomid}`} class={'ilink' + (ownBattle || roomid in PS.rooms ? ' yours' : '')}\n\t\t\t\t\t\ttitle={`${p1 || '?'} v. ${p2 || '?'}`}\n\t\t\t\t\t>{roomrank}{roomid.substr(7)}</a>;\n\t\t\t\t\tif (curRoom.isPrivate) {\n\t\t\t\t\t\tif (privatebuf.length) privatebuf.push(', ');\n\t\t\t\t\t\tprivatebuf.push(roomLink);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (battlebuf.length) battlebuf.push(', ');\n\t\t\t\t\t\tbattlebuf.push(roomLink);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconst roomLink = <a href={`/${roomid}`} class={'ilink' + (roomid in PS.rooms ? ' yours' : '')}>\n\t\t\t\t\t\t{roomrank}{roomid}\n\t\t\t\t\t</a>;\n\t\t\t\t\tif (curRoom.isPrivate) {\n\t\t\t\t\t\tif (privatebuf.length) privatebuf.push(\", \");\n\t\t\t\t\t\tprivatebuf.push(roomLink);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (chatbuf.length) chatbuf.push(', ');\n\t\t\t\t\t\tchatbuf.push(roomLink);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (battlebuf.length) battlebuf.unshift(<br />, <em>Battles:</em>, \" \");\n\t\t\tif (chatbuf.length) chatbuf.unshift(<br />, <em>Chatrooms:</em>, \" \");\n\t\t\tif (privatebuf.length) privatebuf.unshift(<br />, <em>Private rooms:</em>, \" \");\n\t\t\tif (battlebuf.length || chatbuf.length || privatebuf.length) {\n\t\t\t\troomsList = <small class=\"rooms\">{battlebuf}{chatbuf}{privatebuf}</small>;\n\t\t\t}\n\t\t} else if (user.rooms === false) {\n\t\t\troomsList = <strong class=\"offline\">OFFLINE</strong>;\n\t\t}\n\n\t\tconst isSelf = user.userid === PS.user.userid;\n\t\tlet away = false;\n\t\tlet status = null;\n\t\tif (user.status) {\n\t\t\taway = user.status.startsWith('!');\n\t\t\tstatus = away ? user.status.slice(1) : user.status;\n\t\t}\n\n\t\tconst buttonbar = [];\n\t\tif (!hideInteraction) {\n\t\t\tbuttonbar.push(isSelf ? (\n\t\t\t\t<p class=\"buttonbar\">\n\t\t\t\t\t<button class=\"button\" disabled>Challenge</button> {}\n\t\t\t\t\t<button class=\"button\" data-href=\"dm-\">Chat Self</button>\n\t\t\t\t</p>\n\t\t\t) : !PS.user.named ? (\n\t\t\t\t<p class=\"buttonbar\">\n\t\t\t\t\t<button class=\"button\" disabled>Challenge</button> {}\n\t\t\t\t\t<button class=\"button\" disabled>Chat</button> {}\n\t\t\t\t\t<button class=\"button\" disabled>{'\\u2026'}</button>\n\t\t\t\t</p>\n\t\t\t) : (\n\t\t\t\t<p class=\"buttonbar\">\n\t\t\t\t\t<button class=\"button\" data-href={`challenge-${user.userid}`}>Challenge</button> {}\n\t\t\t\t\t<button class=\"button\" data-href={`dm-${user.userid}`}>Chat</button> {}\n\t\t\t\t\t<button class=\"button\" data-href={`useroptions-${user.userid}-${room.parentRoomid || ''}`}>{'\\u2026'}</button>\n\t\t\t\t</p>\n\t\t\t));\n\t\t\tif (isSelf) {\n\t\t\t\tbuttonbar.push(\n\t\t\t\t\t<hr />,\n\t\t\t\t\t<p class=\"buttonbar\" style=\"text-align: right\">\n\t\t\t\t\t\t<button class=\"button\" data-href=\"login\"><i class=\"fa fa-pencil\" aria-hidden></i> Change name</button> {}\n\t\t\t\t\t\t<button class=\"button\" data-cmd=\"/logout\"><i class=\"fa fa-power-off\" aria-hidden></i> Log out</button>\n\t\t\t\t\t</p>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tconst avatar = user.avatar !== '[loading]' ? Dex.resolveAvatar(`${user.avatar || 'unknown'}`) : null;\n\t\treturn [<div class=\"userdetails\">\n\t\t\t{avatar && (room.isSelf ? (\n\t\t\t\t<img src={avatar} class=\"trainersprite yours\" data-href=\"avatars\" />\n\t\t\t) : (\n\t\t\t\t<img src={avatar} class=\"trainersprite\" />\n\t\t\t))}\n\t\t\t<strong><a\n\t\t\t\thref={`//${Config.routes.users}/${user.userid}`} target=\"_blank\"\n\t\t\t\tstyle={`color: ${away ? '#888888' : BattleLog.usernameColor(user.userid)}`}\n\t\t\t>\n\t\t\t\t{user.name}\n\t\t\t</a></strong><br />\n\t\t\t{status && <div class=\"userstatus\">{status}</div>}\n\t\t\t{groupName && <div class=\"usergroup roomgroup\">{groupName}</div>}\n\t\t\t{globalGroupName && <div class=\"usergroup globalgroup\">{globalGroupName}</div>}\n\t\t\t{user.customgroup && <div class=\"usergroup globalgroup\">{user.customgroup}</div>}\n\t\t\t{!hideInteraction && roomsList}\n\t\t</div>, buttonbar];\n\t}\n\n\tlookup = (ev: Event) => {\n\t\tev.preventDefault();\n\t\tev.stopImmediatePropagation();\n\t\tconst room = this.props.room;\n\t\tconst username = this.base!.querySelector<HTMLInputElement>('input[name=username]')?.value;\n\t\troom.setName(username || '');\n\t};\n\tmaybeReset = (ev: Event) => {\n\t\tconst room = this.props.room;\n\t\tconst username = this.base!.querySelector<HTMLInputElement>('input[name=username]')?.value;\n\t\tif (toID(username) !== room.userid) {\n\t\t\troom.setName('');\n\t\t}\n\t};\n\n\toverride render() {\n\t\tconst room = this.props.room;\n\t\tconst showLookup = room.id === 'users';\n\n\t\treturn <PSPanelWrapper room={room}><div class=\"pad\">\n\t\t\t{showLookup && <form onSubmit={this.lookup} style={{ minWidth: '278px' }}>\n\t\t\t\t<label class=\"label\">\n\t\t\t\t\tUsername: {}\n\t\t\t\t\t<input type=\"search\" name=\"username\" class=\"textbox autofocus\" onInput={this.maybeReset} onChange={this.maybeReset} />\n\t\t\t\t</label>\n\t\t\t\t{!room.userid && <p class=\"buttonbar\">\n\t\t\t\t\t<button type=\"submit\" class=\"button\"><strong>Look up</strong></button> {}\n\t\t\t\t\t<button name=\"closeRoom\" class=\"button\">Close</button>\n\t\t\t\t</p>}\n\t\t\t\t{!!room.userid && <hr />}\n\t\t\t</form>}\n\n\t\t\t{this.renderUser()}\n\t\t</div></PSPanelWrapper>;\n\t}\n}\n\nclass UserOptionsPanel extends PSRoomPanel {\n\tstatic readonly id = 'useroptions';\n\tstatic readonly routes = ['useroptions-*'];\n\tstatic readonly location = 'popup';\n\tstatic readonly noURL = true;\n\tdeclare state: {\n\t\tshowMuteInput?: boolean,\n\t\tshowBanInput?: boolean,\n\t\tshowLockInput?: boolean,\n\t\tshowConfirm?: boolean,\n\t\trequestSent?: boolean,\n\t\tdata?: Record<string, string>,\n\t};\n\tgetTargets() {\n\t\tconst [, targetUser, targetRoomid] = this.props.room.id.split('-');\n\t\tlet targetRoom = (PS.rooms[targetRoomid] || null) as ChatRoom | null;\n\t\tif (targetRoom?.type !== 'chat') targetRoom = targetRoom?.getParent() as ChatRoom;\n\t\tif (targetRoom?.type !== 'chat') targetRoom = targetRoom?.getParent() as ChatRoom;\n\t\tif (targetRoom?.type !== 'chat') targetRoom = null;\n\t\treturn { targetUser: targetUser as ID, targetRoomid: targetRoomid as RoomID, targetRoom };\n\t}\n\n\thandleMute = (ev: Event) => {\n\t\tthis.setState({ showMuteInput: true, showBanInput: false, showLockInput: false });\n\t\tev.preventDefault();\n\t\tev.stopImmediatePropagation();\n\t};\n\thandleBan = (ev: Event) => {\n\t\tthis.setState({ showBanInput: true, showMuteInput: false, showLockInput: false });\n\t\tev.preventDefault();\n\t\tev.stopImmediatePropagation();\n\t};\n\thandleLock = (ev: Event) => {\n\t\tthis.setState({ showLockInput: true, showMuteInput: false, showBanInput: false });\n\t\tev.preventDefault();\n\t\tev.stopImmediatePropagation();\n\t};\n\n\thandleCancel = (ev: Event) => {\n\t\tthis.setState({ showBanInput: false, showMuteInput: false, showLockInput: false, showConfirm: false });\n\t\tev.preventDefault();\n\t\tev.stopImmediatePropagation();\n\t};\n\n\thandleConfirm = (ev: Event) => {\n\t\tconst data = this.state.data;\n\t\tif (!data) return;\n\t\tconst { targetUser, targetRoom } = this.getTargets();\n\n\t\tlet cmd = '';\n\t\tif (data.action === \"Mute\") {\n\t\t\tcmd += data.duration === \"1 hour\" ? \"/hourmute \" : \"/mute \";\n\t\t} else if (data.action === \"Ban\") {\n\t\t\tcmd += data.duration === \"1 week\" ? \"/weekban \" : \"/ban \";\n\t\t} else if (data.action === \"Lock\") {\n\t\t\tcmd += data.duration === \"1 week\" ? \"/weeklock \" : \"/lock \";\n\t\t} else if (data.action === \"Namelock\") {\n\t\t\tcmd += \"/namelock \";\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t\tcmd += `${targetUser} ${data.reason ? ',' + data.reason : ''}`;\n\t\ttargetRoom?.send(cmd);\n\t\tthis.close();\n\t};\n\n\thandleAddFriend = (ev: Event) => {\n\t\tconst { targetUser, targetRoom } = this.getTargets();\n\t\ttargetRoom?.send(`/friend add ${targetUser}`);\n\t\tthis.setState({ requestSent: true });\n\t\tev.preventDefault();\n\t\tev.stopImmediatePropagation();\n\t};\n\n\thandleIgnore = () => {\n\t\tconst { targetUser, targetRoom } = this.getTargets();\n\t\ttargetRoom?.send(`/ignore ${targetUser}`);\n\t\tthis.close();\n\t};\n\n\thandleUnignore = () => {\n\t\tconst { targetUser, targetRoom } = this.getTargets();\n\t\ttargetRoom?.send(`/unignore ${targetUser}`);\n\t\tthis.close();\n\t};\n\n\tmuteUser = (ev: Event) => {\n\t\tthis.setState({ showMuteInput: false });\n\t\tconst hrMute = (ev.currentTarget as HTMLButtonElement).value === \"1hr\";\n\t\tconst reason = this.base?.querySelector<HTMLInputElement>(\"input[name=mutereason]\")?.value;\n\t\tconst data = {\n\t\t\taction: 'Mute',\n\t\t\treason,\n\t\t\tduration: hrMute ? \"1 hour\" : \"7 minutes\",\n\t\t};\n\t\tthis.setState({ data, showConfirm: true });\n\t\tev.preventDefault();\n\t\tev.stopImmediatePropagation();\n\t};\n\n\tbanUser = (ev: Event) => {\n\t\tthis.setState({ showBanInput: false });\n\t\tconst weekBan = (ev.currentTarget as HTMLButtonElement).value === \"1wk\";\n\t\tconst reason = this.base?.querySelector<HTMLInputElement>(\"input[name=banreason]\")?.value;\n\t\tconst data = {\n\t\t\taction: 'Ban',\n\t\t\treason,\n\t\t\tduration: weekBan ? \"1 week\" : \"2 days\",\n\t\t};\n\t\tthis.setState({ data, showConfirm: true });\n\t\tev.preventDefault();\n\t\tev.stopImmediatePropagation();\n\t};\n\n\tlockUser = (ev: Event) => {\n\t\tthis.setState({ showLockInput: false });\n\t\tconst weekLock = (ev.currentTarget as HTMLButtonElement).value === \"1wk\";\n\t\tconst isNamelock = (ev.currentTarget as HTMLButtonElement).value === \"nmlk\";\n\t\tconst reason = this.base?.querySelector<HTMLInputElement>(\"input[name=lockreason]\")?.value;\n\t\tconst data = {\n\t\t\taction: isNamelock ? 'Namelock' : 'Lock',\n\t\t\treason,\n\t\t\tduration: weekLock ? \"1 week\" : \"2 days\",\n\t\t};\n\t\tthis.setState({ data, showConfirm: true });\n\t\tev.preventDefault();\n\t\tev.stopImmediatePropagation();\n\t};\n\n\tisIgnoringUser = (userid: string) => {\n\t\tconst ignoring = PS.prefs.ignore || {};\n\t\tif (ignoring[userid] === 1) return true;\n\t\treturn false;\n\t};\n\n\toverride render() {\n\t\tconst room = this.props.room;\n\t\tconst banPerms = [\"@\", \"#\", \"~\"];\n\t\tconst mutePerms = [\"%\", ...banPerms];\n\t\tconst { targetUser, targetRoom } = this.getTargets();\n\t\tconst userRoomGroup = targetRoom?.users[PS.user.userid].charAt(0) || '';\n\t\tconst canMute = mutePerms.includes(userRoomGroup);\n\t\tconst canBan = banPerms.includes(userRoomGroup);\n\t\tconst canLock = mutePerms.includes(PS.user.group);\n\t\tconst isVisible = (actionName: string) => {\n\t\t\tif (actionName === 'mute') {\n\t\t\t\treturn canMute && !this.state.showLockInput && !this.state.showBanInput && !this.state.showConfirm;\n\t\t\t}\n\t\t\tif (actionName === 'ban') {\n\t\t\t\treturn canBan && !this.state.showLockInput && !this.state.showMuteInput && !this.state.showConfirm;\n\t\t\t}\n\t\t\tif (actionName === 'lock') {\n\t\t\t\treturn canLock && !this.state.showBanInput && !this.state.showMuteInput && !this.state.showConfirm;\n\t\t\t}\n\t\t};\n\n\t\treturn <PSPanelWrapper room={room} width={280}><div class=\"pad\">\n\t\t\t<p>\n\t\t\t\t{this.isIgnoringUser(targetUser) ? (\n\t\t\t\t\t<button onClick={this.handleUnignore} class=\"button\">\n\t\t\t\t\t\tUnignore\n\t\t\t\t\t</button>\n\t\t\t\t) : (\n\t\t\t\t\t<button onClick={this.handleIgnore} class=\"button\">\n\t\t\t\t\t\tIgnore\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<button data-href={`view-help-request-report-user-${targetUser}`} class=\"button\">\n\t\t\t\t\tReport\n\t\t\t\t</button>\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t{this.state.requestSent ? (\n\t\t\t\t\t<button class=\"button disabled\">\n\t\t\t\t\t\tSent request\n\t\t\t\t\t</button>\n\t\t\t\t) : (\n\t\t\t\t\t<button onClick={this.handleAddFriend} class=\"button\">\n\t\t\t\t\t\tAdd friend\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t</p>\n\t\t\t{(canMute || canBan || canLock) && <hr />}\n\t\t\t{this.state.showConfirm && <p>\n\t\t\t\t<small>\n\t\t\t\t\t{this.state.data?.action} <b>{targetUser}</b> {}\n\t\t\t\t\t{!this.state.data?.action.endsWith('ock') ? <>from <b>{targetRoom?.title}</b></> : ''} for {this.state.data?.duration}?\n\t\t\t\t</small>\n\t\t\t\t<p class=\"buttonbar\">\n\t\t\t\t\t<button class=\"button\" onClick={this.handleConfirm}>\n\t\t\t\t\t\t<i class=\"fa fa-confirm\" aria-hidden></i> Confirm\n\t\t\t\t\t</button> {}\n\t\t\t\t\t<button class=\"button\" onClick={this.handleCancel}>\n\t\t\t\t\t\tCancel\n\t\t\t\t\t</button>\n\t\t\t\t</p>\n\t\t\t</p>}\n\t\t\t<p class=\"buttonbar\">\n\t\t\t\t{isVisible('mute') && (this.state.showMuteInput ? (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<label class=\"label\">\n\t\t\t\t\t\t\tReason: {}\n\t\t\t\t\t\t\t<input name=\"mutereason\" class=\"textbox autofocus\" placeholder=\"Mute reason (optional)\" />\n\t\t\t\t\t\t</label> {} <br />\n\t\t\t\t\t\t<button class=\"button\" onClick={this.muteUser} value=\"7min\">For 7 Mins</button> {}\n\t\t\t\t\t\t<button class=\"button\" onClick={this.muteUser} value=\"1hr\">For 1 Hour</button> {}\n\t\t\t\t\t\t<button class=\"button\" onClick={this.handleCancel}> Cancel</button>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<button class=\"button\" onClick={this.handleMute}>\n\t\t\t\t\t\t<i class=\"fa fa-hourglass-half\" aria-hidden></i> Mute\n\t\t\t\t\t</button>\n\t\t\t\t))} {}\n\t\t\t\t{isVisible('ban') && (this.state.showBanInput ? (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<label class=\"label\">\n\t\t\t\t\t\t\tReason: {}\n\t\t\t\t\t\t\t<input name=\"banreason\" class=\"textbox autofocus\" placeholder=\"Ban reason (optional)\" />\n\t\t\t\t\t\t</label><br />\n\t\t\t\t\t\t<button class=\"button\" onClick={this.banUser} value=\"2d\">For 2 Days</button> {}\n\t\t\t\t\t\t<button class=\"button\" onClick={this.banUser} value=\"1wk\">For 1 Week</button> {}\n\t\t\t\t\t\t<button class=\"button\" onClick={this.handleCancel}>Cancel</button>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<button class=\"button\" onClick={this.handleBan}>\n\t\t\t\t\t\t<i class=\"fa fa-gavel\" aria-hidden></i> Ban\n\t\t\t\t\t</button>\n\t\t\t\t))} {}\n\t\t\t\t{isVisible('lock') && (this.state.showLockInput ? (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<label class=\"label\">\n\t\t\t\t\t\t\tReason: {}\n\t\t\t\t\t\t\t<input name=\"lockreason\" class=\"textbox autofocus\" placeholder=\"Lock reason (optional)\" />\n\t\t\t\t\t\t</label><br />\n\t\t\t\t\t\t<button class=\"button\" onClick={this.lockUser} value=\"2d\">For 2 Days</button> {}\n\t\t\t\t\t\t<button class=\"button\" onClick={this.lockUser} value=\"1wk\">For 1 Week</button> {}\n\t\t\t\t\t\t<button class=\"button\" onClick={this.lockUser} value=\"nmlk\">Namelock</button> {}\n\t\t\t\t\t\t<button class=\"button\" onClick={this.handleCancel}>Cancel</button>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<button class=\"button\" onClick={this.handleLock}>\n\t\t\t\t\t\t<i class=\"fa fa-lock\" aria-hidden></i> Lock/Namelock\n\t\t\t\t\t</button>\n\t\t\t\t))}\n\t\t\t</p>\n\t\t</div></PSPanelWrapper>;\n\t}\n}\n\nclass UserListPanel extends PSRoomPanel {\n\tstatic readonly id = 'userlist';\n\tstatic readonly routes = ['userlist'];\n\tstatic readonly location = 'semimodal-popup';\n\tstatic readonly noURL = true;\n\toverride render() {\n\t\tconst room = this.props.room;\n\t\tconst parentRoom = room.getParent() as ChatRoom;\n\t\tif (parentRoom.type !== 'chat' && parentRoom.type !== 'battle') {\n\t\t\tthrow new Error(`UserListPanel: ${room.id} is not a chat room`);\n\t\t}\n\n\t\treturn <PSPanelWrapper room={room} width={280}><div class=\"pad\">\n\t\t\t<ChatUserList room={parentRoom} static />\n\t\t</div></PSPanelWrapper>;\n\t}\n}\n\nclass VolumePanel extends PSRoomPanel {\n\tstatic readonly id = 'volume';\n\tstatic readonly routes = ['volume'];\n\tstatic readonly location = 'popup';\n\n\tsetVolume = (e: Event) => {\n\t\tconst slider = e.currentTarget as HTMLInputElement;\n\t\tPS.prefs.set(slider.name as 'effectvolume', Number(slider.value));\n\t\tthis.forceUpdate();\n\t};\n\tsetMute = (e: Event) => {\n\t\tconst checkbox = e.currentTarget as HTMLInputElement;\n\t\tPS.prefs.set('mute', !!checkbox.checked);\n\t\tPS.update();\n\t};\n\toverride componentDidMount() {\n\t\tsuper.componentDidMount();\n\t\tthis.subscriptions.push(PS.prefs.subscribe(() => {\n\t\t\tthis.forceUpdate();\n\t\t}));\n\t}\n\toverride render() {\n\t\tconst room = this.props.room;\n\t\treturn <PSPanelWrapper room={room}><div class=\"pad\">\n\t\t\t<h3>Volume</h3>\n\t\t\t<p class=\"volume\">\n\t\t\t\t<label class=\"optlabel\">\n\t\t\t\t\tEffects: <span class=\"value\">{!PS.prefs.mute && PS.prefs.effectvolume ? `${PS.prefs.effectvolume}%` : `-`}</span>\n\t\t\t\t</label>\n\t\t\t\t{PS.prefs.mute ?\n\t\t\t\t\t<em>(muted)</em> :\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"range\" min=\"0\" max=\"100\" step=\"1\" name=\"effectvolume\" value={PS.prefs.effectvolume}\n\t\t\t\t\t\tonChange={this.setVolume} onInput={this.setVolume} onKeyUp={this.setVolume}\n\t\t\t\t\t/>}\n\t\t\t</p>\n\t\t\t<p class=\"volume\">\n\t\t\t\t<label class=\"optlabel\">\n\t\t\t\t\tMusic: <span class=\"value\">{!PS.prefs.mute && PS.prefs.musicvolume ? `${PS.prefs.musicvolume}%` : `-`}</span>\n\t\t\t\t</label>\n\t\t\t\t{PS.prefs.mute ?\n\t\t\t\t\t<em>(muted)</em> :\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"range\" min=\"0\" max=\"100\" step=\"1\" name=\"musicvolume\" value={PS.prefs.musicvolume}\n\t\t\t\t\t\tonChange={this.setVolume} onInput={this.setVolume} onKeyUp={this.setVolume}\n\t\t\t\t\t/>}\n\t\t\t</p>\n\t\t\t<p class=\"volume\">\n\t\t\t\t<label class=\"optlabel\">\n\t\t\t\t\tNotifications: {}\n\t\t\t\t\t<span class=\"value\">{!PS.prefs.mute && PS.prefs.notifvolume ? `${PS.prefs.notifvolume}%` : `-`}</span>\n\t\t\t\t</label>\n\t\t\t\t{PS.prefs.mute ?\n\t\t\t\t\t<em>(muted)</em> :\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"range\" min=\"0\" max=\"100\" step=\"1\" name=\"notifvolume\" value={PS.prefs.notifvolume}\n\t\t\t\t\t\tonChange={this.setVolume} onInput={this.setVolume} onKeyUp={this.setVolume}\n\t\t\t\t\t/>}\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<label class=\"checkbox\">\n\t\t\t\t\t<input type=\"checkbox\" name=\"mute\" checked={PS.prefs.mute} onChange={this.setMute} /> Mute all\n\t\t\t\t</label>\n\t\t\t</p>\n\t\t</div></PSPanelWrapper>;\n\t}\n}\n\nclass OptionsPanel extends PSRoomPanel {\n\tstatic readonly id = 'options';\n\tstatic readonly routes = ['options'];\n\tstatic readonly location = 'semimodal-popup';\n\tdeclare state: { showStatusInput?: boolean, showStatusUpdated?: boolean };\n\n\toverride componentDidMount() {\n\t\tsuper.componentDidMount();\n\t\tthis.subscribeTo(PS.user);\n\t}\n\tsetTheme = (e: Event) => {\n\t\tconst theme = (e.currentTarget as HTMLSelectElement).value as 'light' | 'dark' | 'system';\n\t\tPS.prefs.set('theme', theme);\n\t\tthis.forceUpdate();\n\t};\n\tsetLayout = (e: Event) => {\n\t\tconst layout = (e.currentTarget as HTMLSelectElement).value;\n\t\tswitch (layout) {\n\t\tcase '':\n\t\t\tPS.prefs.set('onepanel', null);\n\t\t\tPS.rightPanel ||= PS.rooms['rooms'] || null;\n\t\t\tbreak;\n\t\tcase 'onepanel':\n\t\t\tPS.prefs.set('onepanel', true);\n\t\t\tbreak;\n\t\tcase 'vertical':\n\t\t\tPS.prefs.set('onepanel', 'vertical');\n\t\t\tbreak;\n\t\t}\n\t\tPS.update();\n\t};\n\tsetChatroomTimestamp = (ev: Event) => {\n\t\tconst timestamp = (ev.currentTarget as HTMLSelectElement).value as TimestampOptions;\n\t\tPS.prefs.set('timestamps', { ...PS.prefs.timestamps, chatrooms: timestamp || undefined });\n\t};\n\tsetPMsTimestamp = (ev: Event) => {\n\t\tconst timestamp = (ev.currentTarget as HTMLSelectElement).value as TimestampOptions;\n\t\tPS.prefs.set('timestamps', { ...PS.prefs.timestamps, pms: timestamp || undefined });\n\t};\n\n\thandleShowStatusInput = (ev: Event) => {\n\t\tev.preventDefault();\n\t\tev.stopImmediatePropagation();\n\t\tthis.setState({ showStatusInput: !this.state.showStatusInput });\n\t};\n\n\thandleOnChange = (ev: Event) => {\n\t\tlet elem = ev.currentTarget as HTMLInputElement;\n\t\tlet setting = elem.name;\n\t\tlet value = elem.checked;\n\t\tswitch (setting) {\n\t\tcase 'blockPMs': {\n\t\t\tPS.prefs.set(\"blockPMs\", value);\n\t\t\tPS.send(value ? '/blockpms' : '/unblockpms');\n\t\t\tbreak;\n\t\t}\n\t\tcase 'blockChallenges': {\n\t\t\tPS.prefs.set(\"blockChallenges\", value);\n\t\t\tPS.send(value ? '/blockchallenges' : '/unblockchallenges');\n\t\t\tbreak;\n\t\t}\n\t\tcase 'bwgfx': {\n\t\t\tPS.prefs.set('bwgfx', value);\n\t\t\tDex.loadSpriteData(value || PS.prefs.noanim ? 'bw' : 'xy');\n\t\t\tbreak;\n\t\t}\n\t\tcase 'language': {\n\t\t\tPS.prefs.set(setting, elem.value);\n\t\t\tPS.send(`/language ${elem.value}`);\n\t\t\tbreak;\n\t\t}\n\t\tcase 'tournaments': {\n\t\t\tPS.prefs.set(setting, !elem.value ? null : elem.value as 'hide' | 'notify');\n\t\t\tbreak;\n\t\t}\n\t\tcase 'refreshprompt':\n\t\tcase 'noanim':\n\t\tcase 'nopastgens':\n\t\tcase 'noselfhighlight':\n\t\tcase 'leavePopupRoom':\n\t\tcase 'inchatpm':\n\t\t\tPS.prefs.set(setting, value);\n\t\t\tbreak;\n\t\t}\n\t};\n\n\teditStatus = (ev: Event) => {\n\t\tconst statusInput = this.base!.querySelector<HTMLInputElement>('input[name=statustext]');\n\t\tPS.send(statusInput?.value?.length ? `/status ${statusInput.value}` : `/clearstatus`);\n\t\tthis.setState({ showStatusUpdated: true, showStatusInput: false });\n\t\tev.preventDefault();\n\t\tev.stopImmediatePropagation();\n\t};\n\n\toverride render() {\n\t\tconst room = this.props.room;\n\t\treturn <PSPanelWrapper room={room}><div class=\"pad\">\n\t\t\t<p>\n\t\t\t\t<img\n\t\t\t\t\tclass=\"trainersprite yours\" width=\"40\" height=\"40\" style={{ verticalAlign: 'middle' }}\n\t\t\t\t\tsrc={Dex.resolveAvatar(`${PS.user.avatar}`)} data-href=\"avatars\"\n\t\t\t\t/> {}\n\t\t\t\t<strong>{PS.user.name}</strong>\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<button class=\"button\" data-href=\"avatars\"> Avatar...</button>\n\t\t\t</p>\n\n\t\t\t{this.state.showStatusInput ? (\n\t\t\t\t<p>\n\t\t\t\t\t<input name=\"statustext\" />\n\t\t\t\t\t<button class=\"button\" onClick={this.editStatus}><i class=\"fa fa-pencil\" aria-hidden></i></button>\n\t\t\t\t</p>\n\t\t\t) : (\n\t\t\t\t<p>\n\t\t\t\t\t<button class=\"button\" onClick={this.handleShowStatusInput} disabled={this.state.showStatusUpdated}>\n\t\t\t\t\t\t{this.state.showStatusUpdated ? 'Status Updated' : 'Status...'}</button>\n\t\t\t\t</p>\n\t\t\t)}\n\n\t\t\t{PS.user.named && (PS.user.registered?.userid === PS.user.userid ?\n\t\t\t\t<button className=\"button\" data-href=\"changepassword\">Password...</button> :\n\t\t\t\t<button className=\"button\" data-href=\"register\">Register</button>)}\n\n\t\t\t<hr />\n\t\t\t<h3>Graphics</h3>\n\t\t\t<p>\n\t\t\t\t<label class=\"optlabel\">Theme: <select name=\"theme\" class=\"button\" onChange={this.setTheme}>\n\t\t\t\t\t<option value=\"light\" selected={PS.prefs.theme === 'light'}>Light</option>\n\t\t\t\t\t<option value=\"dark\" selected={PS.prefs.theme === 'dark'}>Dark</option>\n\t\t\t\t\t<option value=\"system\" selected={PS.prefs.theme === 'system'}>Match system theme</option>\n\t\t\t\t</select></label>\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<label class=\"optlabel\">Layout: <select name=\"layout\" class=\"button\" onChange={this.setLayout}>\n\t\t\t\t\t<option value=\"\" selected={!PS.prefs.onepanel}>Two panels (if wide enough)</option>\n\t\t\t\t\t<option value=\"onepanel\" selected={PS.prefs.onepanel === true}>Single panel</option>\n\t\t\t\t\t<option value=\"vertical\" selected={PS.prefs.onepanel === 'vertical'}>Vertical tabs</option>\n\t\t\t\t</select></label>\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<label class=\"optlabel\">\n\t\t\t\t\tBackground: <button class=\"button\" data-href=\"changebackground\">\n\t\t\t\t\t\tChange Background\n\t\t\t\t\t</button>\n\t\t\t\t</label>\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<label class=\"checkbox\"> <input\n\t\t\t\t\tname=\"noanim\" checked={PS.prefs.noanim || false} type=\"checkbox\" onChange={this.handleOnChange}\n\t\t\t\t/> Disable animations</label>\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<label class=\"checkbox\"><input\n\t\t\t\t\tname=\"bwgfx\" checked={PS.prefs.bwgfx || false} type=\"checkbox\" onChange={this.handleOnChange}\n\t\t\t\t/>  Use 2D sprites instead of 3D models</label>\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<label class=\"checkbox\"><input\n\t\t\t\t\tname=\"nopastgens\" checked={PS.prefs.nopastgens || false} type=\"checkbox\" onChange={this.handleOnChange}\n\t\t\t\t/> Use modern sprites for past generations</label>\n\t\t\t</p>\n\t\t\t<hr />\n\t\t\t<h3>Chat</h3>\n\t\t\t<p>\n\t\t\t\t<label class=\"checkbox\"><input\n\t\t\t\t\tname=\"blockPMs\" checked={PS.prefs.blockPMs || false} type=\"checkbox\" onChange={this.handleOnChange}\n\t\t\t\t/> Block PMs</label>\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<label class=\"checkbox\"><input\n\t\t\t\t\tname=\"blockChallenges\" checked={PS.prefs.blockChallenges || false} type=\"checkbox\" onChange={this.handleOnChange}\n\t\t\t\t/> Block challenges</label>\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<label class=\"checkbox\"><input\n\t\t\t\t\tname=\"inchatpm\" checked={PS.prefs.inchatpm || false} type=\"checkbox\" onChange={this.handleOnChange}\n\t\t\t\t/> Show PMs in chatrooms</label>\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<label class=\"checkbox\"><input\n\t\t\t\t\tname=\"noselfhighlight\" checked={PS.prefs.noselfhighlight || false} type=\"checkbox\" onChange={this.handleOnChange}\n\t\t\t\t/> Do not highlight when your name is said in chat</label>\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<label class=\"checkbox\"><input\n\t\t\t\t\tname=\"leavePopupRoom\" checked={PS.prefs.leavePopupRoom || false} type=\"checkbox\" onChange={this.handleOnChange}\n\t\t\t\t/> Confirm before leaving a room</label>\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<label class=\"checkbox\"><input\n\t\t\t\t\tname=\"refreshprompt\" checked={PS.prefs.refreshprompt || false} type=\"checkbox\" onChange={this.handleOnChange}\n\t\t\t\t/> Confirm before refreshing</label>\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<label class=\"optlabel\">\n\t\t\t\t\tLanguage: {}\n\t\t\t\t\t<select name=\"language\" onChange={this.handleOnChange} class=\"button\">\n\t\t\t\t\t\t<option value=\"german\" selected={PS.prefs.language === \"german\"}>Deutsch</option>\n\t\t\t\t\t\t<option value=\"english\" selected={PS.prefs.language === \"english\"}>English</option>\n\t\t\t\t\t\t<option value=\"spanish\" selected={PS.prefs.language === \"spanish\"}>Español</option>\n\t\t\t\t\t\t<option value=\"french\" selected={PS.prefs.language === \"french\"}>Français</option>\n\t\t\t\t\t\t<option value=\"italian\" selected={PS.prefs.language === \"italian\"}>Italiano</option>\n\t\t\t\t\t\t<option value=\"dutch\" selected={PS.prefs.language === \"dutch\"}>Nederlands</option>\n\t\t\t\t\t\t<option value=\"portuguese\" selected={PS.prefs.language === \"portuguese\"}>Português</option>\n\t\t\t\t\t\t<option value=\"turkish\" selected={PS.prefs.language === \"turkish\"}>Türkçe</option>\n\t\t\t\t\t\t<option value=\"hindi\" selected={PS.prefs.language === \"hindi\"}>हिंदी</option>\n\t\t\t\t\t\t<option value=\"japanese\" selected={PS.prefs.language === \"japanese\"}>日本語</option>\n\t\t\t\t\t\t<option value=\"simplifiedchinese\" selected={PS.prefs.language === \"simplifiedchinese\"}>简体中文</option>\n\t\t\t\t\t\t<option value=\"traditionalchinese\" selected={PS.prefs.language === \"traditionalchinese\"}>中文</option>\n\t\t\t\t\t</select>\n\t\t\t\t</label>\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<label class=\"optlabel\">\n\t\t\t\t\tTournaments: <select name=\"tournaments\" class=\"button\" onChange={this.handleOnChange}>\n\t\t\t\t\t\t<option value=\"\" selected={!PS.prefs.tournaments}>Notify when joined</option>\n\t\t\t\t\t\t<option value=\"notify\" selected={PS.prefs.tournaments === \"notify\"}>Always notify</option>\n\t\t\t\t\t\t<option value=\"hide\" selected={PS.prefs.tournaments === \"hide\"}>Hide</option>\n\t\t\t\t\t</select>\n\t\t\t\t</label>\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<label class=\"optlabel\">Timestamps: <select name=\"layout\" class=\"button\" onChange={this.setChatroomTimestamp}>\n\t\t\t\t\t<option value=\"\" selected={!PS.prefs.timestamps.chatrooms}>Off</option>\n\t\t\t\t\t<option value=\"minutes\" selected={PS.prefs.timestamps.chatrooms === \"minutes\"}>[HH:MM]</option>\n\t\t\t\t\t<option value=\"seconds\" selected={PS.prefs.timestamps.chatrooms === \"seconds\"}>[HH:MM:SS]</option>\n\t\t\t\t</select></label>\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<label class=\"optlabel\">Timestamps in DMs: <select name=\"layout\" class=\"button\" onChange={this.setPMsTimestamp}>\n\t\t\t\t\t<option value=\"\" selected={!PS.prefs.timestamps.pms}>Off</option>\n\t\t\t\t\t<option value=\"minutes\" selected={PS.prefs.timestamps.pms === \"minutes\"}>[HH:MM]</option>\n\t\t\t\t\t<option value=\"seconds\" selected={PS.prefs.timestamps.pms === \"seconds\"}>[HH:MM:SS]</option>\n\t\t\t\t</select></label>\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<label class=\"optlabel\">\n\t\t\t\t\tChat preferences: {}\n\t\t\t\t\t<button class=\"button\" data-href=\"chatformatting\">Text formatting...</button>\n\t\t\t\t</label>\n\t\t\t</p>\n\t\t\t<hr />\n\t\t\t{PS.user.named ? <p class=\"buttonbar\" style=\"text-align: right\">\n\t\t\t\t<button class=\"button\" data-href=\"login\"><i class=\"fa fa-pencil\" aria-hidden></i> Change name</button> {}\n\t\t\t\t<button class=\"button\" data-cmd=\"/logout\"><i class=\"fa fa-power-off\" aria-hidden></i> Log out</button>\n\t\t\t</p> : <p class=\"buttonbar\" style=\"text-align: right\">\n\t\t\t\t<button class=\"button\" data-href=\"login\"><i class=\"fa fa-pencil\" aria-hidden></i> Choose name</button>\n\t\t\t</p> }\n\t\t</div></PSPanelWrapper>;\n\t}\n}\n\nclass GooglePasswordBox extends preact.Component<{ name: string }> {\n\toverride componentDidMount() {\n\t\twindow.gapiCallback = (response: any) => {\n\t\t\tPS.user.changeNameWithPassword(this.props.name, response.credential, { needsGoogle: true });\n\t\t};\n\n\t\tPS.user.gapiLoaded = true;\n\t\tconst script = document.createElement('script');\n\t\tscript.async = true;\n\t\tscript.src = 'https://accounts.google.com/gsi/client';\n\t\tdocument.getElementsByTagName('head')[0].appendChild(script);\n\t}\n\toverride render() {\n\t\treturn <div class=\"google-password-box\">\n\t\t\t<div\n\t\t\t\tid=\"g_id_onload\" data-client_id=\"912270888098-jjnre816lsuhc5clj3vbcn4o2q7p4qvk.apps.googleusercontent.com\"\n\t\t\t\tdata-context=\"signin\" data-ux_mode=\"popup\" data-callback=\"gapiCallback\" data-auto_prompt=\"false\"\n\t\t\t></div>\n\t\t\t<div\n\t\t\t\tclass=\"g_id_signin\" data-type=\"standard\" data-shape=\"pill\" data-theme=\"filled_blue\" data-text=\"continue_with\"\n\t\t\t\tdata-size=\"large\" data-logo_alignment=\"left\" data-auto_select=\"true\" data-itp_support=\"true\"\n\t\t\t\tstyle=\"width:fit-content;margin:0 auto\"\n\t\t\t>[loading Google log-in button]</div>\n\t\t</div>;\n\t}\n}\n\nclass LoginPanel extends PSRoomPanel {\n\tstatic readonly id = 'login';\n\tstatic readonly routes = ['login'];\n\tstatic readonly location = 'semimodal-popup';\n\tdeclare state: { passwordShown?: boolean };\n\n\toverride componentDidMount() {\n\t\tsuper.componentDidMount();\n\t\tthis.subscriptions.push(PS.user.subscribe(args => {\n\t\t\tif (args) {\n\t\t\t\tif (args.success) {\n\t\t\t\t\tthis.close();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.props.room.args = args;\n\t\t\t\tsetTimeout(() => this.focus(), 1);\n\t\t\t}\n\t\t\tthis.forceUpdate();\n\t\t}));\n\t}\n\tgetUsername() {\n\t\tconst loginName = PS.user.loggingIn || this.props.room.args?.name as string;\n\t\tif (loginName) return loginName;\n\n\t\tconst input = this.base?.querySelector<HTMLInputElement>('input[name=username]');\n\t\tif (input && !input.disabled) {\n\t\t\treturn input.value;\n\t\t}\n\t\treturn PS.user.named ? PS.user.name : '';\n\t}\n\thandleSubmit = (ev: Event) => {\n\t\tev.preventDefault();\n\t\tconst passwordBox = this.base!.querySelector<HTMLInputElement>('input[name=password]');\n\t\tif (passwordBox) {\n\t\t\tPS.user.changeNameWithPassword(this.getUsername(), passwordBox.value);\n\t\t} else {\n\t\t\tPS.user.changeName(this.getUsername());\n\t\t}\n\t};\n\tupdate = () => {\n\t\tthis.forceUpdate();\n\t};\n\toverride focus() {\n\t\tconst passwordBox = this.base!.querySelector<HTMLInputElement>('input[name=password]');\n\t\tconst usernameBox = this.base!.querySelector<HTMLInputElement>('input[name=username]');\n\t\t(passwordBox || usernameBox)?.select();\n\t}\n\treset = (ev: Event) => {\n\t\tev.preventDefault();\n\t\tev.stopImmediatePropagation();\n\t\tthis.props.room.args = null;\n\t\tthis.forceUpdate();\n\t};\n\thandleShowPassword = (ev: Event) => {\n\t\tev.preventDefault();\n\t\tev.stopImmediatePropagation();\n\t\tthis.setState({ passwordShown: !this.state.passwordShown });\n\t};\n\toverride render() {\n\t\tconst room = this.props.room;\n\t\tconst loginState = room.args as PSLoginState;\n\t\treturn <PSPanelWrapper room={room} width={280}><div class=\"pad\">\n\t\t\t<h3>Log in</h3>\n\t\t\t<form onSubmit={this.handleSubmit}>\n\t\t\t\t{loginState?.error && <p class=\"error\">{loginState.error}</p>}\n\t\t\t\t<p><label class=\"label\">\n\t\t\t\t\tUsername: <small class=\"preview\" style={`color:${BattleLog.usernameColor(toID(this.getUsername()))}`}>(color)</small>\n\t\t\t\t\t<input\n\t\t\t\t\t\tclass=\"textbox\" type=\"text\" name=\"username\"\n\t\t\t\t\t\tonInput={this.update} onChange={this.update} autocomplete=\"username\"\n\t\t\t\t\t\tvalue={this.getUsername()} disabled={!!PS.user.loggingIn || !!loginState?.name}\n\t\t\t\t\t/>\n\t\t\t\t</label></p>\n\t\t\t\t{PS.user.named && !loginState && <p>\n\t\t\t\t\t<small>(Others will be able to see your name change. To change name privately, use \"Log out\")</small>\n\t\t\t\t</p>}\n\t\t\t\t{loginState?.needsPassword && <p>\n\t\t\t\t\t<i class=\"fa fa-level-up fa-rotate-90\" aria-hidden></i> <strong>if you registered this name:</strong>\n\t\t\t\t\t<label class=\"label\">\n\t\t\t\t\t\tPassword: {}\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclass=\"textbox\" type={this.state.passwordShown ? 'text' : 'password'} name=\"password\"\n\t\t\t\t\t\t\tautocomplete=\"current-password\" style=\"width:173px\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\" onClick={this.handleShowPassword} aria-label=\"Show password\"\n\t\t\t\t\t\t\tclass=\"button\" style=\"float:right;margin:-21px 0 10px;padding: 2px 6px\"\n\t\t\t\t\t\t><i class=\"fa fa-eye\" aria-hidden></i></button>\n\t\t\t\t\t</label>\n\t\t\t\t</p>}\n\t\t\t\t{loginState?.needsGoogle && <>\n\t\t\t\t\t<p><i class=\"fa fa-level-up fa-rotate-90\" aria-hidden></i> <strong>if you registered this name:</strong></p>\n\t\t\t\t\t<p><GooglePasswordBox name={this.getUsername()} /></p>\n\t\t\t\t</>}\n\t\t\t\t<p class=\"buttonbar\">\n\t\t\t\t\t{PS.user.loggingIn ? (\n\t\t\t\t\t\t<button disabled class=\"cur\">Logging in...</button>\n\t\t\t\t\t) : loginState?.needsPassword ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<button type=\"submit\" class=\"button\"><strong>Log in</strong></button> {}\n\t\t\t\t\t\t\t<button type=\"button\" onClick={this.reset} class=\"button\">Cancel</button>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) : loginState?.needsGoogle ? (\n\t\t\t\t\t\t<button type=\"button\" onClick={this.reset} class=\"button\">Cancel</button>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<button type=\"submit\" class=\"button\"><strong>Choose name</strong></button> {}\n\t\t\t\t\t\t\t<button type=\"button\" name=\"closeRoom\" class=\"button\">Cancel</button>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)} {}\n\t\t\t\t</p>\n\t\t\t\t{loginState?.name && <div>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<i class=\"fa fa-level-up fa-rotate-90\" aria-hidden></i> <strong>if not:</strong>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p style={{ maxWidth: '210px', margin: '0 auto' }}>\n\t\t\t\t\t\tThis is someone else's account. Sorry.\n\t\t\t\t\t</p>\n\t\t\t\t\t<p class=\"buttonbar\">\n\t\t\t\t\t\t<button class=\"button\" onClick={this.reset}>Try another name</button>\n\t\t\t\t\t</p>\n\t\t\t\t</div>}\n\t\t\t</form>\n\t\t</div></PSPanelWrapper>;\n\t}\n}\n\nclass AvatarsPanel extends PSRoomPanel {\n\tstatic readonly id = 'avatars';\n\tstatic readonly routes = ['avatars'];\n\tstatic readonly location = 'semimodal-popup';\n\n\toverride render() {\n\t\tconst room = this.props.room;\n\n\t\tconst avatars: [number, string][] = [];\n\t\tfor (let i = 1; i <= 293; i++) {\n\t\t\tif (i === 162 || i === 168) continue;\n\t\t\tavatars.push([i, window.BattleAvatarNumbers?.[i] || `${i}`]);\n\t\t}\n\n\t\treturn <PSPanelWrapper room={room} width={1210}><div class=\"pad\">\n\t\t\t<label class=\"optlabel\"><strong>Choose an avatar or </strong>\n\t\t\t\t<button class=\"button\" data-cmd=\"/close\"> Cancel</button>\n\t\t\t</label>\n\t\t\t<div class=\"avatarlist\">\n\t\t\t\t{avatars.map(([i, avatar]) => (\n\t\t\t\t\t<button\n\t\t\t\t\t\tdata-cmd={`/closeand /avatar ${avatar}`} title={`/avatar ${avatar}`}\n\t\t\t\t\t\tclass={`option pixelated${avatar === PS.user.avatar ? ' cur' : ''}`}\n\t\t\t\t\t\tstyle={`background-position: -${((i - 1) % 16) * 80 + 1}px -${Math.floor((i - 1) / 16) * 80 + 1}px`}\n\t\t\t\t\t></button>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t\t<div style=\"clear:left\"></div>\n\t\t\t<p><button class=\"button\" data-cmd=\"/close\">Cancel</button></p>\n\t\t</div></PSPanelWrapper>;\n\t}\n}\n\nclass BattleForfeitPanel extends PSRoomPanel {\n\tstatic readonly id = 'forfeit';\n\tstatic readonly routes = ['forfeitbattle'];\n\tstatic readonly location = 'semimodal-popup';\n\tstatic readonly noURL = true;\n\n\toverride render() {\n\t\tconst room = this.props.room;\n\t\tconst battleRoom = room.getParent() as BattleRoom;\n\n\t\treturn <PSPanelWrapper room={room} width={480}><div class=\"pad\">\n\t\t\t<p>Forfeiting makes you lose the battle. Are you sure?</p>\n\t\t\t<p>\n\t\t\t\t<button data-cmd=\"/closeand /inopener /closeand /forfeit\" class=\"button\"><strong>Forfeit and close</strong></button> {}\n\t\t\t\t<button data-cmd=\"/closeand /inopener /forfeit\" class=\"button\">Just forfeit</button> {}\n\t\t\t\t{!battleRoom.battle.rated && <button type=\"button\" data-href=\"replaceplayer\" class=\"button\">\n\t\t\t\t\tReplace player\n\t\t\t\t</button>} {}\n\t\t\t\t<button type=\"button\" data-cmd=\"/close\" class=\"button\">\n\t\t\t\t\tCancel\n\t\t\t\t</button>\n\t\t\t</p>\n\t\t</div></PSPanelWrapper>;\n\t}\n}\n\nclass ReplacePlayerPanel extends PSRoomPanel {\n\tstatic readonly id = 'replaceplayer';\n\tstatic readonly routes = ['replaceplayer'];\n\tstatic readonly location = 'semimodal-popup';\n\tstatic readonly noURL = true;\n\n\thandleReplacePlayer = (ev: Event) => {\n\t\tconst room = this.props.room;\n\t\tconst battleRoom = room.getParent()?.getParent() as BattleRoom;\n\t\tconst newPlayer = this.base?.querySelector<HTMLInputElement>(\"input[name=newplayer]\")?.value;\n\t\tif (!newPlayer?.length) return battleRoom.add(\"|error|Enter player's name\");\n\t\tif (battleRoom.battle.ended) return battleRoom.add(\"|error|Cannot replace player, battle has already ended.\");\n\t\tlet playerSlot = battleRoom.battle.p1.id === PS.user.userid ? \"p1\" : \"p2\";\n\t\tbattleRoom.send('/leavebattle');\n\t\tbattleRoom.send(`/addplayer ${newPlayer}, ${playerSlot}`);\n\t\tthis.close();\n\t\tev.preventDefault();\n\t};\n\n\toverride render() {\n\t\tconst room = this.props.room;\n\n\t\treturn <PSPanelWrapper room={room} width={480}><div class=\"pad\">\n\t\t\t<form onSubmit={this.handleReplacePlayer}>\n\t\t\t\t<p>Replacement player's name:</p>\n\t\t\t\t<p>\n\t\t\t\t\t<input name=\"newplayer\" class=\"textbox autofocus\" />\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\t<button type=\"submit\" class=\"button\">\n\t\t\t\t\t\t<strong>Replace</strong>\n\t\t\t\t\t</button> {}\n\t\t\t\t\t<button type=\"button\" data-cmd=\"/close\" class=\"button\">\n\t\t\t\t\t\tCancel\n\t\t\t\t\t</button>\n\t\t\t\t</p>\n\t\t\t</form>\n\t\t</div></PSPanelWrapper>;\n\t}\n}\n\nclass ChangePasswordPanel extends PSRoomPanel {\n\tstatic readonly id = \"changepassword\";\n\tstatic readonly routes = [\"changepassword\"];\n\tstatic readonly location = \"semimodal-popup\";\n\tstatic readonly noURL = true;\n\n\tdeclare state: { errorMsg: string };\n\n\thandleChangePassword = (ev: Event) => {\n\t\tev.preventDefault();\n\t\tlet oldpassword = this.base?.querySelector<HTMLInputElement>('input[name=oldpassword]')?.value;\n\t\tlet password = this.base?.querySelector<HTMLInputElement>('input[name=password]')?.value;\n\t\tlet cpassword = this.base?.querySelector<HTMLInputElement>('input[name=cpassword]')?.value;\n\t\tif (!oldpassword?.length ||\n\t\t\t!password?.length ||\n\t\t\t!cpassword?.length) return this.setState({ errorMsg: \"All fields are required\" });\n\t\tif (password !== cpassword) return this.setState({ errorMsg: 'Passwords do not match' });\n\t\tPSLoginServer.query(\"changepassword\", {\n\t\t\toldpassword,\n\t\t\tpassword,\n\t\t\tcpassword,\n\t\t}).then(data => {\n\t\t\tif (data?.actionerror) return this.setState({ errorMsg: data?.actionerror });\n\t\t\tPS.alert(\"Your password was successfully changed!\");\n\n\t\t}).catch(err => {\n\t\t\tconsole.error(err);\n\t\t\tthis.setState({ errorMsg: err.message });\n\t\t});\n\n\t\tthis.setState({ errorMsg: '' });\n\t};\n\n\toverride render() {\n\t\tconst room = this.props.room;\n\n\t\treturn <PSPanelWrapper room={room} width={280}><div class=\"pad\">\n\t\t\t<form onSubmit={this.handleChangePassword}>\n\t\t\t\t{ !!this.state.errorMsg?.length && <p>\n\t\t\t\t\t<b class=\"message-error\"> {this.state.errorMsg}</b>\n\t\t\t\t</p> }\n\t\t\t\t<p>Change your password:</p>\n\t\t\t\t<p>\n\t\t\t\t\t<label class=\"label\">\n\t\t\t\t\t\tUsername: {}\n\t\t\t\t\t\t<input name=\"username\" value={PS.user.name} readOnly={true} autocomplete=\"username\" class=\"textbox disabled\" />\n\t\t\t\t\t</label>\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\t<label class=\"label\">\n\t\t\t\t\t\tOld password: {}\n\t\t\t\t\t\t<input name=\"oldpassword\" type=\"password\" autocomplete=\"current-password\" class=\"textbox autofocus\" />\n\t\t\t\t\t</label>\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\t<label class=\"label\">\n\t\t\t\t\t\tNew password: {}\n\t\t\t\t\t\t<input name=\"password\" type=\"password\" autocomplete=\"new-password\" class=\"textbox\" />\n\t\t\t\t\t</label>\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\t<label class=\"label\">\n\t\t\t\t\t\tNew password (confirm): {}\n\t\t\t\t\t\t<input name=\"cpassword\" type=\"password\" autocomplete=\"new-password\" class=\"textbox\" />\n\t\t\t\t\t</label>\n\t\t\t\t</p>\n\t\t\t\t<p class=\"buttonbar\">\n\t\t\t\t\t<button type=\"submit\" class=\"button\">\n\t\t\t\t\t\t<strong>Change password</strong>\n\t\t\t\t\t</button> {}\n\t\t\t\t\t<button type=\"button\" data-cmd=\"/close\" class=\"button\">Cancel</button>\n\t\t\t\t</p>\n\t\t\t</form>\n\t\t</div>\n\t\t</PSPanelWrapper>;\n\t}\n}\n\nclass RegisterPanel extends PSRoomPanel {\n\tstatic readonly id = \"register\";\n\tstatic readonly routes = [\"register\"];\n\tstatic readonly location = \"semimodal-popup\";\n\tstatic readonly noURL = true;\n\tstatic readonly rightPopup = true;\n\n\tdeclare state: { errorMsg: string };\n\n\thandleRegisterUser = (ev: Event) => {\n\t\tev.preventDefault();\n\t\tlet captcha = this.base?.querySelector<HTMLInputElement>('input[name=captcha]')?.value;\n\t\tlet password = this.base?.querySelector<HTMLInputElement>('input[name=password]')?.value;\n\t\tlet cpassword = this.base?.querySelector<HTMLInputElement>('input[name=cpassword]')?.value;\n\t\tif (!captcha?.length ||\n\t\t\t!password?.length ||\n\t\t\t!cpassword?.length) return this.setState({ errorMsg: \"All fields are required\" });\n\t\tif (password !== cpassword) return this.setState({ errorMsg: 'Passwords do not match' });\n\t\tPSLoginServer.query(\"register\", {\n\t\t\tcaptcha,\n\t\t\tpassword,\n\t\t\tcpassword,\n\t\t\tusername: PS.user.name,\n\t\t\tchallstr: PS.user.challstr,\n\t\t}).then(data => {\n\t\t\tif (data?.actionerror) this.setState({ errorMsg: data?.actionerror });\n\t\t\tif (data?.curuser?.loggedin) {\n\t\t\t\tlet name = data.curuser.username;\n\t\t\t\tPS.user.registered = { name, userid: toID(name) };\n\t\t\t\tif (data?.assertion) PS.user.handleAssertion(name, data?.assertion);\n\t\t\t\tthis.close();\n\t\t\t\tPS.alert(\"You have been successfully registered.\");\n\t\t\t}\n\t\t}).catch(err => {\n\t\t\tconsole.error(err);\n\t\t\tthis.setState({ errorMsg: err.message });\n\t\t});\n\n\t\tthis.setState({ errorMsg: '' });\n\t};\n\n\toverride render() {\n\t\tconst room = this.props.room;\n\n\t\treturn <PSPanelWrapper room={room} width={280}><div class=\"pad\">\n\t\t\t<form onSubmit={this.handleRegisterUser}>\n\t\t\t\t{ !!this.state.errorMsg?.length && <p>\n\t\t\t\t\t<b class=\"message-error\"> {this.state.errorMsg}</b>\n\t\t\t\t</p> }\n\t\t\t\t<p>Register your account:</p>\n\t\t\t\t<p>\n\t\t\t\t\t<label class=\"label\">\n\t\t\t\t\t\tUsername: {}\n\t\t\t\t\t\t<input name=\"name\" value={PS.user.name} readOnly={true} autocomplete=\"username\" class=\"textbox disabled\" />\n\t\t\t\t\t</label>\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\t<label class=\"label\">\n\t\t\t\t\t\tPassword: {}\n\t\t\t\t\t\t<input name=\"password\" type=\"password\" autocomplete=\"new-password\" class=\"textbox autofocus\" />\n\t\t\t\t\t</label>\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\t<label class=\"label\">\n\t\t\t\t\t\tPassword (confirm): {}\n\t\t\t\t\t\t<input name=\"cpassword\" type=\"password\" autocomplete=\"new-password\" class=\"textbox\" />\n\t\t\t\t\t</label>\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\t<label class=\"label\"><img\n\t\t\t\t\t\tsrc=\"https://play.pokemonshowdown.com/sprites/gen5ani/pikachu.gif\"\n\t\t\t\t\t\talt=\"An Electric-type mouse that is the mascot of the Pok&eacute;mon franchise.\"\n\t\t\t\t\t/></label>\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\t<label class=\"label\">\n\t\t\t\t\t\tWhat is this pokemon? {}\n\t\t\t\t\t\t<input name=\"captcha\" class=\"textbox\" />\n\t\t\t\t\t</label>\n\t\t\t\t</p>\n\t\t\t\t<p class=\"buttonbar\">\n\t\t\t\t\t<button type=\"submit\" class=\"button\"><strong>Register</strong></button> {}\n\t\t\t\t\t<button type=\"button\" data-cmd=\"/close\" class=\"button\">Cancel</button>\n\t\t\t\t</p>\n\t\t\t</form>\n\n\t\t</div>\n\t\t</PSPanelWrapper>;\n\t}\n}\n\nclass BackgroundListPanel extends PSRoomPanel {\n\tstatic readonly id = 'changebackground';\n\tstatic readonly routes = ['changebackground'];\n\tstatic readonly location = 'semimodal-popup';\n\tstatic readonly noURL = true;\n\tstatic handleDrop(ev: DragEvent) {\n\t\tconst files = ev.dataTransfer?.files;\n\t\tif (files?.[0]?.type?.startsWith('image/')) {\n\t\t\t// It's an image file, try to set it as a background\n\t\t\tBackgroundListPanel.handleUploadedFiles(files);\n\t\t\treturn true;\n\t\t}\n\t}\n\n\tdeclare state: { status?: string, bgUrl?: string };\n\n\tsetBg = (ev: Event) => {\n\t\tlet curtarget = ev.currentTarget as HTMLButtonElement;\n\t\tlet bg = curtarget.value;\n\t\tif (bg === 'custom') {\n\t\t\tPSBackground.set(this.props.room.args?.bgUrl as string || '', 'custom');\n\t\t\tthis.close();\n\t\t} else {\n\t\t\tPSBackground.set('', bg);\n\t\t}\n\t\tev.preventDefault();\n\t\tev.stopImmediatePropagation();\n\t\tthis.forceUpdate();\n\t};\n\n\tstatic handleUploadedFiles(files: FileList | null | undefined, skipConfirm?: boolean) {\n\t\tif (!files?.[0]) return;\n\n\t\tconst file = files[0];\n\t\tconst reader = new FileReader();\n\n\t\treader.onload = () => {\n\t\t\tconst bgUrl = reader.result as string;\n\t\t\tif (bgUrl.length > 4200000) {\n\t\t\t\tPS.join('changebackground' as RoomID, {\n\t\t\t\t\targs: { error: `Image is too large and can't be saved. It should be under 3.5MB or so.` },\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (skipConfirm) {\n\t\t\t\tPSBackground.set(bgUrl, 'custom');\n\t\t\t} else {\n\t\t\t\tPS.join('changebackground' as RoomID, {\n\t\t\t\t\targs: { bgUrl },\n\t\t\t\t});\n\t\t\t}\n\t\t\tPS.rooms['changebackground']?.update(null);\n\t\t};\n\n\t\treader.onerror = () => {\n\t\t\tPS.join('changebackground' as RoomID, {\n\t\t\t\targs: { error: \"Failed to load background image.\" },\n\t\t\t});\n\t\t};\n\t\treader.readAsDataURL(file);\n\t}\n\n\tuploadBg = (ev: Event) => {\n\t\tthis.setState({ status: undefined });\n\t\tconst input = this.base?.querySelector<HTMLInputElement>('input[name=bgfile]');\n\t\tBackgroundListPanel.handleUploadedFiles(input?.files, true);\n\t\tev.preventDefault();\n\t\tev.stopImmediatePropagation();\n\t};\n\n\trenderUpload() {\n\t\tconst room = this.props.room;\n\t\tif (room.args?.error) {\n\t\t\treturn <PSPanelWrapper room={room} width={480}><div class=\"pad\">\n\t\t\t\t<p class=\"error\">{room.args.error}</p>\n\t\t\t\t<p class=\"buttonbar\">\n\t\t\t\t\t<button data-cmd=\"/close\" class=\"button\"><strong>Done</strong></button>\n\t\t\t\t</p>\n\t\t\t</div></PSPanelWrapper>;\n\t\t}\n\n\t\tif (room.args?.bgUrl) {\n\t\t\treturn <PSPanelWrapper room={room} width={480}><div class=\"pad\">\n\t\t\t\t<p>\n\t\t\t\t\t<img src={room.args.bgUrl as string} style=\"display:block;margin:auto;max-width:90%;max-height:500px\" />\n\t\t\t\t</p>\n\t\t\t\t<p class=\"buttonbar\">\n\t\t\t\t\t<button onClick={this.setBg} value=\"custom\" class=\"button\"><strong>Set as background</strong></button> {}\n\t\t\t\t\t<button data-cmd=\"/close\" class=\"button\">Cancel</button>\n\t\t\t\t</p>\n\t\t\t</div></PSPanelWrapper>;\n\t\t}\n\n\t\treturn null;\n\t}\n\n\toverride render() {\n\t\tconst room = this.props.room;\n\t\tconst option = (val: string) => val === PSBackground.id ? 'option cur' : 'option';\n\t\treturn this.renderUpload() || <PSPanelWrapper room={room} width={480}><div class=\"pad\">\n\t\t\t<p><strong>Default</strong></p>\n\t\t\t<div class=\"bglist\">\n\t\t\t\t<button onClick={this.setBg} value=\"\" class={option('')}>\n\t\t\t\t\t<strong\n\t\t\t\t\t\tstyle=\"\n\t\t\t\t\t\tbackground: #888888;\n\t\t\t\t\t\tcolor: white;\n\t\t\t\t\t\tpadding: 16px 18px;\n\t\t\t\t\t\tdisplay: block;\n\t\t\t\t\t\tfont-size: 12pt;\n\t\t\t\t\t\"\n\t\t\t\t\t>Random</strong>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div style=\"clear: left\"></div>\n\t\t\t<p><strong>Official</strong></p>\n\t\t\t<div class=\"bglist\">\n\t\t\t\t<button onClick={this.setBg} value=\"charizards\" class={option('charizards')}>\n\t\t\t\t\t<span class=\"bg\" style=\"background-position: 0 -0px\"></span>{}\n\t\t\t\t\tCharizards\n\t\t\t\t</button>\n\t\t\t\t<button onClick={this.setBg} value=\"horizon\" class={option('horizon')}>\n\t\t\t\t\t<span class=\"bg\" style=\"background-position: 0 -90px\"></span>{}\n\t\t\t\t\tHorizon\n\t\t\t\t</button>\n\t\t\t\t<button onClick={this.setBg} value=\"waterfall\" class={option('waterfall')}>\n\t\t\t\t\t<span class=\"bg\" style=\"background-position: 0 -180px\"></span>{}\n\t\t\t\t\tWaterfall\n\t\t\t\t</button>\n\t\t\t\t<button onClick={this.setBg} value=\"ocean\" class={option('ocean')}>\n\t\t\t\t\t<span class=\"bg\" style=\"background-position: 0 -270px\"></span>{}\n\t\t\t\t\tOcean\n\t\t\t\t</button>\n\t\t\t\t<button onClick={this.setBg} value=\"shaymin\" class={option('shaymin')}>\n\t\t\t\t\t<span class=\"bg\" style=\"background-position: 0 -360px\"></span>{}\n\t\t\t\t\tShaymin\n\t\t\t\t</button>\n\t\t\t\t<button onClick={this.setBg} value=\"solidblue\" class={option('solidblue')}>\n\t\t\t\t\t<span class=\"bg\" style=\"background: #344b6c\"></span>{}\n\t\t\t\t\tSolid blue\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div style=\"clear: left\"></div>\n\t\t\t<p><strong>Custom</strong></p>\n\t\t\t<p>\n\t\t\t\tUpload:\n\t\t\t</p>\n\t\t\t<p><input type=\"file\" accept=\"image/*\" name=\"bgfile\" onChange={this.uploadBg} /></p>\n\t\t\t{!!this.state.status && <p class=\"error\">{this.state.status}</p>}\n\t\t\t<p class=\"buttonbar\">\n\t\t\t\t<button data-cmd=\"/close\" class=\"button\"><strong>Done</strong></button>\n\t\t\t</p>\n\t\t</div>\n\t\t</PSPanelWrapper>;\n\t}\n}\n\nclass ChatFormattingPanel extends PSRoomPanel {\n\tstatic readonly id = 'chatformatting';\n\tstatic readonly routes = ['chatformatting'];\n\tstatic readonly location = 'semimodal-popup';\n\tstatic readonly noURL = true;\n\n\thandleOnChange = (ev: Event) => {\n\t\tconst setting = \"hide\" + (ev.currentTarget as HTMLInputElement).name;\n\t\tconst value = (ev.currentTarget as HTMLInputElement).checked;\n\t\tlet curPref = PS.prefs.chatformatting;\n\t\tcurPref[setting] = value;\n\t\tPS.prefs.set(\"chatformatting\", curPref);\n\t\tev.preventDefault();\n\t\tev.stopImmediatePropagation();\n\t};\n\n\toverride render() {\n\t\tconst room = this.props.room;\n\t\tconst ctrl = PSView.isMac ? 'Cmd' : 'Ctrl';\n\t\treturn <PSPanelWrapper room={room} width={480}><div class=\"pad\">\n\t\t\t<p>Usable formatting:</p>\n\t\t\t<p>**<strong>bold</strong>** (<kbd>{ctrl}</kbd>+<kbd>B</kbd>)</p>\n\t\t\t<p>__<em>italics</em>__ (<kbd>{ctrl}</kbd>+<kbd>I</kbd>)</p>\n\t\t\t<p>``<code>code formatting</code>`` (<kbd>Ctrl</kbd>+<kbd>`</kbd>)</p>\n\t\t\t<p>~~<s>strikethrough</s>~~</p>\n\t\t\t<p>^^<sup>superscript</sup>^^</p>\n\t\t\t<p>\\\\<sub>subscript</sub>\\\\</p>\n\t\t\t<p>\n\t\t\t\t<label class=\"checkbox\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tonChange={this.handleOnChange}\n\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\tname=\"greentext\"\n\t\t\t\t\t\tchecked={PS.prefs.chatformatting.hidegreentext}\n\t\t\t\t\t/> Suppress <span class=\"greentext\">&gt;greentext</span>\n\t\t\t\t</label>\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<label class=\"checkbox\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tonChange={this.handleOnChange}\n\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\tname=\"me\"\n\t\t\t\t\t\tchecked={PS.prefs.chatformatting.hideme}\n\n\t\t\t\t\t/> Suppress <code>/me</code> <em>action formatting</em>\n\t\t\t\t</label>\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<label class=\"checkbox\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tonChange={this.handleOnChange}\n\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\tname=\"spoiler\"\n\t\t\t\t\t\tchecked={PS.prefs.chatformatting.hidespoiler}\n\t\t\t\t\t/> Auto-show spoilers: <span class=\"spoiler\">these things</span>\n\t\t\t\t</label>\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<label class=\"checkbox\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tonChange={this.handleOnChange}\n\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\tname=\"links\"\n\t\t\t\t\t\tchecked={PS.prefs.chatformatting.hidelinks}\n\t\t\t\t\t/> Make [[clickable links]] unclickable\n\t\t\t\t</label>\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<label class=\"checkbox\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tonChange={this.handleOnChange}\n\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\tname=\"interstice\"\n\t\t\t\t\t\tchecked={PS.prefs.chatformatting.hideinterstice}\n\t\t\t\t\t/> Don't warn for untrusted links\n\t\t\t\t</label>\n\t\t\t</p>\n\t\t\t<p><button data-cmd=\"/close\" class=\"button\">Done</button></p>\n\t\t</div>\n\t\t</PSPanelWrapper>;\n\t}\n}\n\nclass LeaveRoomPanel extends PSRoomPanel {\n\tstatic readonly id = 'confirmleaveroom';\n\tstatic readonly routes = ['confirmleaveroom'];\n\tstatic readonly location = 'semimodal-popup';\n\tstatic readonly noURL = true;\n\n\toverride render() {\n\t\tconst room = this.props.room;\n\t\tconst parentRoomid = room.parentRoomid!;\n\n\t\treturn <PSPanelWrapper room={room} width={480}><div class=\"pad\">\n\t\t\t<p>Close <code>{parentRoomid || \"ERROR\"}</code>?</p>\n\t\t\t<p class=\"buttonbar\">\n\t\t\t\t<button data-cmd={`/closeand /close ${parentRoomid}`} class=\"button autofocus\">\n\t\t\t\t\t<strong>Close Room</strong>\n\t\t\t\t</button> {}\n\t\t\t\t<button data-cmd=\"/close\" class=\"button\">\n\t\t\t\t\tCancel\n\t\t\t\t</button>\n\t\t\t</p>\n\t\t</div></PSPanelWrapper>;\n\t}\n}\nclass BattleOptionsPanel extends PSRoomPanel {\n\tstatic readonly id = 'battleoptions';\n\tstatic readonly routes = ['battleoptions'];\n\tstatic readonly location = 'semimodal-popup';\n\tstatic readonly noURL = true;\n\n\thandleHardcoreMode = (ev: Event) => {\n\t\tconst mode = (ev.currentTarget as HTMLInputElement).checked;\n\t\tconst room = this.getBattleRoom();\n\t\tif (!room) return this.close();\n\n\t\troom.battle.setHardcoreMode(mode);\n\t\tif (mode) {\n\t\t\troom.add(`||Hardcore mode ON: Information not available in-game is now hidden.`);\n\t\t} else {\n\t\t\troom.add(`||Hardcore mode OFF: Information not available in-game is now shown.`);\n\t\t}\n\t\troom.update(null);\n\t};\n\thandleIgnoreSpectators = (ev: Event | boolean) => {\n\t\tconst value = typeof ev === \"object\" ?\n\t\t\t(ev.currentTarget as HTMLInputElement).checked :\n\t\t\tev;\n\t\tconst room = this.getBattleRoom();\n\t\tif (!room) return this.close();\n\n\t\troom.battle.ignoreSpects = value;\n\t\troom.add(`||Spectators ${room.battle.ignoreSpects ? '' : 'no longer '}ignored.`);\n\t\tconst chats = document.querySelectorAll<HTMLElement>('.battle-log .chat');\n\t\tconst displaySetting = room.battle.ignoreSpects ? 'none' : '';\n\t\tfor (const chat of chats) {\n\t\t\tconst small = chat.querySelector('small');\n\t\t\tif (!small) continue;\n\t\t\tconst text = small.innerText;\n\t\t\tconst isPlayerChat = text.includes('\\u2606') || text.includes('\\u2605');\n\t\t\tif (!isPlayerChat) {\n\t\t\t\tchat.style.display = displaySetting;\n\t\t\t}\n\t\t}\n\t\troom.battle.scene.log.updateScroll();\n\t};\n\thandleIgnoreOpponent = (ev: Event | boolean) => {\n\t\tconst value = typeof ev === \"object\" ?\n\t\t\t(ev.currentTarget as HTMLInputElement).checked :\n\t\t\tev;\n\t\tconst room = this.getBattleRoom();\n\t\tif (!room) return this.close();\n\n\t\troom.battle.ignoreOpponent = value;\n\t\troom.battle.resetToCurrentTurn();\n\t};\n\thandleIgnoreNicks = (ev: Event | boolean) => {\n\t\tconst value = typeof ev === \"object\" ?\n\t\t\t(ev.currentTarget as HTMLInputElement).checked :\n\t\t\tev;\n\t\tconst room = this.getBattleRoom();\n\t\tif (!room) return this.close();\n\n\t\troom.battle.ignoreNicks = value;\n\t\troom.battle.resetToCurrentTurn();\n\t};\n\thandleAllSettings = (ev: Event) => {\n\t\tconst setting = (ev.currentTarget as HTMLInputElement).name;\n\t\tconst value = (ev.currentTarget as HTMLInputElement).checked;\n\t\tconst room = this.getBattleRoom();\n\n\t\tswitch (setting) {\n\t\tcase 'autotimer': {\n\t\t\tPS.prefs.set('autotimer', value);\n\t\t\tif (value) {\n\t\t\t\troom?.send('/timer on');\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t\tcase 'ignoreopp': {\n\t\t\tPS.prefs.set('ignoreopp', value);\n\t\t\tthis.handleIgnoreOpponent(value);\n\t\t\tbreak;\n\t\t}\n\t\tcase 'ignorespects': {\n\t\t\tPS.prefs.set('ignorespects', value);\n\t\t\tthis.handleIgnoreSpectators(value);\n\t\t\tbreak;\n\t\t}\n\t\tcase 'ignorenicks': {\n\t\t\tPS.prefs.set('ignorenicks', value);\n\t\t\tthis.handleIgnoreNicks(value);\n\t\t\tbreak;\n\t\t}\n\t\tcase 'rightpanel': {\n\t\t\tPS.prefs.set('rightpanelbattles', value);\n\t\t\tbreak;\n\t\t}\n\t\tcase 'disallowspectators': {\n\t\t\tPS.prefs.set('disallowspectators', value);\n\t\t\tPS.mainmenu.disallowSpectators = value;\n\t\t\tbreak;\n\t\t}\n\t\t}\n\t};\n\tgetBattleRoom() {\n\t\tconst battleRoom = this.props.room.getParent() as BattleRoom | null;\n\t\treturn battleRoom?.battle ? battleRoom : null;\n\t}\n\n\toverride render() {\n\t\tconst room = this.props.room;\n\t\tconst battleRoom = this.getBattleRoom();\n\t\tconst isPlayer = !!battleRoom?.battle.myPokemon;\n\t\tconst canOfferTie = battleRoom && ((battleRoom.battle.turn >= 100 && isPlayer) || PS.user.group === '~');\n\t\treturn <PSPanelWrapper room={room} width={380}><div class=\"pad\">\n\t\t\t{battleRoom && <>\n\t\t\t\t<p><strong>In this battle</strong></p>\n\t\t\t\t<p>\n\t\t\t\t\t<label class=\"checkbox\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tchecked={battleRoom.battle.hardcoreMode}\n\t\t\t\t\t\t\ttype=\"checkbox\" onChange={this.handleHardcoreMode}\n\t\t\t\t\t\t/> Hardcore mode (hide info not shown in-game)\n\t\t\t\t\t</label>\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\t<label class=\"checkbox\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tchecked={battleRoom.battle.ignoreSpects}\n\t\t\t\t\t\t\ttype=\"checkbox\" onChange={this.handleIgnoreSpectators}\n\t\t\t\t\t\t/> Ignore spectators\n\t\t\t\t\t</label>\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\t<label class=\"checkbox\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tchecked={battleRoom.battle.ignoreOpponent}\n\t\t\t\t\t\t\ttype=\"checkbox\" onChange={this.handleIgnoreOpponent}\n\t\t\t\t\t\t/> Ignore opponent\n\t\t\t\t\t</label>\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\t<label class=\"checkbox\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tchecked={battleRoom.battle?.ignoreNicks}\n\t\t\t\t\t\t\ttype=\"checkbox\" onChange={this.handleIgnoreNicks}\n\t\t\t\t\t\t/> Ignore nicknames\n\t\t\t\t\t</label>\n\t\t\t\t</p>\n\t\t\t</>}\n\t\t\t<p><strong>All battles</strong></p>\n\t\t\t<p>\n\t\t\t\t<label class=\"checkbox\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tname=\"disallowspectators\" checked={PS.prefs.disallowspectators || false}\n\t\t\t\t\t\ttype=\"checkbox\" onChange={this.handleAllSettings}\n\t\t\t\t\t/> <abbr title=\"You can still invite spectators by giving them the URL or using the /invite command\">Invite only (hide from Battles list)</abbr>\n\t\t\t\t</label>\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<label class=\"checkbox\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tname=\"ignorenicks\" checked={PS.prefs.ignorenicks || false}\n\t\t\t\t\t\ttype=\"checkbox\" onChange={this.handleAllSettings}\n\t\t\t\t\t/> Ignore Pok&eacute;mon nicknames\n\t\t\t\t</label>\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<label class=\"checkbox\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tname=\"ignorespects\" checked={PS.prefs.ignorespects || false}\n\t\t\t\t\t\ttype=\"checkbox\" onChange={this.handleAllSettings}\n\t\t\t\t\t/> Ignore spectators\n\t\t\t\t</label>\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<label class=\"checkbox\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tname=\"ignoreopp\" checked={PS.prefs.ignoreopp || false}\n\t\t\t\t\t\ttype=\"checkbox\" onChange={this.handleAllSettings}\n\t\t\t\t\t/> Ignore opponent\n\t\t\t\t</label>\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<label class=\"checkbox\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tname=\"autotimer\" checked={PS.prefs.autotimer || false}\n\t\t\t\t\t\ttype=\"checkbox\" onChange={this.handleAllSettings}\n\t\t\t\t\t/> Automatically start timer\n\t\t\t\t</label>\n\t\t\t</p>\n\t\t\t{!PS.prefs.onepanel && document.body.offsetWidth >= 800 && <p>\n\t\t\t\t<label class=\"checkbox\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tname=\"rightpanel\" checked={PS.prefs.rightpanelbattles || false}\n\t\t\t\t\t\ttype=\"checkbox\" onChange={this.handleAllSettings}\n\t\t\t\t\t/> Open new battles in the right-side panel\n\t\t\t\t</label>\n\t\t\t</p>}\n\t\t\t<p class=\"buttonbar\">\n\t\t\t\t<button data-cmd=\"/close\" class=\"button\">Done</button> {}\n\t\t\t\t{battleRoom && <button data-cmd=\"/closeand /inopener /offertie\" class=\"button\" disabled={!canOfferTie}>\n\t\t\t\t\tOffer Tie\n\t\t\t\t</button>}\n\t\t\t</p>\n\t\t</div>\n\t\t</PSPanelWrapper>;\n\t}\n}\n\nclass PopupRoom extends PSRoom {\n\treturnValue: unknown = this.args?.cancelValue;\n\toverride destroy() {\n\t\t(this.args?.callback as any)?.(this.returnValue);\n\t\tsuper.destroy();\n\t}\n}\n\nclass PopupPanel extends PSRoomPanel<PopupRoom> {\n\tstatic readonly id = 'popup';\n\tstatic readonly routes = ['popup-*'];\n\tstatic readonly location = 'semimodal-popup';\n\tstatic readonly noURL = true;\n\tstatic readonly Model = PopupRoom;\n\n\thandleSubmit = (ev: Event) => {\n\t\tev.preventDefault();\n\t\tev.stopImmediatePropagation();\n\t\tconst room = this.props.room;\n\t\troom.returnValue = room.args?.okValue;\n\t\tconst textbox = this.base!.querySelector<HTMLInputElement>('input[name=value]');\n\t\tif (textbox) {\n\t\t\troom.returnValue = textbox.value;\n\t\t}\n\t\tthis.close();\n\t};\n\toverride componentDidMount() {\n\t\tsuper.componentDidMount();\n\t\tconst textbox = this.base!.querySelector<HTMLInputElement>('input[name=value]');\n\t\tif (!textbox) return;\n\t\ttextbox.value = this.props.room.args?.value as string || '';\n\t\ttextbox.select();\n\t}\n\tparseMessage(message: string) {\n\t\tif (message.startsWith('|html|')) {\n\t\t\treturn BattleLog.sanitizeHTML(message.slice(6));\n\t\t}\n\t\treturn BattleLog.parseMessage(message);\n\t}\n\n\toverride render() {\n\t\tconst room = this.props.room;\n\t\tconst okButton = room.args?.okButton as string || 'OK';\n\t\tconst cancelButton = room.args?.cancelButton as string | undefined;\n\t\tconst otherButtons = room.args?.otherButtons as preact.ComponentChildren;\n\t\tconst value = room.args?.value as string | undefined;\n\t\tconst type = (room.args?.type || (typeof value === 'string' ? 'text' : null)) as string | null;\n\t\tconst message = room.args?.message;\n\t\treturn <PSPanelWrapper room={room} width={room.args?.width as number || 480}>\n\t\t\t<form class=\"pad\" onSubmit={this.handleSubmit}>\n\t\t\t\t{message && <p\n\t\t\t\t\tstyle=\"white-space:pre-wrap;word-wrap:break-word\"\n\t\t\t\t\tdangerouslySetInnerHTML={{ __html: this.parseMessage(message as string || '') }}\n\t\t\t\t></p>}\n\t\t\t\t{!!type && <p><input name=\"value\" type={type} class=\"textbox autofocus\" style=\"width:100%;box-sizing:border-box\" /></p>}\n\t\t\t\t<p class=\"buttonbar\">\n\t\t\t\t\t<button class={`button${!type ? ' autofocus' : ''}`} type=\"submit\" style=\"min-width:50px\">\n\t\t\t\t\t\t<strong>{okButton}</strong>\n\t\t\t\t\t</button> {}\n\t\t\t\t\t{otherButtons} {}\n\t\t\t\t\t{!!cancelButton && <button class=\"button\" data-cmd=\"/close\" type=\"button\">\n\t\t\t\t\t\t{cancelButton}\n\t\t\t\t\t</button>}\n\t\t\t\t</p>\n\t\t\t</form>\n\t\t</PSPanelWrapper>;\n\t}\n}\n\nclass RoomTabListPanel extends PSRoomPanel {\n\tstatic readonly id = 'roomtablist';\n\tstatic readonly routes = ['roomtablist'];\n\tstatic readonly location = 'semimodal-popup';\n\tstatic readonly noURL = true;\n\n\tstartingLayout = PS.prefs.onepanel;\n\thandleLayoutChange = (ev: Event) => {\n\t\tconst checkbox = ev.currentTarget as HTMLInputElement;\n\t\tPS.prefs.onepanel = checkbox.checked ? 'vertical' : this.startingLayout;\n\t\tPS.update();\n\t};\n\toverride render() {\n\t\tconst verticalTabs = PS.prefs.onepanel === 'vertical';\n\t\treturn <PSPanelWrapper room={this.props.room}><div class=\"tablist\">\n\t\t\t<ul>\n\t\t\t\t{PS.leftRoomList.map(roomid => PSHeader.renderRoomTab(roomid, true))}\n\t\t\t</ul>\n\t\t\t<ul>\n\t\t\t\t{PS.rightRoomList.map(roomid => PSHeader.renderRoomTab(roomid, true))}\n\t\t\t</ul>\n\t\t\t<div class=\"pad\"><label class=\"checkbox\"><input\n\t\t\t\ttype=\"checkbox\" checked={verticalTabs} onChange={this.handleLayoutChange}\n\t\t\t/> Try vertical tabs</label></div>\n\t\t</div></PSPanelWrapper>;\n\t}\n}\nclass BattleTimerPanel extends PSRoomPanel {\n\tstatic readonly id = 'battletimer';\n\tstatic readonly routes = ['battletimer'];\n\tstatic readonly location = 'semimodal-popup';\n\tstatic readonly noURL = true;\n\n\toverride render() {\n\t\tconst room = this.props.room.getParent() as BattleRoom;\n\t\treturn <PSPanelWrapper room={this.props.room}><div class=\"pad\">\n\t\t\t{room.battle.kickingInactive ? (\n\t\t\t\t<button class=\"button\" data-cmd=\"/closeand /inopener /timer stop\">Stop Timer</button>\n\t\t\t) : (\n\t\t\t\t<button class=\"button\" data-cmd=\"/closeand /inopener /timer start\">Start Timer</button>\n\t\t\t)}\n\t\t</div>\n\t\t</PSPanelWrapper>;\n\t}\n}\n\nclass RulesPanel extends PSRoomPanel<PopupRoom> {\n\tstatic readonly id = 'rules';\n\tstatic readonly routes = ['rules-*'];\n\tstatic readonly location = 'modal-popup';\n\tstatic readonly noURL = true;\n\tstatic readonly Model = PopupRoom;\n\tdeclare state: { canClose?: boolean | null, timeLeft?: number | null, timerRef?: any };\n\n\toverride componentDidMount() {\n\t\tsuper.componentDidMount();\n\t\tconst args = this.props.room.args;\n\t\tconst isWarn = args?.type === 'warn';\n\t\tif (isWarn && args) {\n\t\t\tconst timerRef = setInterval(() => {\n\t\t\t\tconst timeLeft = this.state.timeLeft || 5;\n\t\t\t\tconst canClose = timeLeft === 1;\n\t\t\t\tthis.setState({ canClose, timeLeft: timeLeft - 1 });\n\t\t\t\tif (canClose) {\n\t\t\t\t\tclearInterval(this.state.timerRef);\n\t\t\t\t\tthis.setState({ timerRef: null });\n\t\t\t\t}\n\t\t\t}, 1000);\n\t\t\tif (!this.state.timerRef) this.setState({ timerRef });\n\t\t}\n\t}\n\n\toverride render() {\n\t\tconst room = this.props.room;\n\t\tconst type = room.args?.type;\n\t\tconst isWarn = type === 'warn';\n\t\tconst message = room.args?.message as string || '';\n\t\treturn <PSPanelWrapper room={room} width={room.args?.width as number || 780}>\n\t\t\t<div class=\"pad\">\n\t\t\t\t{\n\t\t\t\t\tisWarn &&\n\t\t\t\t\t<p><strong style=\"color:red\">{(BattleLog.escapeHTML(message) || 'You have been warned for breaking the rules.')}\n\t\t\t\t\t</strong></p>\n\t\t\t\t}\n\t\t\t\t<h2>Pok&eacute;mon Showdown Rules</h2>\n\t\t\t\t<p><b>1.</b> Be nice to people. Respect people. Don't be rude or mean to people.</p>\n\t\t\t\t<p><b>2.</b> {' '}\n\t\t\t\t\tFollow US laws (PS is based in the US). No porn (minors use PS), don't distribute pirated material, {' '}\n\t\t\t\t\tand don't slander others.</p>\n\t\t\t\t<p><b>3.</b> {' '}\n\t\t\t\t\t&nbsp;No sex. Don't discuss anything sexually explicit, not even in private messages, {' '}\n\t\t\t\t\tnot even if you're both adults.</p>\n\t\t\t\t<p><b>4.</b> {' '}\n\t\t\t\t\t&nbsp;No cheating. Don't exploit bugs to gain an unfair advantage. {' '}\n\t\t\t\t\tDon't game the system (by intentionally losing against yourself or a friend in a ladder match, by timerstalling, etc). {' '}\n\t\t\t\t\tDon't impersonate staff if you're not.</p>\n\t\t\t\t<p><b>5.</b> {' '}\n\t\t\t\t\tModerators have discretion to punish any behaviour they deem inappropriate, whether or not it's on this list. {' '}\n\t\t\t\t\tIf you disagree with a moderator ruling, appeal to an administrator (a user with ~ next to their name) or {' '}\n\t\t\t\t\t<a href=\"https://pokemonshowdown.com/appeal\">Discipline Appeals</a>.</p>\n\t\t\t\t<p>(Note: The First Amendment does not apply to PS, since PS is not a government organization.)</p>\n\t\t\t\t<p><b>Chat</b></p>\n\t\t\t\t<p><b>1.</b> {' '}\n\t\t\t\t\tDo not spam, flame, or troll. This includes advertising, raiding, {' '}\n\t\t\t\t\tasking questions with one-word answers in the lobby, {' '}\n\t\t\t\t\tand flooding the chat such as by copy/pasting logs in the lobby.</p>\n\t\t\t\t<p><b>2.</b> {' '}\n\t\t\t\t\tDon't call unnecessary attention to yourself. Don't be obnoxious. ALL CAPS and <i>formatting</i> {' '}\n\t\t\t\t\tare acceptable to emphasize things, but should be used sparingly, not all the time.</p>\n\t\t\t\t<p><b>3.</b> {' '}\n\t\t\t\t\tNo minimodding: don't mod if it's not your job. Don't tell people they'll be muted, {' '}\n\t\t\t\t\tdon't ask for people to be muted, {' '}\n\t\t\t\t\tand don't talk about whether or not people should be muted ('inb4 mute\\, etc). {' '}\n\t\t\t\t\tThis applies to bans and other punishments, too.</p>\n\t\t\t\t<p><b>4.</b> {' '}\n\t\t\t\t\tWe reserve the right to tell you to stop discussing moderator decisions if you become unreasonable or belligerent</p>\n\t\t\t\t<p><b>5.</b> English only, unless specified otherwise.</p>\n\t\t\t\t<p>(Note: You can opt out of chat rules in private chat rooms and battle rooms, {' '}\n\t\t\t\t\tbut only if all ROs or players agree to it.)</p>\n\t\t\t\t{\n\t\t\t\t\t!isWarn && <>\n\t\t\t\t\t\t<p><b>Usernames</b></p>\n\t\t\t\t\t\t<p>Your username can be chosen and changed at any time. Keep in mind:</p>\n\t\t\t\t\t\t<p><b>1.</b> Usernames may not impersonate a recognized user (a user with %, @, #, or ~ next to their name) {' '}\n\t\t\t\t\t\t\tor a famous person/organization that uses PS or is associated with Pokémon.</p>\n\t\t\t\t\t\t<p><b>2.</b> Usernames may not be derogatory or insulting in nature, to an individual or group {' '}\n\t\t\t\t\t\t\t(insulting yourself is okay as long as it's not too serious).</p>\n\t\t\t\t\t\t<p><b>3.</b> Usernames may not directly reference sexual activity, or be excessively disgusting.</p>\n\t\t\t\t\t\t<p>This policy is less restrictive than that of many places, so you might see some \"borderline\" nicknames {' '}\n\t\t\t\t\t\t\tthat might not be accepted elsewhere. You might consider it unfair that they are allowed to keep their {' '}\n\t\t\t\t\t\t\tnickname. The fact remains that their nickname follows the above rules, and {' '}\n\t\t\t\t\t\t\tif you were asked to choose a new name, yours does not.</p>\n\t\t\t\t\t</>\n\t\t\t\t}\n\t\t\t\t<p class=\"buttonbar\"><button\n\t\t\t\t\tname=\"close\"\n\t\t\t\t\tdata-cmd=\"/close\" class=\"button autofocus\"\n\t\t\t\t\tdisabled={!this.state.canClose}\n\t\t\t\t> Close {this.state.timerRef && <>({this.state.timeLeft} sec)</>}</button></p>\n\t\t\t</div>\n\t\t</PSPanelWrapper>;\n\t}\n}\n\nPS.addRoomType(\n\tUserPanel,\n\tUserOptionsPanel,\n\tUserListPanel,\n\tVolumePanel,\n\tOptionsPanel,\n\tLoginPanel,\n\tAvatarsPanel,\n\tChangePasswordPanel,\n\tRegisterPanel,\n\tBattleForfeitPanel,\n\tReplacePlayerPanel,\n\tBackgroundListPanel,\n\tLeaveRoomPanel,\n\tChatFormattingPanel,\n\tPopupPanel,\n\tRoomTabListPanel,\n\tBattleOptionsPanel,\n\tBattleTimerPanel,\n\tRulesPanel\n);\n"],"mappings":";;;;;;;;;;;;;;;;;;AAkBaA,QAAQ,UAAAC,OAAA;;;;;AAKpB,SAAAD,SAAYE,OAAoB,CAAE,KAAAC,aAAA,KAAAC,KAAA;AACjCA,KAAA,CAAAH,OAAA,CAAAI,IAAA,MAAMH,OAAO,CAAC,OAACE,KAAA,CALEE,SAAS,CAAG,MAAM,CAAAF,KAAA,CACpCG,MAAM,QAAAH,KAAA,CACNI,IAAI,QAAAJ,KAAA,CACJK,MAAM;AAGL,GAAM,CAAAF,MAAM,CAAIH,KAAA,CAAKM,EAAE,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAI,EAAS;AAClDP,KAAA,CAAKQ,OAAO,CAAC,EAAAT,aAAA,CAAAD,OAAO,CAACW,IAAI,eAAZV,aAAA,CAAcW,QAAQ,GAAcP,MAAM,CAAC,CAAC,OAAAH,KAAA;AAC1D,CAACW,cAAA,CAAAf,QAAA,CAAAC,OAAA,MAAAe,MAAA,CAAAhB,QAAA,CAAAiB,SAAA,CAAAD,MAAA;AACDJ,OAAO,CAAP,SAAAA,OAAOA,CAACJ,IAAY,CAAE;AACrB,IAAI,CAACA,IAAI,CAAGA,IAAI;AAChB,IAAI,CAACD,MAAM,CAAGW,IAAI,CAACV,IAAI,CAAC;AACxB,IAAI,CAACC,MAAM,CAAI,IAAI,CAACF,MAAM,GAAKY,EAAE,CAACC,IAAI,CAACb,MAAO;AAC9C,GAAI,aAAa,CAACc,IAAI,CAAC,IAAI,CAACb,IAAI,CAACc,MAAM,CAAC,CAAC,CAAC,CAAC,CAAE,IAAI,CAACd,IAAI,CAAG,GAAG,CAAG,IAAI,CAACA,IAAI;AACxE,IAAI,CAACe,MAAM,CAAC,IAAI,CAAC;AACjB,GAAI,IAAI,CAAChB,MAAM,CAAEY,EAAE,CAACK,IAAI,qBAAqB,IAAI,CAACjB,MAAQ,CAAC;AAC5D,CAAC,QAAAP,QAAA,GAjB4ByB,MAAM;;;AAoB9BC,SAAS,UAAAC,YAAA,WAAAD,UAAA,MAAAE,MAAA,SAAAC,IAAA,CAAAC,SAAA,CAAAC,MAAA,CAAAlB,IAAA,KAAAmB,KAAA,CAAAH,IAAA,EAAAI,IAAA,GAAAA,IAAA,CAAAJ,IAAA,CAAAI,IAAA,IAAApB,IAAA,CAAAoB,IAAA,EAAAH,SAAA,CAAAG,IAAA,GAAAL,MAAA,CAAAD,YAAA,CAAAtB,IAAA,CAAA6B,KAAA,CAAAP,YAAA,QAAAQ,MAAA,CAAAtB,IAAA,SAAAe,MAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+IdQ,MAAM,CAAG,SAACC,EAAS,CAAK,KAAAC,cAAA;AACvBD,EAAE,CAACE,cAAc,CAAC,CAAC;AACnBF,EAAE,CAACG,wBAAwB,CAAC,CAAC;AAC7B,GAAM,CAAAC,IAAI,CAAGb,MAAA,CAAKc,KAAK,CAACD,IAAI;AAC5B,GAAM,CAAA3B,QAAQ,EAAAwB,cAAA,CAAGV,MAAA,CAAKe,IAAI,CAAEC,aAAa,CAAmB,sBAAsB,CAAC,eAAlEN,cAAA,CAAoEO,KAAK;AAC1FJ,IAAI,CAAC7B,OAAO,CAACE,QAAQ,EAAI,EAAE,CAAC;AAC7B,CAAC,CAAAc,MAAA;AACDkB,UAAU,CAAG,SAACT,EAAS,CAAK,KAAAU,eAAA;AAC3B,GAAM,CAAAN,IAAI,CAAGb,MAAA,CAAKc,KAAK,CAACD,IAAI;AAC5B,GAAM,CAAA3B,QAAQ,EAAAiC,eAAA,CAAGnB,MAAA,CAAKe,IAAI,CAAEC,aAAa,CAAmB,sBAAsB,CAAC,eAAlEG,eAAA,CAAoEF,KAAK;AAC1F,GAAI3B,IAAI,CAACJ,QAAQ,CAAC,GAAK2B,IAAI,CAAClC,MAAM,CAAE;AACnCkC,IAAI,CAAC7B,OAAO,CAAC,EAAE,CAAC;AACjB;AACD,CAAC,QAAAgB,MAAA,EAAAb,cAAA,CAAAW,SAAA,CAAAC,YAAA,MAAAqB,OAAA,CAAAtB,SAAA,CAAAT,SAAA,CAAA+B,OAAA,CAtJDC,UAAU,CAAV,SAAAA,UAAUA,CAAA,CAAG,CACZ,GAAM,CAAAR,IAAI,CAAG,IAAI,CAACC,KAAK,CAACD,IAAI,CAC5B,GAAI,CAACA,IAAI,CAAClC,MAAM,CAAE,MAAO,KAAI,CAC7B,GAAM,CAAAa,IAAI,CAAGD,EAAE,CAAC+B,QAAQ,CAACC,gBAAgB,CAACV,IAAI,CAAClC,MAAM,CAAC,EAAI,CACzDA,MAAM,CAAEkC,IAAI,CAAClC,MAAM,CAAEC,IAAI,CAAEiC,IAAI,CAACjC,IAAI,CAAC4C,KAAK,CAAC,CAAC,CAAC,CAAEC,MAAM,CAAE,WACxD,CAAC,CACD,GAAI,CAACjC,IAAI,CAACiC,MAAM,CAAE,CAEjBjC,IAAI,CAACZ,IAAI,CAAGiC,IAAI,CAACjC,IAAI,CACtB,CACA,GAAM,CAAA8C,eAAe,CAAGb,IAAI,CAAC/B,EAAE,CAAC6C,UAAU,CAAC,WAAW,CAAC,CAEvD,GAAM,CAAAC,KAAK,CAAGrC,EAAE,CAACsC,MAAM,CAACC,QAAQ,CAACjB,IAAI,CAACjC,IAAI,CAAC,CAC3C,GAAI,CAAAmD,SAAgC,CAAGH,KAAK,CAAChD,IAAI,EAAI,IAAI,CACzD,GAAIgD,KAAK,CAACI,IAAI,GAAK,YAAY,CAAE,CAChCD,SAAS,CAAGE,MAAA,CAAAC,CAAA,SAAMC,KAAK,CAAC,eAAe,EAAEJ,SAAgB,CAAC,CAC3D,CAEA,GAAM,CAAAK,WAAW,CAAG7C,EAAE,CAACsC,MAAM,CAACC,QAAQ,CAACtC,IAAI,CAACoC,KAAK,CAAC,CAClD,GAAI,CAAAS,eAAsC,CAAGD,WAAW,CAACxD,IAAI,YAAcwD,WAAW,CAACxD,IAAM,EAAI,IAAI,CACrG,GAAIwD,WAAW,CAACJ,IAAI,GAAK,YAAY,CAAE,CACtCK,eAAe,CAAGJ,MAAA,CAAAC,CAAA,SAAMC,KAAK,CAAC,eAAe,EAAEE,eAAsB,CAAC,CACvE,CACA,GAAID,WAAW,CAACxD,IAAI,GAAKgD,KAAK,CAAChD,IAAI,CAAEmD,SAAS,CAAG,IAAI,CAErD,GAAI,CAAAO,SAAgC,CAAG,IAAI,CAC3C,GAAI9C,IAAI,CAAC+C,KAAK,CAAE,CACf,GAAI,CAAAC,SAAS,CAAG,EAAE,CAClB,GAAI,CAAAC,OAAO,CAAG,EAAE,CAChB,GAAI,CAAAC,UAAU,CAAG,EAAE,CACnB,IAAK,GAAI,CAAAC,MAAM,GAAI,CAAAnD,IAAI,CAAC+C,KAAK,CAAE,CAC9B,GAAII,MAAM,GAAK,QAAQ,CAAE,SACzB,GAAM,CAAAC,OAAO,CAAGpD,IAAI,CAAC+C,KAAK,CAACI,MAAM,CAAC,CAClC,GAAI,CAAAE,QAA+B,CAAG,IAAI,CAC1C,GAAI,CAAC,aAAa,CAACpD,IAAI,CAACkD,MAAM,CAACjD,MAAM,CAAC,CAAC,CAAC,CAAC,CAAE,CAC1CmD,QAAQ,CAAGZ,MAAA,CAAAC,CAAA,UAAOC,KAAK,CAAC,8BAA8B,EAAEQ,MAAM,CAACjD,MAAM,CAAC,CAAC,CAAS,CAAC,CAClF,CACAiD,MAAM,CAAGG,QAAQ,CAACH,MAAM,CAAC,CAEzB,GAAIA,MAAM,CAACI,MAAM,CAAC,CAAC,CAAE,CAAC,CAAC,GAAK,SAAS,CAAE,CACtC,GAAM,CAAAC,EAAE,CAAGJ,OAAO,CAACI,EAAE,CAAED,MAAM,CAAC,CAAC,CAAC,CAChC,GAAM,CAAAE,EAAE,CAAGL,OAAO,CAACK,EAAE,CAAEF,MAAM,CAAC,CAAC,CAAC,CAChC,GAAM,CAAAG,SAAS,CAAI3D,EAAE,CAACC,IAAI,CAACb,MAAM,GAAKwE,QAAQ,CAACH,EAAE,CAAC,EAAIzD,EAAE,CAACC,IAAI,CAACb,MAAM,GAAKwE,QAAQ,CAACF,EAAE,CAAE,CACtF,GAAM,CAAAG,QAAQ,CAAGnB,MAAA,CAAAC,CAAA,MAChBmB,IAAI,KAAMV,MAAS,CAAC,QAAO,OAAO,EAAIO,SAAS,EAAIP,MAAM,GAAI,CAAApD,EAAE,CAACgD,KAAK,CAAG,QAAQ,CAAG,EAAE,CAAE,CACvFe,KAAK,EAAKN,EAAE,EAAI,GAAG,UAAOC,EAAE,EAAI,GAAG,CAAG,EACrCJ,QAAQ,CAAEF,MAAM,CAACI,MAAM,CAAC,CAAC,CAAK,CAAC,CACjC,GAAIH,OAAO,CAACW,SAAS,CAAE,CACtB,GAAIb,UAAU,CAACvC,MAAM,CAAEuC,UAAU,CAACc,IAAI,CAAC,IAAI,CAAC,CAC5Cd,UAAU,CAACc,IAAI,CAACJ,QAAQ,CAAC,CAC1B,CAAC,IAAM,CACN,GAAIZ,SAAS,CAACrC,MAAM,CAAEqC,SAAS,CAACgB,IAAI,CAAC,IAAI,CAAC,CAC1ChB,SAAS,CAACgB,IAAI,CAACJ,QAAQ,CAAC,CACzB,CACD,CAAC,IAAM,CACN,GAAM,CAAAA,SAAQ,CAAGnB,MAAA,CAAAC,CAAA,MAAGmB,IAAI,KAAMV,MAAS,CAAC,QAAO,OAAO,EAAIA,MAAM,GAAI,CAAApD,EAAE,CAACgD,KAAK,CAAG,QAAQ,CAAG,EAAE,CAAE,EAC5FM,QAAQ,CAAEF,MACT,CAAC,CACJ,GAAIC,OAAO,CAACW,SAAS,CAAE,CACtB,GAAIb,UAAU,CAACvC,MAAM,CAAEuC,UAAU,CAACc,IAAI,CAAC,IAAI,CAAC,CAC5Cd,UAAU,CAACc,IAAI,CAACJ,SAAQ,CAAC,CAC1B,CAAC,IAAM,CACN,GAAIX,OAAO,CAACtC,MAAM,CAAEsC,OAAO,CAACe,IAAI,CAAC,IAAI,CAAC,CACtCf,OAAO,CAACe,IAAI,CAACJ,SAAQ,CAAC,CACvB,CACD,CACD,CACA,GAAIZ,SAAS,CAACrC,MAAM,CAAEqC,SAAS,CAACiB,OAAO,CAACxB,MAAA,CAAAC,CAAA,UAAK,CAAC,CAAED,MAAA,CAAAC,CAAA,WAAI,UAAY,CAAC,CAAE,GAAG,CAAC,CACvE,GAAIO,OAAO,CAACtC,MAAM,CAAEsC,OAAO,CAACgB,OAAO,CAACxB,MAAA,CAAAC,CAAA,UAAK,CAAC,CAAED,MAAA,CAAAC,CAAA,WAAI,YAAc,CAAC,CAAE,GAAG,CAAC,CACrE,GAAIQ,UAAU,CAACvC,MAAM,CAAEuC,UAAU,CAACe,OAAO,CAACxB,MAAA,CAAAC,CAAA,UAAK,CAAC,CAAED,MAAA,CAAAC,CAAA,WAAI,gBAAkB,CAAC,CAAE,GAAG,CAAC,CAC/E,GAAIM,SAAS,CAACrC,MAAM,EAAIsC,OAAO,CAACtC,MAAM,EAAIuC,UAAU,CAACvC,MAAM,CAAE,CAC5DmC,SAAS,CAAGL,MAAA,CAAAC,CAAA,UAAO,QAAM,OAAO,EAAEM,SAAS,CAAEC,OAAO,CAAEC,UAAkB,CAAC,CAC1E,CACD,CAAC,IAAM,IAAIlD,IAAI,CAAC+C,KAAK,GAAK,KAAK,CAAE,CAChCD,SAAS,CAAGL,MAAA,CAAAC,CAAA,WAAQ,QAAM,SAAS,EAAC,SAAe,CAAC,CACrD,CAEA,GAAM,CAAArD,MAAM,CAAGW,IAAI,CAACb,MAAM,GAAKY,EAAE,CAACC,IAAI,CAACb,MAAM,CAC7C,GAAI,CAAA+E,IAAI,CAAG,KAAK,CAChB,GAAI,CAAAC,MAAM,CAAG,IAAI,CACjB,GAAInE,IAAI,CAACmE,MAAM,CAAE,CAChBD,IAAI,CAAGlE,IAAI,CAACmE,MAAM,CAAChC,UAAU,CAAC,GAAG,CAAC,CAClCgC,MAAM,CAAGD,IAAI,CAAGlE,IAAI,CAACmE,MAAM,CAACnC,KAAK,CAAC,CAAC,CAAC,CAAGhC,IAAI,CAACmE,MAAM,CACnD,CAEA,GAAM,CAAAC,SAAS,CAAG,EAAE,CACpB,GAAI,CAAClC,eAAe,CAAE,CACrBkC,SAAS,CAACJ,IAAI,CAAC3E,MAAM,CACpBoD,MAAA,CAAAC,CAAA,MAAG,QAAM,WAAW,EACnBD,MAAA,CAAAC,CAAA,WAAQ,QAAM,QAAQ,CAAC2B,QAAQ,OAAC,WAAiB,CAAC,IAAC,CACnD5B,MAAA,CAAAC,CAAA,WAAQ,QAAM,QAAQ,CAAC,YAAU,KAAK,EAAC,WAAiB,CACtD,CAAC,CACD,CAAC3C,EAAE,CAACC,IAAI,CAACsE,KAAK,CACjB7B,MAAA,CAAAC,CAAA,MAAG,QAAM,WAAW,EACnBD,MAAA,CAAAC,CAAA,WAAQ,QAAM,QAAQ,CAAC2B,QAAQ,OAAC,WAAiB,CAAC,IAAC,CACnD5B,MAAA,CAAAC,CAAA,WAAQ,QAAM,QAAQ,CAAC2B,QAAQ,OAAC,MAAY,CAAC,IAAC,CAC9C5B,MAAA,CAAAC,CAAA,WAAQ,QAAM,QAAQ,CAAC2B,QAAQ,OAAE,QAAiB,CAChD,CAAC,CAEJ5B,MAAA,CAAAC,CAAA,MAAG,QAAM,WAAW,EACnBD,MAAA,CAAAC,CAAA,WAAQ,QAAM,QAAQ,CAAC,yBAAwB1C,IAAI,CAACb,MAAS,EAAC,WAAiB,CAAC,IAAC,CACjFsD,MAAA,CAAAC,CAAA,WAAQ,QAAM,QAAQ,CAAC,kBAAiB1C,IAAI,CAACb,MAAS,EAAC,MAAY,CAAC,IAAC,CACrEsD,MAAA,CAAAC,CAAA,WAAQ,QAAM,QAAQ,CAAC,2BAA0B1C,IAAI,CAACb,MAAM,MAAIkC,IAAI,CAACkD,YAAY,EAAI,EAAE,CAAG,EAAE,QAAiB,CAC3G,CACH,CAAC,CACF,GAAIlF,MAAM,CAAE,CACX+E,SAAS,CAACJ,IAAI,CACbvB,MAAA,CAAAC,CAAA,UAAK,CAAC,CACND,MAAA,CAAAC,CAAA,MAAG,QAAM,WAAW,CAACC,KAAK,CAAC,mBAAmB,EAC7CF,MAAA,CAAAC,CAAA,WAAQ,QAAM,QAAQ,CAAC,YAAU,OAAO,EAACD,MAAA,CAAAC,CAAA,MAAG,QAAM,cAAc,CAAC,kBAAW,CAAI,CAAC,eAAoB,CAAC,IAAC,CACvGD,MAAA,CAAAC,CAAA,WAAQ,QAAM,QAAQ,CAAC,WAAS,SAAS,EAACD,MAAA,CAAAC,CAAA,MAAG,QAAM,iBAAiB,CAAC,kBAAW,CAAI,CAAC,WAAgB,CACnG,CACJ,CAAC,CACF,CACD,CAEA,GAAM,CAAAT,MAAM,CAAGjC,IAAI,CAACiC,MAAM,GAAK,WAAW,CAAGuC,GAAG,CAACC,aAAa,KAAIzE,IAAI,CAACiC,MAAM,EAAI,SAAS,CAAE,CAAC,CAAG,IAAI,CACpG,MAAO,CAACQ,MAAA,CAAAC,CAAA,QAAK,QAAM,aAAa,EAC9BT,MAAM,GAAKZ,IAAI,CAAChC,MAAM,CACtBoD,MAAA,CAAAC,CAAA,QAAKgC,GAAG,CAAEzC,MAAO,CAAC,QAAM,qBAAqB,CAAC,YAAU,SAAS,CAAE,CAAC,CAEpEQ,MAAA,CAAAC,CAAA,QAAKgC,GAAG,CAAEzC,MAAO,CAAC,QAAM,eAAe,CAAE,CACzC,CAAC,CACFQ,MAAA,CAAAC,CAAA,eAAQD,MAAA,CAAAC,CAAA,MACPmB,IAAI,MAAOc,MAAM,CAACC,MAAM,CAACC,KAAK,KAAI7E,IAAI,CAACb,MAAS,CAAC2F,MAAM,CAAC,QAAQ,CAChEnC,KAAK,YAAYuB,IAAI,CAAG,SAAS,CAAGa,SAAS,CAACC,aAAa,CAAChF,IAAI,CAACb,MAAM,CAAC,CAAG,EAE1Ea,IAAI,CAACZ,IACJ,CAAS,CAAC,CAAAqD,MAAA,CAAAC,CAAA,UAAK,CAAC,CAClByB,MAAM,EAAI1B,MAAA,CAAAC,CAAA,QAAK,QAAM,YAAY,EAAEyB,MAAY,CAAC,CAChD5B,SAAS,EAAIE,MAAA,CAAAC,CAAA,QAAK,QAAM,qBAAqB,EAAEH,SAAe,CAAC,CAC/DM,eAAe,EAAIJ,MAAA,CAAAC,CAAA,QAAK,QAAM,uBAAuB,EAAEG,eAAqB,CAAC,CAC7E7C,IAAI,CAACiF,WAAW,EAAIxC,MAAA,CAAAC,CAAA,QAAK,QAAM,uBAAuB,EAAE1C,IAAI,CAACiF,WAAiB,CAAC,CAC/E,CAAC/C,eAAe,EAAIY,SACjB,CAAC,CAAEsB,SAAS,CAAC,CACnB,CAAC,CAAAxC,OAAA;;AAiBQsD,MAAM,CAAf,QAAS,CAAAA,MAAMA,CAAA,CAAG;AACjB,GAAM,CAAA7D,IAAI,CAAG,IAAI,CAACC,KAAK,CAACD,IAAI;AAC5B,GAAM,CAAA8D,UAAU,CAAG9D,IAAI,CAAC/B,EAAE,GAAK,OAAO;;AAEtC,MAAO,CAAAmD,MAAA,CAAAC,CAAA,CAAC0C,cAAc,EAAC/D,IAAI,CAAEA,IAAK,EAACoB,MAAA,CAAAC,CAAA,QAAK,QAAM,KAAK;AACjDyC,UAAU,EAAI1C,MAAA,CAAAC,CAAA,SAAM2C,QAAQ,CAAE,IAAI,CAACrE,MAAO,CAAC2B,KAAK,CAAE,CAAE2C,QAAQ,CAAE,OAAQ,CAAE;AACxE7C,MAAA,CAAAC,CAAA,UAAO,QAAM,OAAO,EAAC,YACV;;AACVD,MAAA,CAAAC,CAAA,UAAOF,IAAI,CAAC,QAAQ,CAACpD,IAAI,CAAC,UAAU,CAAC,QAAM,mBAAmB,CAACmG,OAAO,CAAE,IAAI,CAAC7D,UAAW,CAAC8D,QAAQ,CAAE,IAAI,CAAC9D,UAAW,CAAE;AAC/G,CAAC;AACP,CAACL,IAAI,CAAClC,MAAM,EAAIsD,MAAA,CAAAC,CAAA,MAAG,QAAM,WAAW;AACpCD,MAAA,CAAAC,CAAA,WAAQF,IAAI,CAAC,QAAQ,CAAC,QAAM,QAAQ,EAACC,MAAA,CAAAC,CAAA,eAAQ,SAAe,CAAS,CAAC,IAAC;AACvED,MAAA,CAAAC,CAAA,WAAQtD,IAAI,CAAC,WAAW,CAAC,QAAM,QAAQ,EAAC,OAAa;AACnD,CAAC;AACH,CAAC,CAACiC,IAAI,CAAClC,MAAM,EAAIsD,MAAA,CAAAC,CAAA,UAAK;AAClB,CAAC;;AAEN,IAAI,CAACb,UAAU,CAAC;AACb,CAAiB,CAAC;AACxB,CAAC,QAAAvB,SAAA,GAjLsBmF,WAAW,EAA7BnF,SAAS,CACEhB,EAAE,CAAG,MAAM,CADtBgB,SAAS,CAEEsE,MAAM,CAAG,CAAC,QAAQ,CAAE,YAAY,CAAE,OAAO,CAAC,CAFrDtE,SAAS,CAGEoF,KAAK,CAAG9G,QAAQ,CAH3B0B,SAAS,CAIEqF,QAAQ,CAAG,OAAO;;;AAgL7BC,gBAAgB,UAAAC,aAAA,WAAAD,iBAAA,MAAAE,MAAA,SAAAC,KAAA,CAAArF,SAAA,CAAAC,MAAA,CAAAlB,IAAA,KAAAmB,KAAA,CAAAmF,KAAA,EAAAC,KAAA,GAAAA,KAAA,CAAAD,KAAA,CAAAC,KAAA,IAAAvG,IAAA,CAAAuG,KAAA,EAAAtF,SAAA,CAAAsF,KAAA,GAAAF,MAAA,CAAAD,aAAA,CAAA5G,IAAA,CAAA6B,KAAA,CAAA+E,aAAA,QAAA9E,MAAA,CAAAtB,IAAA,SAAAqG,MAAA;;;;;;;;;;;;;;;;;;;;;;AAsBrBG,UAAU,CAAG,SAAChF,EAAS,CAAK;AAC3B6E,MAAA,CAAKI,QAAQ,CAAC,CAAEC,aAAa,CAAE,IAAI,CAAEC,YAAY,CAAE,KAAK,CAAEC,aAAa,CAAE,KAAM,CAAC,CAAC;AACjFpF,EAAE,CAACE,cAAc,CAAC,CAAC;AACnBF,EAAE,CAACG,wBAAwB,CAAC,CAAC;AAC9B,CAAC,CAAA0E,MAAA;AACDQ,SAAS,CAAG,SAACrF,EAAS,CAAK;AAC1B6E,MAAA,CAAKI,QAAQ,CAAC,CAAEE,YAAY,CAAE,IAAI,CAAED,aAAa,CAAE,KAAK,CAAEE,aAAa,CAAE,KAAM,CAAC,CAAC;AACjFpF,EAAE,CAACE,cAAc,CAAC,CAAC;AACnBF,EAAE,CAACG,wBAAwB,CAAC,CAAC;AAC9B,CAAC,CAAA0E,MAAA;AACDS,UAAU,CAAG,SAACtF,EAAS,CAAK;AAC3B6E,MAAA,CAAKI,QAAQ,CAAC,CAAEG,aAAa,CAAE,IAAI,CAAEF,aAAa,CAAE,KAAK,CAAEC,YAAY,CAAE,KAAM,CAAC,CAAC;AACjFnF,EAAE,CAACE,cAAc,CAAC,CAAC;AACnBF,EAAE,CAACG,wBAAwB,CAAC,CAAC;AAC9B,CAAC,CAAA0E,MAAA;;AAEDU,YAAY,CAAG,SAACvF,EAAS,CAAK;AAC7B6E,MAAA,CAAKI,QAAQ,CAAC,CAAEE,YAAY,CAAE,KAAK,CAAED,aAAa,CAAE,KAAK,CAAEE,aAAa,CAAE,KAAK,CAAEI,WAAW,CAAE,KAAM,CAAC,CAAC;AACtGxF,EAAE,CAACE,cAAc,CAAC,CAAC;AACnBF,EAAE,CAACG,wBAAwB,CAAC,CAAC;AAC9B,CAAC,CAAA0E,MAAA;;AAEDY,aAAa,CAAG,SAACzF,EAAS,CAAK;AAC9B,GAAM,CAAA0F,IAAI,CAAGb,MAAA,CAAKc,KAAK,CAACD,IAAI;AAC5B,GAAI,CAACA,IAAI,CAAE;AACX,IAAAE,iBAAA,CAAmCf,MAAA,CAAKgB,UAAU,CAAC,CAAC,CAA5CC,UAAU,CAAAF,iBAAA,CAAVE,UAAU,CAAEC,UAAU,CAAAH,iBAAA,CAAVG,UAAU;;AAE9B,GAAI,CAAAC,GAAG,CAAG,EAAE;AACZ,GAAIN,IAAI,CAACO,MAAM,GAAK,MAAM,CAAE;AAC3BD,GAAG,EAAIN,IAAI,CAACQ,QAAQ,GAAK,QAAQ,CAAG,YAAY,CAAG,QAAQ;AAC5D,CAAC,IAAM,IAAIR,IAAI,CAACO,MAAM,GAAK,KAAK,CAAE;AACjCD,GAAG,EAAIN,IAAI,CAACQ,QAAQ,GAAK,QAAQ,CAAG,WAAW,CAAG,OAAO;AAC1D,CAAC,IAAM,IAAIR,IAAI,CAACO,MAAM,GAAK,MAAM,CAAE;AAClCD,GAAG,EAAIN,IAAI,CAACQ,QAAQ,GAAK,QAAQ,CAAG,YAAY,CAAG,QAAQ;AAC5D,CAAC,IAAM,IAAIR,IAAI,CAACO,MAAM,GAAK,UAAU,CAAE;AACtCD,GAAG,EAAI,YAAY;AACpB,CAAC,IAAM;AACN;AACD;AACAA,GAAG,EAAOF,UAAU,MAAIJ,IAAI,CAACS,MAAM,CAAG,GAAG,CAAGT,IAAI,CAACS,MAAM,CAAG,EAAE,CAAE;AAC9DJ,UAAU,QAAVA,UAAU,CAAE5G,IAAI,CAAC6G,GAAG,CAAC;AACrBnB,MAAA,CAAKuB,KAAK,CAAC,CAAC;AACb,CAAC,CAAAvB,MAAA;;AAEDwB,eAAe,CAAG,SAACrG,EAAS,CAAK;AAChC,IAAAsG,kBAAA,CAAmCzB,MAAA,CAAKgB,UAAU,CAAC,CAAC,CAA5CC,UAAU,CAAAQ,kBAAA,CAAVR,UAAU,CAAEC,UAAU,CAAAO,kBAAA,CAAVP,UAAU;AAC9BA,UAAU,QAAVA,UAAU,CAAE5G,IAAI,gBAAgB2G,UAAY,CAAC;AAC7CjB,MAAA,CAAKI,QAAQ,CAAC,CAAEsB,WAAW,CAAE,IAAK,CAAC,CAAC;AACpCvG,EAAE,CAACE,cAAc,CAAC,CAAC;AACnBF,EAAE,CAACG,wBAAwB,CAAC,CAAC;AAC9B,CAAC,CAAA0E,MAAA;;AAED2B,YAAY,CAAG,UAAM;AACpB,IAAAC,kBAAA,CAAmC5B,MAAA,CAAKgB,UAAU,CAAC,CAAC,CAA5CC,UAAU,CAAAW,kBAAA,CAAVX,UAAU,CAAEC,UAAU,CAAAU,kBAAA,CAAVV,UAAU;AAC9BA,UAAU,QAAVA,UAAU,CAAE5G,IAAI,YAAY2G,UAAY,CAAC;AACzCjB,MAAA,CAAKuB,KAAK,CAAC,CAAC;AACb,CAAC,CAAAvB,MAAA;;AAED6B,cAAc,CAAG,UAAM;AACtB,IAAAC,kBAAA,CAAmC9B,MAAA,CAAKgB,UAAU,CAAC,CAAC,CAA5CC,UAAU,CAAAa,kBAAA,CAAVb,UAAU,CAAEC,UAAU,CAAAY,kBAAA,CAAVZ,UAAU;AAC9BA,UAAU,QAAVA,UAAU,CAAE5G,IAAI,cAAc2G,UAAY,CAAC;AAC3CjB,MAAA,CAAKuB,KAAK,CAAC,CAAC;AACb,CAAC,CAAAvB,MAAA;;AAED+B,QAAQ,CAAG,SAAC5G,EAAS,CAAK,KAAA6G,WAAA;AACzBhC,MAAA,CAAKI,QAAQ,CAAC,CAAEC,aAAa,CAAE,KAAM,CAAC,CAAC;AACvC,GAAM,CAAA4B,MAAM,CAAI9G,EAAE,CAAC+G,aAAa,CAAuBvG,KAAK,GAAK,KAAK;AACtE,GAAM,CAAA2F,MAAM,EAAAU,WAAA,CAAGhC,MAAA,CAAKvE,IAAI,UAAAuG,WAAA,CAATA,WAAA,CAAWtG,aAAa,CAAmB,wBAAwB,CAAC,eAApEsG,WAAA,CAAsErG,KAAK;AAC1F,GAAM,CAAAkF,IAAI,CAAG;AACZO,MAAM,CAAE,MAAM;AACdE,MAAM,CAANA,MAAM;AACND,QAAQ,CAAEY,MAAM,CAAG,QAAQ,CAAG;AAC/B,CAAC;AACDjC,MAAA,CAAKI,QAAQ,CAAC,CAAES,IAAI,CAAJA,IAAI,CAAEF,WAAW,CAAE,IAAK,CAAC,CAAC;AAC1CxF,EAAE,CAACE,cAAc,CAAC,CAAC;AACnBF,EAAE,CAACG,wBAAwB,CAAC,CAAC;AAC9B,CAAC,CAAA0E,MAAA;;AAEDmC,OAAO,CAAG,SAAChH,EAAS,CAAK,KAAAiH,YAAA;AACxBpC,MAAA,CAAKI,QAAQ,CAAC,CAAEE,YAAY,CAAE,KAAM,CAAC,CAAC;AACtC,GAAM,CAAA+B,OAAO,CAAIlH,EAAE,CAAC+G,aAAa,CAAuBvG,KAAK,GAAK,KAAK;AACvE,GAAM,CAAA2F,MAAM,EAAAc,YAAA,CAAGpC,MAAA,CAAKvE,IAAI,UAAA2G,YAAA,CAATA,YAAA,CAAW1G,aAAa,CAAmB,uBAAuB,CAAC,eAAnE0G,YAAA,CAAqEzG,KAAK;AACzF,GAAM,CAAAkF,IAAI,CAAG;AACZO,MAAM,CAAE,KAAK;AACbE,MAAM,CAANA,MAAM;AACND,QAAQ,CAAEgB,OAAO,CAAG,QAAQ,CAAG;AAChC,CAAC;AACDrC,MAAA,CAAKI,QAAQ,CAAC,CAAES,IAAI,CAAJA,IAAI,CAAEF,WAAW,CAAE,IAAK,CAAC,CAAC;AAC1CxF,EAAE,CAACE,cAAc,CAAC,CAAC;AACnBF,EAAE,CAACG,wBAAwB,CAAC,CAAC;AAC9B,CAAC,CAAA0E,MAAA;;AAEDsC,QAAQ,CAAG,SAACnH,EAAS,CAAK,KAAAoH,YAAA;AACzBvC,MAAA,CAAKI,QAAQ,CAAC,CAAEG,aAAa,CAAE,KAAM,CAAC,CAAC;AACvC,GAAM,CAAAiC,QAAQ,CAAIrH,EAAE,CAAC+G,aAAa,CAAuBvG,KAAK,GAAK,KAAK;AACxE,GAAM,CAAA8G,UAAU,CAAItH,EAAE,CAAC+G,aAAa,CAAuBvG,KAAK,GAAK,MAAM;AAC3E,GAAM,CAAA2F,MAAM,EAAAiB,YAAA,CAAGvC,MAAA,CAAKvE,IAAI,UAAA8G,YAAA,CAATA,YAAA,CAAW7G,aAAa,CAAmB,wBAAwB,CAAC,eAApE6G,YAAA,CAAsE5G,KAAK;AAC1F,GAAM,CAAAkF,IAAI,CAAG;AACZO,MAAM,CAAEqB,UAAU,CAAG,UAAU,CAAG,MAAM;AACxCnB,MAAM,CAANA,MAAM;AACND,QAAQ,CAAEmB,QAAQ,CAAG,QAAQ,CAAG;AACjC,CAAC;AACDxC,MAAA,CAAKI,QAAQ,CAAC,CAAES,IAAI,CAAJA,IAAI,CAAEF,WAAW,CAAE,IAAK,CAAC,CAAC;AAC1CxF,EAAE,CAACE,cAAc,CAAC,CAAC;AACnBF,EAAE,CAACG,wBAAwB,CAAC,CAAC;AAC9B,CAAC,CAAA0E,MAAA;;AAED0C,cAAc,CAAG,SAACrJ,MAAc,CAAK;AACpC,GAAM,CAAAsJ,QAAQ,CAAG1I,EAAE,CAAC2I,KAAK,CAACC,MAAM,EAAI,CAAC,CAAC;AACtC,GAAIF,QAAQ,CAACtJ,MAAM,CAAC,GAAK,CAAC,CAAE,MAAO,KAAI;AACvC,MAAO,MAAK;AACb,CAAC,QAAA2G,MAAA,EAAAnG,cAAA,CAAAiG,gBAAA,CAAAC,aAAA,MAAA+C,OAAA,CAAAhD,gBAAA,CAAA/F,SAAA,CAAA+I,OAAA,CAxHD9B,UAAU,CAAV,SAAAA,UAAUA,CAAA,CAAG,KAAA+B,WAAA,CAAAC,YAAA,CAAAC,YAAA,CAAAC,YAAA,CAAAC,YAAA,CACZ,IAAAC,qBAAA,CAAqC,IAAI,CAAC5H,KAAK,CAACD,IAAI,CAAC/B,EAAE,CAACC,KAAK,CAAC,GAAG,CAAC,CAAzDwH,UAAU,CAAAmC,qBAAA,IAAEC,YAAY,CAAAD,qBAAA,IACjC,GAAI,CAAAlC,UAAU,CAAIjH,EAAE,CAACgD,KAAK,CAACoG,YAAY,CAAC,EAAI,IAAwB,CACpE,GAAI,EAAAN,WAAA,CAAA7B,UAAU,eAAV6B,WAAA,CAAYrG,IAAI,IAAK,MAAM,CAAEwE,UAAU,EAAA8B,YAAA,CAAG9B,UAAU,eAAV8B,YAAA,CAAYM,SAAS,CAAC,CAAa,CACjF,GAAI,EAAAL,YAAA,CAAA/B,UAAU,eAAV+B,YAAA,CAAYvG,IAAI,IAAK,MAAM,CAAEwE,UAAU,EAAAgC,YAAA,CAAGhC,UAAU,eAAVgC,YAAA,CAAYI,SAAS,CAAC,CAAa,CACjF,GAAI,EAAAH,YAAA,CAAAjC,UAAU,eAAViC,YAAA,CAAYzG,IAAI,IAAK,MAAM,CAAEwE,UAAU,CAAG,IAAI,CAClD,MAAO,CAAED,UAAU,CAAEA,UAAgB,CAAEoC,YAAY,CAAEA,YAAsB,CAAEnC,UAAU,CAAVA,UAAW,CAAC,CAC1F,CAAC,CAAA4B,OAAA;;AAmHQ1D,MAAM,CAAf,QAAS,CAAAA,MAAMA,CAAA,CAAG,KAAAmE,MAAA,MAAAC,gBAAA,CAAAC,iBAAA,CAAAC,iBAAA;AACjB,GAAM,CAAAnI,IAAI,CAAG,IAAI,CAACC,KAAK,CAACD,IAAI;AAC5B,GAAM,CAAAoI,QAAQ,CAAG,CAAC,GAAG,CAAE,GAAG,CAAE,GAAG,CAAC;AAChC,GAAM,CAAAC,SAAS,EAAI,GAAG,EAAA3I,MAAA,CAAK0I,QAAQ,CAAC;AACpC,IAAAE,gBAAA,CAAmC,IAAI,CAAC7C,UAAU,CAAC,CAAC,CAA5CC,UAAU,CAAA4C,gBAAA,CAAV5C,UAAU,CAAEC,UAAU,CAAA2C,gBAAA,CAAV3C,UAAU;AAC9B,GAAM,CAAA4C,aAAa,CAAG,CAAA5C,UAAU,cAAVA,UAAU,CAAEnC,KAAK,CAAC9E,EAAE,CAACC,IAAI,CAACb,MAAM,CAAC,CAACe,MAAM,CAAC,CAAC,CAAC,GAAI,EAAE;AACvE,GAAM,CAAA2J,OAAO,CAAGH,SAAS,CAACI,QAAQ,CAACF,aAAa,CAAC;AACjD,GAAM,CAAAG,MAAM,CAAGN,QAAQ,CAACK,QAAQ,CAACF,aAAa,CAAC;AAC/C,GAAM,CAAAI,OAAO,CAAGN,SAAS,CAACI,QAAQ,CAAC/J,EAAE,CAACC,IAAI,CAACoC,KAAK,CAAC;AACjD,GAAM,CAAA6H,SAAS,CAAG,QAAAA,CAACC,UAAkB,CAAK;AACzC,GAAIA,UAAU,GAAK,MAAM,CAAE;AAC1B,MAAO,CAAAL,OAAO,EAAI,CAACR,MAAI,CAACzC,KAAK,CAACP,aAAa,EAAI,CAACgD,MAAI,CAACzC,KAAK,CAACR,YAAY,EAAI,CAACiD,MAAI,CAACzC,KAAK,CAACH,WAAW;AACnG;AACA,GAAIyD,UAAU,GAAK,KAAK,CAAE;AACzB,MAAO,CAAAH,MAAM,EAAI,CAACV,MAAI,CAACzC,KAAK,CAACP,aAAa,EAAI,CAACgD,MAAI,CAACzC,KAAK,CAACT,aAAa,EAAI,CAACkD,MAAI,CAACzC,KAAK,CAACH,WAAW;AACnG;AACA,GAAIyD,UAAU,GAAK,MAAM,CAAE;AAC1B,MAAO,CAAAF,OAAO,EAAI,CAACX,MAAI,CAACzC,KAAK,CAACR,YAAY,EAAI,CAACiD,MAAI,CAACzC,KAAK,CAACT,aAAa,EAAI,CAACkD,MAAI,CAACzC,KAAK,CAACH,WAAW;AACnG;AACD,CAAC;;AAED,MAAO,CAAAhE,MAAA,CAAAC,CAAA,CAAC0C,cAAc,EAAC/D,IAAI,CAAEA,IAAK,CAAC8I,KAAK,CAAE,GAAI,EAAC1H,MAAA,CAAAC,CAAA,QAAK,QAAM,KAAK;AAC9DD,MAAA,CAAAC,CAAA;AACE,IAAI,CAAC8F,cAAc,CAACzB,UAAU,CAAC;AAC/BtE,MAAA,CAAAC,CAAA,WAAQ0H,OAAO,CAAE,IAAI,CAACzC,cAAe,CAAC,QAAM,QAAQ,EAAC;;AAE7C,CAAC;;AAETlF,MAAA,CAAAC,CAAA,WAAQ0H,OAAO,CAAE,IAAI,CAAC3C,YAAa,CAAC,QAAM,QAAQ,EAAC;;AAE3C;;AAEP,CAAC;AACJhF,MAAA,CAAAC,CAAA;AACCD,MAAA,CAAAC,CAAA,WAAQ,6CAA4CqE,UAAa,CAAC,QAAM,QAAQ,EAAC;;AAEzE;AACN,CAAC;AACJtE,MAAA,CAAAC,CAAA;AACE,IAAI,CAACkE,KAAK,CAACY,WAAW;AACtB/E,MAAA,CAAAC,CAAA,WAAQ,QAAM,iBAAiB,EAAC;;AAExB,CAAC;;AAETD,MAAA,CAAAC,CAAA,WAAQ0H,OAAO,CAAE,IAAI,CAAC9C,eAAgB,CAAC,QAAM,QAAQ,EAAC;;AAE9C;;AAEP,CAAC;AACH,CAACuC,OAAO,EAAIE,MAAM,EAAIC,OAAO,GAAKvH,MAAA,CAAAC,CAAA,UAAK,CAAC;AACxC,IAAI,CAACkE,KAAK,CAACH,WAAW,EAAIhE,MAAA,CAAAC,CAAA;AAC1BD,MAAA,CAAAC,CAAA,eAAA4G,gBAAA;AACE,IAAI,CAAC1C,KAAK,CAACD,IAAI,eAAf2C,gBAAA,CAAiBpC,MAAM,CAAC,GAAC,CAAAzE,MAAA,CAAAC,CAAA,UAAIqE,UAAc,CAAC,IAAC;AAC7C,GAAAwC,iBAAA,CAAC,IAAI,CAAC3C,KAAK,CAACD,IAAI,SAAf4C,iBAAA,CAAiBrC,MAAM,CAACmD,QAAQ,CAAC,KAAK,CAAC,EAAG5H,MAAA,CAAAC,CAAA,CAAAD,MAAA,CAAA6H,QAAA,MAAE,OAAK,CAAA7H,MAAA,CAAAC,CAAA,UAAIsE,UAAU,cAAVA,UAAU,CAAElD,KAAS,CAAG,CAAC,CAAG,EAAE,CAAC,OAAK,EAAA0F,iBAAA,CAAC,IAAI,CAAC5C,KAAK,CAACD,IAAI,eAAf6C,iBAAA,CAAiBrC,QAAQ,CAAC;AAChH,CAAC;AACR1E,MAAA,CAAAC,CAAA,MAAG,QAAM,WAAW;AACnBD,MAAA,CAAAC,CAAA,WAAQ,QAAM,QAAQ,CAAC0H,OAAO,CAAE,IAAI,CAAC1D,aAAc;AAClDjE,MAAA,CAAAC,CAAA,MAAG,QAAM,eAAe,CAAC,kBAAW,CAAI,CAAC;AAClC,CAAC,IAAC;AACVD,MAAA,CAAAC,CAAA,WAAQ,QAAM,QAAQ,CAAC0H,OAAO,CAAE,IAAI,CAAC5D,YAAa,EAAC;;AAE3C;AACN;AACD,CAAC;AACJ/D,MAAA,CAAAC,CAAA,MAAG,QAAM,WAAW;AAClBuH,SAAS,CAAC,MAAM,CAAC,GAAK,IAAI,CAACrD,KAAK,CAACT,aAAa;AAC9C1D,MAAA,CAAAC,CAAA;AACCD,MAAA,CAAAC,CAAA,UAAO,QAAM,OAAO,EAAC,UACZ;;AACRD,MAAA,CAAAC,CAAA,UAAOtD,IAAI,CAAC,YAAY,CAAC,QAAM,mBAAmB,CAACmL,WAAW,CAAC,wBAAwB,CAAE;AACnF,CAAC,IAAC,CAAE,GAAC,CAAA9H,MAAA,CAAAC,CAAA,UAAK,CAAC;AAClBD,MAAA,CAAAC,CAAA,WAAQ,QAAM,QAAQ,CAAC0H,OAAO,CAAE,IAAI,CAACvC,QAAS,CAACpG,KAAK,CAAC,MAAM,EAAC,YAAkB,CAAC,IAAC;AAChFgB,MAAA,CAAAC,CAAA,WAAQ,QAAM,QAAQ,CAAC0H,OAAO,CAAE,IAAI,CAACvC,QAAS,CAACpG,KAAK,CAAC,KAAK,EAAC,YAAkB,CAAC,IAAC;AAC/EgB,MAAA,CAAAC,CAAA,WAAQ,QAAM,QAAQ,CAAC0H,OAAO,CAAE,IAAI,CAAC5D,YAAa,EAAC,SAAe;AAC9D,CAAC;;AAEN/D,MAAA,CAAAC,CAAA,WAAQ,QAAM,QAAQ,CAAC0H,OAAO,CAAE,IAAI,CAACnE,UAAW;AAC/CxD,MAAA,CAAAC,CAAA,MAAG,QAAM,sBAAsB,CAAC,kBAAW,CAAI,CAAC;AACzC,CACR,CAAC;AAAC,GAAC;AACHuH,SAAS,CAAC,KAAK,CAAC,GAAK,IAAI,CAACrD,KAAK,CAACR,YAAY;AAC5C3D,MAAA,CAAAC,CAAA;AACCD,MAAA,CAAAC,CAAA,UAAO,QAAM,OAAO,EAAC,UACZ;;AACRD,MAAA,CAAAC,CAAA,UAAOtD,IAAI,CAAC,WAAW,CAAC,QAAM,mBAAmB,CAACmL,WAAW,CAAC,uBAAuB,CAAE;AACjF,CAAC,CAAA9H,MAAA,CAAAC,CAAA,UAAK,CAAC;AACdD,MAAA,CAAAC,CAAA,WAAQ,QAAM,QAAQ,CAAC0H,OAAO,CAAE,IAAI,CAACnC,OAAQ,CAACxG,KAAK,CAAC,IAAI,EAAC,YAAkB,CAAC,IAAC;AAC7EgB,MAAA,CAAAC,CAAA,WAAQ,QAAM,QAAQ,CAAC0H,OAAO,CAAE,IAAI,CAACnC,OAAQ,CAACxG,KAAK,CAAC,KAAK,EAAC,YAAkB,CAAC,IAAC;AAC9EgB,MAAA,CAAAC,CAAA,WAAQ,QAAM,QAAQ,CAAC0H,OAAO,CAAE,IAAI,CAAC5D,YAAa,EAAC,QAAc;AAC7D,CAAC;;AAEN/D,MAAA,CAAAC,CAAA,WAAQ,QAAM,QAAQ,CAAC0H,OAAO,CAAE,IAAI,CAAC9D,SAAU;AAC9C7D,MAAA,CAAAC,CAAA,MAAG,QAAM,aAAa,CAAC,kBAAW,CAAI,CAAC;AAChC,CACR,CAAC;AAAC,GAAC;AACHuH,SAAS,CAAC,MAAM,CAAC,GAAK,IAAI,CAACrD,KAAK,CAACP,aAAa;AAC9C5D,MAAA,CAAAC,CAAA;AACCD,MAAA,CAAAC,CAAA,UAAO,QAAM,OAAO,EAAC,UACZ;;AACRD,MAAA,CAAAC,CAAA,UAAOtD,IAAI,CAAC,YAAY,CAAC,QAAM,mBAAmB,CAACmL,WAAW,CAAC,wBAAwB,CAAE;AACnF,CAAC,CAAA9H,MAAA,CAAAC,CAAA,UAAK,CAAC;AACdD,MAAA,CAAAC,CAAA,WAAQ,QAAM,QAAQ,CAAC0H,OAAO,CAAE,IAAI,CAAChC,QAAS,CAAC3G,KAAK,CAAC,IAAI,EAAC,YAAkB,CAAC,IAAC;AAC9EgB,MAAA,CAAAC,CAAA,WAAQ,QAAM,QAAQ,CAAC0H,OAAO,CAAE,IAAI,CAAChC,QAAS,CAAC3G,KAAK,CAAC,KAAK,EAAC,YAAkB,CAAC,IAAC;AAC/EgB,MAAA,CAAAC,CAAA,WAAQ,QAAM,QAAQ,CAAC0H,OAAO,CAAE,IAAI,CAAChC,QAAS,CAAC3G,KAAK,CAAC,MAAM,EAAC,UAAgB,CAAC,IAAC;AAC9EgB,MAAA,CAAAC,CAAA,WAAQ,QAAM,QAAQ,CAAC0H,OAAO,CAAE,IAAI,CAAC5D,YAAa,EAAC,QAAc;AAC7D,CAAC;;AAEN/D,MAAA,CAAAC,CAAA,WAAQ,QAAM,QAAQ,CAAC0H,OAAO,CAAE,IAAI,CAAC7D,UAAW;AAC/C9D,MAAA,CAAAC,CAAA,MAAG,QAAM,YAAY,CAAC,kBAAW,CAAI,CAAC;AAC/B,CACR;;AACC;AACC,CAAiB,CAAC;AACxB,CAAC,QAAAkD,gBAAA,GAxP6BH,WAAW,EAApCG,gBAAgB,CACLtG,EAAE,CAAG,aAAa,CAD7BsG,gBAAgB,CAELhB,MAAM,CAAG,CAAC,eAAe,CAAC,CAFrCgB,gBAAgB,CAGLD,QAAQ,CAAG,OAAO,CAH7BC,gBAAgB,CAIL4E,KAAK,CAAG,IAAI;;;AAuPvBC,aAAa,UAAAC,aAAA,WAAAD,cAAA,SAAAC,aAAA,CAAA5J,KAAA,MAAAJ,SAAA,SAAAf,cAAA,CAAA8K,aAAA,CAAAC,aAAA,MAAAC,OAAA,CAAAF,aAAA,CAAA5K,SAAA,CAAA8K,OAAA;;;;;AAKTzF,MAAM,CAAf,QAAS,CAAAA,MAAMA,CAAA,CAAG;AACjB,GAAM,CAAA7D,IAAI,CAAG,IAAI,CAACC,KAAK,CAACD,IAAI;AAC5B,GAAM,CAAAuJ,UAAU,CAAGvJ,IAAI,CAAC+H,SAAS,CAAC,CAAa;AAC/C,GAAIwB,UAAU,CAACpI,IAAI,GAAK,MAAM,EAAIoI,UAAU,CAACpI,IAAI,GAAK,QAAQ,CAAE;AAC/D,KAAM,IAAI,CAAAqI,KAAK,mBAAmBxJ,IAAI,CAAC/B,EAAE,sBAAqB,CAAC;AAChE;;AAEA,MAAO,CAAAmD,MAAA,CAAAC,CAAA,CAAC0C,cAAc,EAAC/D,IAAI,CAAEA,IAAK,CAAC8I,KAAK,CAAE,GAAI,EAAC1H,MAAA,CAAAC,CAAA,QAAK,QAAM,KAAK;AAC9DD,MAAA,CAAAC,CAAA,CAACoI,YAAY,EAACzJ,IAAI,CAAEuJ,UAAW,CAAC,aAAM,CAAE;AACpC,CAAiB,CAAC;AACxB,CAAC,QAAAH,aAAA,GAf0BhF,WAAW,EAAjCgF,aAAa,CACFnL,EAAE,CAAG,UAAU,CAD1BmL,aAAa,CAEF7F,MAAM,CAAG,CAAC,UAAU,CAAC,CAFhC6F,aAAa,CAGF9E,QAAQ,CAAG,iBAAiB,CAHvC8E,aAAa,CAIFD,KAAK,CAAG,IAAI;;;AAcvBO,WAAW,UAAAC,aAAA,WAAAD,YAAA,MAAAE,MAAA,SAAAC,KAAA,CAAAxK,SAAA,CAAAC,MAAA,CAAAlB,IAAA,KAAAmB,KAAA,CAAAsK,KAAA,EAAAC,KAAA,GAAAA,KAAA,CAAAD,KAAA,CAAAC,KAAA,IAAA1L,IAAA,CAAA0L,KAAA,EAAAzK,SAAA,CAAAyK,KAAA,GAAAF,MAAA,CAAAD,aAAA,CAAA/L,IAAA,CAAA6B,KAAA,CAAAkK,aAAA,QAAAjK,MAAA,CAAAtB,IAAA,SAAAwL,MAAA;;;;;AAKhBG,SAAS,CAAG,SAACC,CAAQ,CAAK;AACzB,GAAM,CAAAC,MAAM,CAAGD,CAAC,CAACrD,aAAiC;AAClDjI,EAAE,CAAC2I,KAAK,CAAC6C,GAAG,CAACD,MAAM,CAAClM,IAAI,CAAoBoM,MAAM,CAACF,MAAM,CAAC7J,KAAK,CAAC,CAAC;AACjEwJ,MAAA,CAAKQ,WAAW,CAAC,CAAC;AACnB,CAAC,CAAAR,MAAA;AACDS,OAAO,CAAG,SAACL,CAAQ,CAAK;AACvB,GAAM,CAAAM,QAAQ,CAAGN,CAAC,CAACrD,aAAiC;AACpDjI,EAAE,CAAC2I,KAAK,CAAC6C,GAAG,CAAC,MAAM,CAAE,CAAC,CAACI,QAAQ,CAACC,OAAO,CAAC;AACxC7L,EAAE,CAACI,MAAM,CAAC,CAAC;AACZ,CAAC,QAAA8K,MAAA,EAAAtL,cAAA,CAAAoL,WAAA,CAAAC,aAAA,MAAAa,OAAA,CAAAd,WAAA,CAAAlL,SAAA,CAAAgM,OAAA;AACQC,iBAAiB,CAA1B,QAAS,CAAAA,iBAAiBA,CAAA,CAAG,KAAAC,MAAA;AAC5Bf,aAAA,CAAAnL,SAAA,CAAMiM,iBAAiB,CAAA7M,IAAA;AACvB,IAAI,CAAC+M,aAAa,CAAChI,IAAI,CAACjE,EAAE,CAAC2I,KAAK,CAACuD,SAAS,CAAC,UAAM;AAChDF,MAAI,CAACN,WAAW,CAAC,CAAC;AACnB,CAAC,CAAC,CAAC;AACJ,CAAC,CAAAI,OAAA;AACQ3G,MAAM,CAAf,QAAS,CAAAA,MAAMA,CAAA,CAAG;AACjB,GAAM,CAAA7D,IAAI,CAAG,IAAI,CAACC,KAAK,CAACD,IAAI;AAC5B,MAAO,CAAAoB,MAAA,CAAAC,CAAA,CAAC0C,cAAc,EAAC/D,IAAI,CAAEA,IAAK,EAACoB,MAAA,CAAAC,CAAA,QAAK,QAAM,KAAK;AAClDD,MAAA,CAAAC,CAAA,WAAI,QAAU,CAAC;AACfD,MAAA,CAAAC,CAAA,MAAG,QAAM,QAAQ;AAChBD,MAAA,CAAAC,CAAA,UAAO,QAAM,UAAU,EAAC,WACd;AAAAD,MAAA,CAAAC,CAAA,SAAM,QAAM,OAAO,EAAE,CAAC3C,EAAE,CAAC2I,KAAK,CAACwD,IAAI,EAAInM,EAAE,CAAC2I,KAAK,CAACyD,YAAY,CAAMpM,EAAE,CAAC2I,KAAK,CAACyD,YAAY,QAAgB;AAC1G,CAAC;AACPpM,EAAE,CAAC2I,KAAK,CAACwD,IAAI;AACbzJ,MAAA,CAAAC,CAAA,WAAI,SAAW,CAAC;AAChBD,MAAA,CAAAC,CAAA;AACCF,IAAI,CAAC,OAAO,CAAC4J,GAAG,CAAC,GAAG,CAACC,GAAG,CAAC,KAAK,CAACC,IAAI,CAAC,GAAG,CAAClN,IAAI,CAAC,cAAc,CAACqC,KAAK,CAAE1B,EAAE,CAAC2I,KAAK,CAACyD,YAAa;AACzF3G,QAAQ,CAAE,IAAI,CAAC4F,SAAU,CAAC7F,OAAO,CAAE,IAAI,CAAC6F,SAAU,CAACmB,OAAO,CAAE,IAAI,CAACnB,SAAU;AAC3E;AACA,CAAC;AACJ3I,MAAA,CAAAC,CAAA,MAAG,QAAM,QAAQ;AAChBD,MAAA,CAAAC,CAAA,UAAO,QAAM,UAAU,EAAC,SAChB;AAAAD,MAAA,CAAAC,CAAA,SAAM,QAAM,OAAO,EAAE,CAAC3C,EAAE,CAAC2I,KAAK,CAACwD,IAAI,EAAInM,EAAE,CAAC2I,KAAK,CAAC8D,WAAW,CAAMzM,EAAE,CAAC2I,KAAK,CAAC8D,WAAW,QAAgB;AACtG,CAAC;AACPzM,EAAE,CAAC2I,KAAK,CAACwD,IAAI;AACbzJ,MAAA,CAAAC,CAAA,WAAI,SAAW,CAAC;AAChBD,MAAA,CAAAC,CAAA;AACCF,IAAI,CAAC,OAAO,CAAC4J,GAAG,CAAC,GAAG,CAACC,GAAG,CAAC,KAAK,CAACC,IAAI,CAAC,GAAG,CAAClN,IAAI,CAAC,aAAa,CAACqC,KAAK,CAAE1B,EAAE,CAAC2I,KAAK,CAAC8D,WAAY;AACvFhH,QAAQ,CAAE,IAAI,CAAC4F,SAAU,CAAC7F,OAAO,CAAE,IAAI,CAAC6F,SAAU,CAACmB,OAAO,CAAE,IAAI,CAACnB,SAAU;AAC3E;AACA,CAAC;AACJ3I,MAAA,CAAAC,CAAA,MAAG,QAAM,QAAQ;AAChBD,MAAA,CAAAC,CAAA,UAAO,QAAM,UAAU,EAAC,iBACR;;AACfD,MAAA,CAAAC,CAAA,SAAM,QAAM,OAAO,EAAE,CAAC3C,EAAE,CAAC2I,KAAK,CAACwD,IAAI,EAAInM,EAAE,CAAC2I,KAAK,CAAC+D,WAAW,CAAM1M,EAAE,CAAC2I,KAAK,CAAC+D,WAAW,QAAgB;AAC/F,CAAC;AACP1M,EAAE,CAAC2I,KAAK,CAACwD,IAAI;AACbzJ,MAAA,CAAAC,CAAA,WAAI,SAAW,CAAC;AAChBD,MAAA,CAAAC,CAAA;AACCF,IAAI,CAAC,OAAO,CAAC4J,GAAG,CAAC,GAAG,CAACC,GAAG,CAAC,KAAK,CAACC,IAAI,CAAC,GAAG,CAAClN,IAAI,CAAC,aAAa,CAACqC,KAAK,CAAE1B,EAAE,CAAC2I,KAAK,CAAC+D,WAAY;AACvFjH,QAAQ,CAAE,IAAI,CAAC4F,SAAU,CAAC7F,OAAO,CAAE,IAAI,CAAC6F,SAAU,CAACmB,OAAO,CAAE,IAAI,CAACnB,SAAU;AAC3E;AACA,CAAC;AACJ3I,MAAA,CAAAC,CAAA;AACCD,MAAA,CAAAC,CAAA,UAAO,QAAM,UAAU;AACtBD,MAAA,CAAAC,CAAA,UAAOF,IAAI,CAAC,UAAU,CAACpD,IAAI,CAAC,MAAM,CAACwM,OAAO,CAAE7L,EAAE,CAAC2I,KAAK,CAACwD,IAAK,CAAC1G,QAAQ,CAAE,IAAI,CAACkG,OAAQ,CAAE,CAAC;AAC/E;AACL;AACC,CAAiB,CAAC;AACxB,CAAC,QAAAX,WAAA,GAjEwBtF,WAAW,EAA/BsF,WAAW,CACAzL,EAAE,CAAG,QAAQ,CADxByL,WAAW,CAEAnG,MAAM,CAAG,CAAC,QAAQ,CAAC,CAF9BmG,WAAW,CAGApF,QAAQ,CAAG,OAAO;;;AAiE7B+G,YAAY,UAAAC,aAAA,WAAAD,aAAA,MAAAE,MAAA,SAAAC,KAAA,CAAAnM,SAAA,CAAAC,MAAA,CAAAlB,IAAA,KAAAmB,KAAA,CAAAiM,KAAA,EAAAC,KAAA,GAAAA,KAAA,CAAAD,KAAA,CAAAC,KAAA,IAAArN,IAAA,CAAAqN,KAAA,EAAApM,SAAA,CAAAoM,KAAA,GAAAF,MAAA,CAAAD,aAAA,CAAA1N,IAAA,CAAA6B,KAAA,CAAA6L,aAAA,QAAA5L,MAAA,CAAAtB,IAAA,SAAAmN,MAAA;;;;;;;;;;AAUjBG,QAAQ,CAAG,SAAC1B,CAAQ,CAAK;AACxB,GAAM,CAAA2B,KAAK,CAAI3B,CAAC,CAACrD,aAAa,CAAuBvG,KAAoC;AACzF1B,EAAE,CAAC2I,KAAK,CAAC6C,GAAG,CAAC,OAAO,CAAEyB,KAAK,CAAC;AAC5BJ,MAAA,CAAKnB,WAAW,CAAC,CAAC;AACnB,CAAC,CAAAmB,MAAA;AACDK,SAAS,CAAG,SAAC5B,CAAQ,CAAK,KAAA6B,GAAA;AACzB,GAAM,CAAAC,MAAM,CAAI9B,CAAC,CAACrD,aAAa,CAAuBvG,KAAK;AAC3D,OAAQ0L,MAAM;AACd,IAAK,EAAE;AACNpN,EAAE,CAAC2I,KAAK,CAAC6C,GAAG,CAAC,UAAU,CAAE,IAAI,CAAC;AAC9B,CAAA2B,GAAA,CAAAnN,EAAE,EAACqN,UAAU,GAAbF,GAAA,CAAGE,UAAU,CAAKrN,EAAE,CAACgD,KAAK,CAAC,OAAO,CAAC,EAAI,IAAI;AAC3C;AACD,IAAK,UAAU;AACdhD,EAAE,CAAC2I,KAAK,CAAC6C,GAAG,CAAC,UAAU,CAAE,IAAI,CAAC;AAC9B;AACD,IAAK,UAAU;AACdxL,EAAE,CAAC2I,KAAK,CAAC6C,GAAG,CAAC,UAAU,CAAE,UAAU,CAAC;AACpC;AACD;AACAxL,EAAE,CAACI,MAAM,CAAC,CAAC;AACZ,CAAC,CAAAyM,MAAA;AACDS,oBAAoB,CAAG,SAACpM,EAAS,CAAK;AACrC,GAAM,CAAAqM,SAAS,CAAIrM,EAAE,CAAC+G,aAAa,CAAuBvG,KAAyB;AACnF1B,EAAE,CAAC2I,KAAK,CAAC6C,GAAG,CAAC,YAAY,CAAAgC,MAAA,CAAAC,MAAA,IAAOzN,EAAE,CAAC2I,KAAK,CAAC+E,UAAU,EAAEC,SAAS,CAAEJ,SAAS,EAAIK,SAAS,EAAE,CAAC;AAC1F,CAAC,CAAAf,MAAA;AACDgB,eAAe,CAAG,SAAC3M,EAAS,CAAK;AAChC,GAAM,CAAAqM,SAAS,CAAIrM,EAAE,CAAC+G,aAAa,CAAuBvG,KAAyB;AACnF1B,EAAE,CAAC2I,KAAK,CAAC6C,GAAG,CAAC,YAAY,CAAAgC,MAAA,CAAAC,MAAA,IAAOzN,EAAE,CAAC2I,KAAK,CAAC+E,UAAU,EAAEI,GAAG,CAAEP,SAAS,EAAIK,SAAS,EAAE,CAAC;AACpF,CAAC,CAAAf,MAAA;;AAEDkB,qBAAqB,CAAG,SAAC7M,EAAS,CAAK;AACtCA,EAAE,CAACE,cAAc,CAAC,CAAC;AACnBF,EAAE,CAACG,wBAAwB,CAAC,CAAC;AAC7BwL,MAAA,CAAK1G,QAAQ,CAAC,CAAE6H,eAAe,CAAE,CAACnB,MAAA,CAAKhG,KAAK,CAACmH,eAAgB,CAAC,CAAC;AAChE,CAAC,CAAAnB,MAAA;;AAEDoB,cAAc,CAAG,SAAC/M,EAAS,CAAK;AAC/B,GAAI,CAAAgN,IAAI,CAAGhN,EAAE,CAAC+G,aAAiC;AAC/C,GAAI,CAAAkG,OAAO,CAAGD,IAAI,CAAC7O,IAAI;AACvB,GAAI,CAAAqC,KAAK,CAAGwM,IAAI,CAACrC,OAAO;AACxB,OAAQsC,OAAO;AACf,IAAK,UAAU,CAAE;AAChBnO,EAAE,CAAC2I,KAAK,CAAC6C,GAAG,CAAC,UAAU,CAAE9J,KAAK,CAAC;AAC/B1B,EAAE,CAACK,IAAI,CAACqB,KAAK,CAAG,WAAW,CAAG,aAAa,CAAC;AAC5C;AACD;AACA,IAAK,iBAAiB,CAAE;AACvB1B,EAAE,CAAC2I,KAAK,CAAC6C,GAAG,CAAC,iBAAiB,CAAE9J,KAAK,CAAC;AACtC1B,EAAE,CAACK,IAAI,CAACqB,KAAK,CAAG,kBAAkB,CAAG,oBAAoB,CAAC;AAC1D;AACD;AACA,IAAK,OAAO,CAAE;AACb1B,EAAE,CAAC2I,KAAK,CAAC6C,GAAG,CAAC,OAAO,CAAE9J,KAAK,CAAC;AAC5B+C,GAAG,CAAC2J,cAAc,CAAC1M,KAAK,EAAI1B,EAAE,CAAC2I,KAAK,CAAC0F,MAAM,CAAG,IAAI,CAAG,IAAI,CAAC;AAC1D;AACD;AACA,IAAK,UAAU,CAAE;AAChBrO,EAAE,CAAC2I,KAAK,CAAC6C,GAAG,CAAC2C,OAAO,CAAED,IAAI,CAACxM,KAAK,CAAC;AACjC1B,EAAE,CAACK,IAAI,cAAc6N,IAAI,CAACxM,KAAO,CAAC;AAClC;AACD;AACA,IAAK,aAAa,CAAE;AACnB1B,EAAE,CAAC2I,KAAK,CAAC6C,GAAG,CAAC2C,OAAO,CAAE,CAACD,IAAI,CAACxM,KAAK,CAAG,IAAI,CAAGwM,IAAI,CAACxM,KAA0B,CAAC;AAC3E;AACD;AACA,IAAK,eAAe;AACpB,IAAK,QAAQ;AACb,IAAK,YAAY;AACjB,IAAK,iBAAiB;AACtB,IAAK,gBAAgB;AACrB,IAAK,UAAU;AACd1B,EAAE,CAAC2I,KAAK,CAAC6C,GAAG,CAAC2C,OAAO,CAAEzM,KAAK,CAAC;AAC5B;AACD;AACD,CAAC,CAAAmL,MAAA;;AAEDyB,UAAU,CAAG,SAACpN,EAAS,CAAK,KAAAqN,kBAAA;AAC3B,GAAM,CAAAC,WAAW,CAAG3B,MAAA,CAAKrL,IAAI,CAAEC,aAAa,CAAmB,wBAAwB,CAAC;AACxFzB,EAAE,CAACK,IAAI,CAACmO,WAAW,SAAAD,kBAAA,CAAXC,WAAW,CAAE9M,KAAK,SAAlB6M,kBAAA,CAAoB3N,MAAM,YAAc4N,WAAW,CAAC9M,KAAK,eAAmB,CAAC;AACrFmL,MAAA,CAAK1G,QAAQ,CAAC,CAAEsI,iBAAiB,CAAE,IAAI,CAAET,eAAe,CAAE,KAAM,CAAC,CAAC;AAClE9M,EAAE,CAACE,cAAc,CAAC,CAAC;AACnBF,EAAE,CAACG,wBAAwB,CAAC,CAAC;AAC9B,CAAC,QAAAwL,MAAA,EAAAjN,cAAA,CAAA+M,YAAA,CAAAC,aAAA,MAAA8B,OAAA,CAAA/B,YAAA,CAAA7M,SAAA,CAAA4O,OAAA,CAtFQ3C,iBAAiB,CAA1B,QAAS,CAAAA,iBAAiBA,CAAA,CAAG,CAC5Ba,aAAA,CAAA9M,SAAA,CAAMiM,iBAAiB,CAAA7M,IAAA,OACvB,IAAI,CAACyP,WAAW,CAAC3O,EAAE,CAACC,IAAI,CAAC,CAC1B,CAAC,CAAAyO,OAAA;;AAqFQvJ,MAAM,CAAf,QAAS,CAAAA,MAAMA,CAAA,CAAG,KAAAyJ,mBAAA;AACjB,GAAM,CAAAtN,IAAI,CAAG,IAAI,CAACC,KAAK,CAACD,IAAI;AAC5B,MAAO,CAAAoB,MAAA,CAAAC,CAAA,CAAC0C,cAAc,EAAC/D,IAAI,CAAEA,IAAK,EAACoB,MAAA,CAAAC,CAAA,QAAK,QAAM,KAAK;AAClDD,MAAA,CAAAC,CAAA;AACCD,MAAA,CAAAC,CAAA;AACC,QAAM,qBAAqB,CAACyH,KAAK,CAAC,IAAI,CAACyE,MAAM,CAAC,IAAI,CAACjM,KAAK,CAAE,CAAEkM,aAAa,CAAE,QAAS,CAAE;AACtFnK,GAAG,CAAEF,GAAG,CAACC,aAAa,IAAI1E,EAAE,CAACC,IAAI,CAACiC,MAAQ,CAAE,CAAC,YAAU,SAAS;AAChE,CAAC,IAAC;AACHQ,MAAA,CAAAC,CAAA,eAAS3C,EAAE,CAACC,IAAI,CAACZ,IAAa;AAC5B,CAAC;AACJqD,MAAA,CAAAC,CAAA;AACCD,MAAA,CAAAC,CAAA,WAAQ,QAAM,QAAQ,CAAC,YAAU,SAAS,EAAC,YAAkB;AAC3D,CAAC;;AAEH,IAAI,CAACkE,KAAK,CAACmH,eAAe;AAC1BtL,MAAA,CAAAC,CAAA;AACCD,MAAA,CAAAC,CAAA,UAAOtD,IAAI,CAAC,YAAY,CAAE,CAAC;AAC3BqD,MAAA,CAAAC,CAAA,WAAQ,QAAM,QAAQ,CAAC0H,OAAO,CAAE,IAAI,CAACiE,UAAW,EAAC5L,MAAA,CAAAC,CAAA,MAAG,QAAM,cAAc,CAAC,kBAAW,CAAI,CAAS;AAC/F,CAAC;;AAEJD,MAAA,CAAAC,CAAA;AACCD,MAAA,CAAAC,CAAA,WAAQ,QAAM,QAAQ,CAAC0H,OAAO,CAAE,IAAI,CAAC0D,qBAAsB,CAACzJ,QAAQ,CAAE,IAAI,CAACuC,KAAK,CAAC4H,iBAAkB;AACjG,IAAI,CAAC5H,KAAK,CAAC4H,iBAAiB,CAAG,gBAAgB,CAAG,WAAoB;AACtE,CACH;;;AAEAzO,EAAE,CAACC,IAAI,CAACsE,KAAK,GAAK,EAAAqK,mBAAA,CAAA5O,EAAE,CAACC,IAAI,CAAC8O,UAAU,eAAlBH,mBAAA,CAAoBxP,MAAM,IAAKY,EAAE,CAACC,IAAI,CAACb,MAAM;AAC/DsD,MAAA,CAAAC,CAAA,WAAQqM,SAAS,CAAC,QAAQ,CAAC,YAAU,gBAAgB,EAAC,aAAmB,CAAC;AAC1EtM,MAAA,CAAAC,CAAA,WAAQqM,SAAS,CAAC,QAAQ,CAAC,YAAU,UAAU,EAAC,UAAgB,CAAC,CAAC;;AAEnEtM,MAAA,CAAAC,CAAA,UAAK,CAAC;AACND,MAAA,CAAAC,CAAA,WAAI,UAAY,CAAC;AACjBD,MAAA,CAAAC,CAAA;AACCD,MAAA,CAAAC,CAAA,UAAO,QAAM,UAAU,EAAC,SAAO,CAAAD,MAAA,CAAAC,CAAA,WAAQtD,IAAI,CAAC,OAAO,CAAC,QAAM,QAAQ,CAACoG,QAAQ,CAAE,IAAI,CAACuH,QAAS;AAC1FtK,MAAA,CAAAC,CAAA,WAAQjB,KAAK,CAAC,OAAO,CAACuN,QAAQ,CAAEjP,EAAE,CAAC2I,KAAK,CAACsE,KAAK,GAAK,OAAQ,EAAC,OAAa,CAAC;AAC1EvK,MAAA,CAAAC,CAAA,WAAQjB,KAAK,CAAC,MAAM,CAACuN,QAAQ,CAAEjP,EAAE,CAAC2I,KAAK,CAACsE,KAAK,GAAK,MAAO,EAAC,MAAY,CAAC;AACvEvK,MAAA,CAAAC,CAAA,WAAQjB,KAAK,CAAC,QAAQ,CAACuN,QAAQ,CAAEjP,EAAE,CAAC2I,KAAK,CAACsE,KAAK,GAAK,QAAS,EAAC,oBAA0B;AACjF,CAAQ;AACd,CAAC;AACJvK,MAAA,CAAAC,CAAA;AACCD,MAAA,CAAAC,CAAA,UAAO,QAAM,UAAU,EAAC,UAAQ,CAAAD,MAAA,CAAAC,CAAA,WAAQtD,IAAI,CAAC,QAAQ,CAAC,QAAM,QAAQ,CAACoG,QAAQ,CAAE,IAAI,CAACyH,SAAU;AAC7FxK,MAAA,CAAAC,CAAA,WAAQjB,KAAK,CAAC,EAAE,CAACuN,QAAQ,CAAE,CAACjP,EAAE,CAAC2I,KAAK,CAACuG,QAAS,EAAC,6BAAmC,CAAC;AACnFxM,MAAA,CAAAC,CAAA,WAAQjB,KAAK,CAAC,UAAU,CAACuN,QAAQ,CAAEjP,EAAE,CAAC2I,KAAK,CAACuG,QAAQ,GAAK,IAAK,EAAC,cAAoB,CAAC;AACpFxM,MAAA,CAAAC,CAAA,WAAQjB,KAAK,CAAC,UAAU,CAACuN,QAAQ,CAAEjP,EAAE,CAAC2I,KAAK,CAACuG,QAAQ,GAAK,UAAW,EAAC,eAAqB;AACnF,CAAQ;AACd,CAAC;AACJxM,MAAA,CAAAC,CAAA;AACCD,MAAA,CAAAC,CAAA,UAAO,QAAM,UAAU,EAAC,cACX;AAAAD,MAAA,CAAAC,CAAA,WAAQ,QAAM,QAAQ,CAAC,YAAU,kBAAkB,EAAC;;AAExD;AACF;AACL,CAAC;AACJD,MAAA,CAAAC,CAAA;AACCD,MAAA,CAAAC,CAAA,UAAO,QAAM,UAAU,EAAC,GAAC,CAAAD,MAAA,CAAAC,CAAA;AACxBtD,IAAI,CAAC,QAAQ,CAACwM,OAAO,CAAE7L,EAAE,CAAC2I,KAAK,CAAC0F,MAAM,EAAI,KAAM,CAAC5L,IAAI,CAAC,UAAU,CAACgD,QAAQ,CAAE,IAAI,CAACwI,cAAe;AAC/F,CAAC,sBAA0B;AAC1B,CAAC;AACJvL,MAAA,CAAAC,CAAA;AACCD,MAAA,CAAAC,CAAA,UAAO,QAAM,UAAU,EAACD,MAAA,CAAAC,CAAA;AACvBtD,IAAI,CAAC,OAAO,CAACwM,OAAO,CAAE7L,EAAE,CAAC2I,KAAK,CAACwG,KAAK,EAAI,KAAM,CAAC1M,IAAI,CAAC,UAAU,CAACgD,QAAQ,CAAE,IAAI,CAACwI,cAAe;AAC7F,CAAC,wCAA4C;AAC5C,CAAC;AACJvL,MAAA,CAAAC,CAAA;AACCD,MAAA,CAAAC,CAAA,UAAO,QAAM,UAAU,EAACD,MAAA,CAAAC,CAAA;AACvBtD,IAAI,CAAC,YAAY,CAACwM,OAAO,CAAE7L,EAAE,CAAC2I,KAAK,CAACyG,UAAU,EAAI,KAAM,CAAC3M,IAAI,CAAC,UAAU,CAACgD,QAAQ,CAAE,IAAI,CAACwI,cAAe;AACvG,CAAC,2CAA+C;AAC/C,CAAC;AACJvL,MAAA,CAAAC,CAAA,UAAK,CAAC;AACND,MAAA,CAAAC,CAAA,WAAI,MAAQ,CAAC;AACbD,MAAA,CAAAC,CAAA;AACCD,MAAA,CAAAC,CAAA,UAAO,QAAM,UAAU,EAACD,MAAA,CAAAC,CAAA;AACvBtD,IAAI,CAAC,UAAU,CAACwM,OAAO,CAAE7L,EAAE,CAAC2I,KAAK,CAAC0G,QAAQ,EAAI,KAAM,CAAC5M,IAAI,CAAC,UAAU,CAACgD,QAAQ,CAAE,IAAI,CAACwI,cAAe;AACnG,CAAC,aAAiB;AACjB,CAAC;AACJvL,MAAA,CAAAC,CAAA;AACCD,MAAA,CAAAC,CAAA,UAAO,QAAM,UAAU,EAACD,MAAA,CAAAC,CAAA;AACvBtD,IAAI,CAAC,iBAAiB,CAACwM,OAAO,CAAE7L,EAAE,CAAC2I,KAAK,CAAC2G,eAAe,EAAI,KAAM,CAAC7M,IAAI,CAAC,UAAU,CAACgD,QAAQ,CAAE,IAAI,CAACwI,cAAe;AACjH,CAAC,oBAAwB;AACxB,CAAC;AACJvL,MAAA,CAAAC,CAAA;AACCD,MAAA,CAAAC,CAAA,UAAO,QAAM,UAAU,EAACD,MAAA,CAAAC,CAAA;AACvBtD,IAAI,CAAC,UAAU,CAACwM,OAAO,CAAE7L,EAAE,CAAC2I,KAAK,CAAC4G,QAAQ,EAAI,KAAM,CAAC9M,IAAI,CAAC,UAAU,CAACgD,QAAQ,CAAE,IAAI,CAACwI,cAAe;AACnG,CAAC,yBAA6B;AAC7B,CAAC;AACJvL,MAAA,CAAAC,CAAA;AACCD,MAAA,CAAAC,CAAA,UAAO,QAAM,UAAU,EAACD,MAAA,CAAAC,CAAA;AACvBtD,IAAI,CAAC,iBAAiB,CAACwM,OAAO,CAAE7L,EAAE,CAAC2I,KAAK,CAAC6G,eAAe,EAAI,KAAM,CAAC/M,IAAI,CAAC,UAAU,CAACgD,QAAQ,CAAE,IAAI,CAACwI,cAAe;AACjH,CAAC,mDAAuD;AACvD,CAAC;AACJvL,MAAA,CAAAC,CAAA;AACCD,MAAA,CAAAC,CAAA,UAAO,QAAM,UAAU,EAACD,MAAA,CAAAC,CAAA;AACvBtD,IAAI,CAAC,gBAAgB,CAACwM,OAAO,CAAE7L,EAAE,CAAC2I,KAAK,CAAC8G,cAAc,EAAI,KAAM,CAAChN,IAAI,CAAC,UAAU,CAACgD,QAAQ,CAAE,IAAI,CAACwI,cAAe;AAC/G,CAAC,iCAAqC;AACrC,CAAC;AACJvL,MAAA,CAAAC,CAAA;AACCD,MAAA,CAAAC,CAAA,UAAO,QAAM,UAAU,EAACD,MAAA,CAAAC,CAAA;AACvBtD,IAAI,CAAC,eAAe,CAACwM,OAAO,CAAE7L,EAAE,CAAC2I,KAAK,CAAC+G,aAAa,EAAI,KAAM,CAACjN,IAAI,CAAC,UAAU,CAACgD,QAAQ,CAAE,IAAI,CAACwI,cAAe;AAC7G,CAAC,6BAAiC;AACjC,CAAC;AACJvL,MAAA,CAAAC,CAAA;AACCD,MAAA,CAAAC,CAAA,UAAO,QAAM,UAAU,EAAC,YACb;;AACVD,MAAA,CAAAC,CAAA,WAAQtD,IAAI,CAAC,UAAU,CAACoG,QAAQ,CAAE,IAAI,CAACwI,cAAe,CAAC,QAAM,QAAQ;AACpEvL,MAAA,CAAAC,CAAA,WAAQjB,KAAK,CAAC,QAAQ,CAACuN,QAAQ,CAAEjP,EAAE,CAAC2I,KAAK,CAACgH,QAAQ,GAAK,QAAS,EAAC,SAAe,CAAC;AACjFjN,MAAA,CAAAC,CAAA,WAAQjB,KAAK,CAAC,SAAS,CAACuN,QAAQ,CAAEjP,EAAE,CAAC2I,KAAK,CAACgH,QAAQ,GAAK,SAAU,EAAC,SAAe,CAAC;AACnFjN,MAAA,CAAAC,CAAA,WAAQjB,KAAK,CAAC,SAAS,CAACuN,QAAQ,CAAEjP,EAAE,CAAC2I,KAAK,CAACgH,QAAQ,GAAK,SAAU,EAAC,YAAe,CAAC;AACnFjN,MAAA,CAAAC,CAAA,WAAQjB,KAAK,CAAC,QAAQ,CAACuN,QAAQ,CAAEjP,EAAE,CAAC2I,KAAK,CAACgH,QAAQ,GAAK,QAAS,EAAC,aAAgB,CAAC;AAClFjN,MAAA,CAAAC,CAAA,WAAQjB,KAAK,CAAC,SAAS,CAACuN,QAAQ,CAAEjP,EAAE,CAAC2I,KAAK,CAACgH,QAAQ,GAAK,SAAU,EAAC,UAAgB,CAAC;AACpFjN,MAAA,CAAAC,CAAA,WAAQjB,KAAK,CAAC,OAAO,CAACuN,QAAQ,CAAEjP,EAAE,CAAC2I,KAAK,CAACgH,QAAQ,GAAK,OAAQ,EAAC,YAAkB,CAAC;AAClFjN,MAAA,CAAAC,CAAA,WAAQjB,KAAK,CAAC,YAAY,CAACuN,QAAQ,CAAEjP,EAAE,CAAC2I,KAAK,CAACgH,QAAQ,GAAK,YAAa,EAAC,cAAiB,CAAC;AAC3FjN,MAAA,CAAAC,CAAA,WAAQjB,KAAK,CAAC,SAAS,CAACuN,QAAQ,CAAEjP,EAAE,CAAC2I,KAAK,CAACgH,QAAQ,GAAK,SAAU,EAAC,cAAc,CAAC;AAClFjN,MAAA,CAAAC,CAAA,WAAQjB,KAAK,CAAC,OAAO,CAACuN,QAAQ,CAAEjP,EAAE,CAAC2I,KAAK,CAACgH,QAAQ,GAAK,OAAQ,EAAC,gCAAa,CAAC;AAC7EjN,MAAA,CAAAC,CAAA,WAAQjB,KAAK,CAAC,UAAU,CAACuN,QAAQ,CAAEjP,EAAE,CAAC2I,KAAK,CAACgH,QAAQ,GAAK,UAAW,EAAC,oBAAW,CAAC;AACjFjN,MAAA,CAAAC,CAAA,WAAQjB,KAAK,CAAC,mBAAmB,CAACuN,QAAQ,CAAEjP,EAAE,CAAC2I,KAAK,CAACgH,QAAQ,GAAK,mBAAoB,EAAC,0BAAY,CAAC;AACpGjN,MAAA,CAAAC,CAAA,WAAQjB,KAAK,CAAC,oBAAoB,CAACuN,QAAQ,CAAEjP,EAAE,CAAC2I,KAAK,CAACgH,QAAQ,GAAK,oBAAqB,EAAC,cAAU;AAC5F;AACF;AACL,CAAC;AACJjN,MAAA,CAAAC,CAAA;AACCD,MAAA,CAAAC,CAAA,UAAO,QAAM,UAAU,EAAC,eACV;AAAAD,MAAA,CAAAC,CAAA,WAAQtD,IAAI,CAAC,aAAa,CAAC,QAAM,QAAQ,CAACoG,QAAQ,CAAE,IAAI,CAACwI,cAAe;AACpFvL,MAAA,CAAAC,CAAA,WAAQjB,KAAK,CAAC,EAAE,CAACuN,QAAQ,CAAE,CAACjP,EAAE,CAAC2I,KAAK,CAACiH,WAAY,EAAC,oBAA0B,CAAC;AAC7ElN,MAAA,CAAAC,CAAA,WAAQjB,KAAK,CAAC,QAAQ,CAACuN,QAAQ,CAAEjP,EAAE,CAAC2I,KAAK,CAACiH,WAAW,GAAK,QAAS,EAAC,eAAqB,CAAC;AAC1FlN,MAAA,CAAAC,CAAA,WAAQjB,KAAK,CAAC,MAAM,CAACuN,QAAQ,CAAEjP,EAAE,CAAC2I,KAAK,CAACiH,WAAW,GAAK,MAAO,EAAC,MAAY;AACrE;AACF;AACL,CAAC;AACJlN,MAAA,CAAAC,CAAA;AACCD,MAAA,CAAAC,CAAA,UAAO,QAAM,UAAU,EAAC,cAAY,CAAAD,MAAA,CAAAC,CAAA,WAAQtD,IAAI,CAAC,QAAQ,CAAC,QAAM,QAAQ,CAACoG,QAAQ,CAAE,IAAI,CAAC6H,oBAAqB;AAC5G5K,MAAA,CAAAC,CAAA,WAAQjB,KAAK,CAAC,EAAE,CAACuN,QAAQ,CAAE,CAACjP,EAAE,CAAC2I,KAAK,CAAC+E,UAAU,CAACC,SAAU,EAAC,KAAW,CAAC;AACvEjL,MAAA,CAAAC,CAAA,WAAQjB,KAAK,CAAC,SAAS,CAACuN,QAAQ,CAAEjP,EAAE,CAAC2I,KAAK,CAAC+E,UAAU,CAACC,SAAS,GAAK,SAAU,EAAC,SAAe,CAAC;AAC/FjL,MAAA,CAAAC,CAAA,WAAQjB,KAAK,CAAC,SAAS,CAACuN,QAAQ,CAAEjP,EAAE,CAAC2I,KAAK,CAAC+E,UAAU,CAACC,SAAS,GAAK,SAAU,EAAC,YAAkB;AAC1F,CAAQ;AACd,CAAC;AACJjL,MAAA,CAAAC,CAAA;AACCD,MAAA,CAAAC,CAAA,UAAO,QAAM,UAAU,EAAC,qBAAmB,CAAAD,MAAA,CAAAC,CAAA,WAAQtD,IAAI,CAAC,QAAQ,CAAC,QAAM,QAAQ,CAACoG,QAAQ,CAAE,IAAI,CAACoI,eAAgB;AAC9GnL,MAAA,CAAAC,CAAA,WAAQjB,KAAK,CAAC,EAAE,CAACuN,QAAQ,CAAE,CAACjP,EAAE,CAAC2I,KAAK,CAAC+E,UAAU,CAACI,GAAI,EAAC,KAAW,CAAC;AACjEpL,MAAA,CAAAC,CAAA,WAAQjB,KAAK,CAAC,SAAS,CAACuN,QAAQ,CAAEjP,EAAE,CAAC2I,KAAK,CAAC+E,UAAU,CAACI,GAAG,GAAK,SAAU,EAAC,SAAe,CAAC;AACzFpL,MAAA,CAAAC,CAAA,WAAQjB,KAAK,CAAC,SAAS,CAACuN,QAAQ,CAAEjP,EAAE,CAAC2I,KAAK,CAAC+E,UAAU,CAACI,GAAG,GAAK,SAAU,EAAC,YAAkB;AACpF,CAAQ;AACd,CAAC;AACJpL,MAAA,CAAAC,CAAA;AACCD,MAAA,CAAAC,CAAA,UAAO,QAAM,UAAU,EAAC,oBACL;;AAClBD,MAAA,CAAAC,CAAA,WAAQ,QAAM,QAAQ,CAAC,YAAU,gBAAgB,EAAC,oBAA0B;AACtE;AACL,CAAC;AACJD,MAAA,CAAAC,CAAA,UAAK,CAAC;AACL3C,EAAE,CAACC,IAAI,CAACsE,KAAK,CAAG7B,MAAA,CAAAC,CAAA,MAAG,QAAM,WAAW,CAACC,KAAK,CAAC,mBAAmB;AAC9DF,MAAA,CAAAC,CAAA,WAAQ,QAAM,QAAQ,CAAC,YAAU,OAAO,EAACD,MAAA,CAAAC,CAAA,MAAG,QAAM,cAAc,CAAC,kBAAW,CAAI,CAAC,eAAoB,CAAC,IAAC;AACvGD,MAAA,CAAAC,CAAA,WAAQ,QAAM,QAAQ,CAAC,WAAS,SAAS,EAACD,MAAA,CAAAC,CAAA,MAAG,QAAM,iBAAiB,CAAC,kBAAW,CAAI,CAAC,WAAgB;AACnG,CAAC,CAAGD,MAAA,CAAAC,CAAA,MAAG,QAAM,WAAW,CAACC,KAAK,CAAC,mBAAmB;AACpDF,MAAA,CAAAC,CAAA,WAAQ,QAAM,QAAQ,CAAC,YAAU,OAAO,EAACD,MAAA,CAAAC,CAAA,MAAG,QAAM,cAAc,CAAC,kBAAW,CAAI,CAAC,eAAoB;AACnG;AACC,CAAiB,CAAC;AACxB,CAAC,QAAAgK,YAAA,GA1PyBjH,WAAW,EAAhCiH,YAAY,CACDpN,EAAE,CAAG,SAAS,CADzBoN,YAAY,CAED9H,MAAM,CAAG,CAAC,SAAS,CAAC,CAF/B8H,YAAY,CAGD/G,QAAQ,CAAG,iBAAiB;;;AA0PvCiK,iBAAiB,UAAAC,iBAAA,WAAAD,kBAAA,SAAAC,iBAAA,CAAA/O,KAAA,MAAAJ,SAAA,SAAAf,cAAA,CAAAiQ,iBAAA,CAAAC,iBAAA,MAAAC,OAAA,CAAAF,iBAAA,CAAA/P,SAAA,CAAAiQ,OAAA;AACbhE,iBAAiB,CAA1B,QAAS,CAAAA,iBAAiBA,CAAA,CAAG,KAAAiE,MAAA;AAC5BC,MAAM,CAACC,YAAY,CAAG,SAACC,QAAa,CAAK;AACxCnQ,EAAE,CAACC,IAAI,CAACmQ,sBAAsB,CAACJ,MAAI,CAACzO,KAAK,CAAClC,IAAI,CAAE8Q,QAAQ,CAACE,UAAU,CAAE,CAAEC,WAAW,CAAE,IAAK,CAAC,CAAC;AAC5F,CAAC;;AAEDtQ,EAAE,CAACC,IAAI,CAACsQ,UAAU,CAAG,IAAI;AACzB,GAAM,CAAAC,MAAM,CAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;AAC/CF,MAAM,CAACG,KAAK,CAAG,IAAI;AACnBH,MAAM,CAAC7L,GAAG,CAAG,wCAAwC;AACrD8L,QAAQ,CAACG,oBAAoB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAACC,WAAW,CAACL,MAAM,CAAC;AAC7D,CAAC,CAAAT,OAAA;AACQ5K,MAAM,CAAf,QAAS,CAAAA,MAAMA,CAAA,CAAG;AACjB,MAAO,CAAAzC,MAAA,CAAAC,CAAA,QAAK,QAAM,qBAAqB;AACtCD,MAAA,CAAAC,CAAA;AACCpD,EAAE,CAAC,aAAa,CAAC,iBAAe,0EAA0E;AAC1G,eAAa,QAAQ,CAAC,eAAa,OAAO,CAAC,gBAAc,cAAc,CAAC,mBAAiB,OAAO;AAC3F,CAAC;AACPmD,MAAA,CAAAC,CAAA;AACC,QAAM,aAAa,CAAC,YAAU,UAAU,CAAC,aAAW,MAAM,CAAC,aAAW,aAAa,CAAC,YAAU,eAAe;AAC7G,YAAU,OAAO,CAAC,sBAAoB,MAAM,CAAC,mBAAiB,MAAM,CAAC,mBAAiB,MAAM;AAC5FC,KAAK,CAAC,iCAAiC;AACvC,gCAAmC;AAChC,CAAC;AACP,CAAC,QAAAiN,iBAAA,GAxB8BnN,MAAM,CAACoO,SAAS;;;AA2B1CC,UAAU,UAAAC,aAAA,WAAAD,WAAA,MAAAE,MAAA,SAAAC,KAAA,CAAAvQ,SAAA,CAAAC,MAAA,CAAAlB,IAAA,KAAAmB,KAAA,CAAAqQ,KAAA,EAAAC,KAAA,GAAAA,KAAA,CAAAD,KAAA,CAAAC,KAAA,IAAAzR,IAAA,CAAAyR,KAAA,EAAAxQ,SAAA,CAAAwQ,KAAA,GAAAF,MAAA,CAAAD,aAAA,CAAA9R,IAAA,CAAA6B,KAAA,CAAAiQ,aAAA,QAAAhQ,MAAA,CAAAtB,IAAA,SAAAuR,MAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BfG,YAAY,CAAG,SAAClQ,EAAS,CAAK;AAC7BA,EAAE,CAACE,cAAc,CAAC,CAAC;AACnB,GAAM,CAAAiQ,WAAW,CAAGJ,MAAA,CAAKzP,IAAI,CAAEC,aAAa,CAAmB,sBAAsB,CAAC;AACtF,GAAI4P,WAAW,CAAE;AAChBrR,EAAE,CAACC,IAAI,CAACmQ,sBAAsB,CAACa,MAAA,CAAKK,WAAW,CAAC,CAAC,CAAED,WAAW,CAAC3P,KAAK,CAAC;AACtE,CAAC,IAAM;AACN1B,EAAE,CAACC,IAAI,CAACsR,UAAU,CAACN,MAAA,CAAKK,WAAW,CAAC,CAAC,CAAC;AACvC;AACD,CAAC,CAAAL,MAAA;AACD7Q,MAAM,CAAG,UAAM;AACd6Q,MAAA,CAAKvF,WAAW,CAAC,CAAC;AACnB,CAAC,CAAAuF,MAAA;;;;;;AAMDO,KAAK,CAAG,SAACtQ,EAAS,CAAK;AACtBA,EAAE,CAACE,cAAc,CAAC,CAAC;AACnBF,EAAE,CAACG,wBAAwB,CAAC,CAAC;AAC7B4P,MAAA,CAAK1P,KAAK,CAACD,IAAI,CAAC5B,IAAI,CAAG,IAAI;AAC3BuR,MAAA,CAAKvF,WAAW,CAAC,CAAC;AACnB,CAAC,CAAAuF,MAAA;AACDQ,kBAAkB,CAAG,SAACvQ,EAAS,CAAK;AACnCA,EAAE,CAACE,cAAc,CAAC,CAAC;AACnBF,EAAE,CAACG,wBAAwB,CAAC,CAAC;AAC7B4P,MAAA,CAAK9K,QAAQ,CAAC,CAAEuL,aAAa,CAAE,CAACT,MAAA,CAAKpK,KAAK,CAAC6K,aAAc,CAAC,CAAC;AAC5D,CAAC,QAAAT,MAAA,EAAArR,cAAA,CAAAmR,UAAA,CAAAC,aAAA,MAAAW,OAAA,CAAAZ,UAAA,CAAAjR,SAAA,CAAA6R,OAAA,CAnDQ5F,iBAAiB,CAA1B,QAAS,CAAAA,iBAAiBA,CAAA,CAAG,KAAA6F,OAAA,MAC5BZ,aAAA,CAAAlR,SAAA,CAAMiM,iBAAiB,CAAA7M,IAAA,OACvB,IAAI,CAAC+M,aAAa,CAAChI,IAAI,CAACjE,EAAE,CAACC,IAAI,CAACiM,SAAS,CAAC,SAAAxM,IAAI,CAAI,CACjD,GAAIA,IAAI,CAAE,CACT,GAAIA,IAAI,CAACmS,OAAO,CAAE,CACjBD,OAAI,CAACtK,KAAK,CAAC,CAAC,CACZ,OACD,CACAsK,OAAI,CAACrQ,KAAK,CAACD,IAAI,CAAC5B,IAAI,CAAGA,IAAI,CAC3BoS,UAAU,CAAC,iBAAM,CAAAF,OAAI,CAACG,KAAK,CAAC,CAAC,GAAE,CAAC,CAAC,CAClC,CACAH,OAAI,CAAClG,WAAW,CAAC,CAAC,CACnB,CAAC,CAAC,CAAC,CACJ,CAAC,CAAAiG,OAAA,CACDL,WAAW,CAAX,SAAAA,WAAWA,CAAA,CAAG,KAAAU,qBAAA,CAAAC,UAAA,CACb,GAAM,CAAAC,SAAS,CAAGlS,EAAE,CAACC,IAAI,CAACkS,SAAS,IAAAH,qBAAA,CAAI,IAAI,CAACzQ,KAAK,CAACD,IAAI,CAAC5B,IAAI,eAApBsS,qBAAA,CAAsB3S,IAAI,CAAU,CAC3E,GAAI6S,SAAS,CAAE,MAAO,CAAAA,SAAS,CAE/B,GAAM,CAAAE,KAAK,EAAAH,UAAA,CAAG,IAAI,CAACzQ,IAAI,eAATyQ,UAAA,CAAWxQ,aAAa,CAAmB,sBAAsB,CAAC,CAChF,GAAI2Q,KAAK,EAAI,CAACA,KAAK,CAAC9N,QAAQ,CAAE,CAC7B,MAAO,CAAA8N,KAAK,CAAC1Q,KAAK,CACnB,CACA,MAAO,CAAA1B,EAAE,CAACC,IAAI,CAACsE,KAAK,CAAGvE,EAAE,CAACC,IAAI,CAACZ,IAAI,CAAG,EAAE,CACzC,CAAC,CAAAsS,OAAA,CAaQI,KAAK,CAAd,QAAS,CAAAA,KAAKA,CAAA,CAAG,KAAAM,IAAA,CAChB,GAAM,CAAAhB,WAAW,CAAG,IAAI,CAAC7P,IAAI,CAAEC,aAAa,CAAmB,sBAAsB,CAAC,CACtF,GAAM,CAAA6Q,WAAW,CAAG,IAAI,CAAC9Q,IAAI,CAAEC,aAAa,CAAmB,sBAAsB,CAAC,CACtF,CAAA4Q,IAAA,CAAChB,WAAW,EAAIiB,WAAW,SAA3BD,IAAA,CAA8BE,MAAM,CAAC,CAAC,CACvC,CAAC,CAAAZ,OAAA;AAYQxM,MAAM,CAAf,QAAS,CAAAA,MAAMA,CAAA,CAAG;AACjB,GAAM,CAAA7D,IAAI,CAAG,IAAI,CAACC,KAAK,CAACD,IAAI;AAC5B,GAAM,CAAAkR,UAAU,CAAGlR,IAAI,CAAC5B,IAAoB;AAC5C,MAAO,CAAAgD,MAAA,CAAAC,CAAA,CAAC0C,cAAc,EAAC/D,IAAI,CAAEA,IAAK,CAAC8I,KAAK,CAAE,GAAI,EAAC1H,MAAA,CAAAC,CAAA,QAAK,QAAM,KAAK;AAC9DD,MAAA,CAAAC,CAAA,WAAI,QAAU,CAAC;AACfD,MAAA,CAAAC,CAAA,SAAM2C,QAAQ,CAAE,IAAI,CAAC8L,YAAa;AAChC,CAAAoB,UAAU,cAAVA,UAAU,CAAEC,KAAK,GAAI/P,MAAA,CAAAC,CAAA,MAAG,QAAM,OAAO,EAAE6P,UAAU,CAACC,KAAS,CAAC;AAC7D/P,MAAA,CAAAC,CAAA,UAAGD,MAAA,CAAAC,CAAA,UAAO,QAAM,OAAO,EAAC,YACb;AAAAD,MAAA,CAAAC,CAAA,UAAO,QAAM,SAAS,CAACC,KAAK,UAAWoC,SAAS,CAACC,aAAa,CAAClF,IAAI,CAAC,IAAI,CAACuR,WAAW,CAAC,CAAC,CAAC,CAAI,EAAC,SAAc,CAAC;AACrH5O,MAAA,CAAAC,CAAA;AACC,QAAM,SAAS,CAACF,IAAI,CAAC,MAAM,CAACpD,IAAI,CAAC,UAAU;AAC3CmG,OAAO,CAAE,IAAI,CAACpF,MAAO,CAACqF,QAAQ,CAAE,IAAI,CAACrF,MAAO,CAACsS,YAAY,CAAC,UAAU;AACpEhR,KAAK,CAAE,IAAI,CAAC4P,WAAW,CAAC,CAAE,CAAChN,QAAQ,CAAE,CAAC,CAACtE,EAAE,CAACC,IAAI,CAACkS,SAAS,EAAI,CAAC,EAACK,UAAU,QAAVA,UAAU,CAAEnT,IAAI,CAAC;AAC/E;AACK,CAAI,CAAC;AACXW,EAAE,CAACC,IAAI,CAACsE,KAAK,EAAI,CAACiO,UAAU,EAAI9P,MAAA,CAAAC,CAAA;AAChCD,MAAA,CAAAC,CAAA,cAAO,0FAA6F;AAClG,CAAC;AACH,CAAA6P,UAAU,cAAVA,UAAU,CAAEG,aAAa,GAAIjQ,MAAA,CAAAC,CAAA;AAC7BD,MAAA,CAAAC,CAAA,MAAG,QAAM,6BAA6B,CAAC,kBAAW,CAAI,CAAC,IAAC,CAAAD,MAAA,CAAAC,CAAA,eAAQ,8BAAoC,CAAC;AACrGD,MAAA,CAAAC,CAAA,UAAO,QAAM,OAAO,EAAC,YACV;;AACVD,MAAA,CAAAC,CAAA;AACC,QAAM,SAAS,CAACF,IAAI,CAAE,IAAI,CAACoE,KAAK,CAAC6K,aAAa,CAAG,MAAM,CAAG,UAAW,CAACrS,IAAI,CAAC,UAAU;AACrFqT,YAAY,CAAC,kBAAkB,CAAC9P,KAAK,CAAC,aAAa;AACnD,CAAC;AACFF,MAAA,CAAAC,CAAA;AACCF,IAAI,CAAC,QAAQ,CAAC4H,OAAO,CAAE,IAAI,CAACoH,kBAAmB,CAAC,aAAW,eAAe;AAC1E,QAAM,QAAQ,CAAC7O,KAAK,CAAC,kDAAkD;AACvEF,MAAA,CAAAC,CAAA,MAAG,QAAM,WAAW,CAAC,kBAAW,CAAI,CAAS;AACxC;AACL,CAAC;AACH,CAAA6P,UAAU,cAAVA,UAAU,CAAElC,WAAW,GAAI5N,MAAA,CAAAC,CAAA,CAAAD,MAAA,CAAA6H,QAAA;AAC3B7H,MAAA,CAAAC,CAAA,UAAGD,MAAA,CAAAC,CAAA,MAAG,QAAM,6BAA6B,CAAC,kBAAW,CAAI,CAAC,IAAC,CAAAD,MAAA,CAAAC,CAAA,eAAQ,8BAAoC,CAAI,CAAC;AAC5GD,MAAA,CAAAC,CAAA,UAAGD,MAAA,CAAAC,CAAA,CAACkN,iBAAiB,EAACxQ,IAAI,CAAE,IAAI,CAACiS,WAAW,CAAC,CAAE,CAAE,CAAI;AACpD,CAAC;AACH5O,MAAA,CAAAC,CAAA,MAAG,QAAM,WAAW;AAClB3C,EAAE,CAACC,IAAI,CAACkS,SAAS;AACjBzP,MAAA,CAAAC,CAAA,WAAQ2B,QAAQ,MAAC,QAAM,KAAK,EAAC,eAAqB,CAAC;AAChDkO,UAAU,QAAVA,UAAU,CAAEG,aAAa;AAC5BjQ,MAAA,CAAAC,CAAA,CAAAD,MAAA,CAAA6H,QAAA;AACC7H,MAAA,CAAAC,CAAA,WAAQF,IAAI,CAAC,QAAQ,CAAC,QAAM,QAAQ,EAACC,MAAA,CAAAC,CAAA,eAAQ,QAAc,CAAS,CAAC,IAAC;AACtED,MAAA,CAAAC,CAAA,WAAQF,IAAI,CAAC,QAAQ,CAAC4H,OAAO,CAAE,IAAI,CAACmH,KAAM,CAAC,QAAM,QAAQ,EAAC,QAAc;AACvE,CAAC;AACAgB,UAAU,QAAVA,UAAU,CAAElC,WAAW;AAC1B5N,MAAA,CAAAC,CAAA,WAAQF,IAAI,CAAC,QAAQ,CAAC4H,OAAO,CAAE,IAAI,CAACmH,KAAM,CAAC,QAAM,QAAQ,EAAC,QAAc,CAAC;;AAEzE9O,MAAA,CAAAC,CAAA,CAAAD,MAAA,CAAA6H,QAAA;AACC7H,MAAA,CAAAC,CAAA,WAAQF,IAAI,CAAC,QAAQ,CAAC,QAAM,QAAQ,EAACC,MAAA,CAAAC,CAAA,eAAQ,aAAmB,CAAS,CAAC,IAAC;AAC3ED,MAAA,CAAAC,CAAA,WAAQF,IAAI,CAAC,QAAQ,CAACpD,IAAI,CAAC,WAAW,CAAC,QAAM,QAAQ,EAAC,QAAc;AACnE,CACF;AAAC;AACA,CAAC;AACH,CAAAmT,UAAU,cAAVA,UAAU,CAAEnT,IAAI,GAAIqD,MAAA,CAAAC,CAAA;AACpBD,MAAA,CAAAC,CAAA;AACCD,MAAA,CAAAC,CAAA,MAAG,QAAM,6BAA6B,CAAC,kBAAW,CAAI,CAAC,IAAC,CAAAD,MAAA,CAAAC,CAAA,eAAQ,SAAe;AAC7E,CAAC;AACJD,MAAA,CAAAC,CAAA,MAAGC,KAAK,CAAE,CAAEgQ,QAAQ,CAAE,OAAO,CAAEC,MAAM,CAAE,QAAS,CAAE,EAAC;;AAEhD,CAAC;AACJnQ,MAAA,CAAAC,CAAA,MAAG,QAAM,WAAW;AACnBD,MAAA,CAAAC,CAAA,WAAQ,QAAM,QAAQ,CAAC0H,OAAO,CAAE,IAAI,CAACmH,KAAM,EAAC,kBAAwB;AAClE;AACC;AACA;AACF,CAAiB,CAAC;AACxB,CAAC,QAAAT,UAAA,GA5HuBrL,WAAW,EAA9BqL,UAAU,CACCxR,EAAE,CAAG,OAAO,CADvBwR,UAAU,CAEClM,MAAM,CAAG,CAAC,OAAO,CAAC,CAF7BkM,UAAU,CAGCnL,QAAQ,CAAG,iBAAiB;;;AA4HvCkN,YAAY,UAAAC,aAAA,WAAAD,aAAA,SAAAC,aAAA,CAAAhS,KAAA,MAAAJ,SAAA,SAAAf,cAAA,CAAAkT,YAAA,CAAAC,aAAA,MAAAC,OAAA,CAAAF,YAAA,CAAAhT,SAAA,CAAAkT,OAAA;;;;;AAKR7N,MAAM,CAAf,QAAS,CAAAA,MAAMA,CAAA,CAAG;AACjB,GAAM,CAAA7D,IAAI,CAAG,IAAI,CAACC,KAAK,CAACD,IAAI;;AAE5B,GAAM,CAAA2R,OAA2B,CAAG,EAAE;AACtC,IAAK,GAAI,CAAAC,CAAC,CAAG,CAAC,CAAEA,CAAC,EAAI,GAAG,CAAEA,CAAC,EAAE,CAAE,KAAAC,qBAAA;AAC9B,GAAID,CAAC,GAAK,GAAG,EAAIA,CAAC,GAAK,GAAG,CAAE;AAC5BD,OAAO,CAAChP,IAAI,CAAC,CAACiP,CAAC,CAAE,EAAAC,qBAAA,CAAAlD,MAAM,CAACmD,mBAAmB,eAA1BD,qBAAA,CAA6BD,CAAC,CAAC,MAAOA,CAAG,CAAC,CAAC;AAC7D;;AAEA,MAAO,CAAAxQ,MAAA,CAAAC,CAAA,CAAC0C,cAAc,EAAC/D,IAAI,CAAEA,IAAK,CAAC8I,KAAK,CAAE,IAAK,EAAC1H,MAAA,CAAAC,CAAA,QAAK,QAAM,KAAK;AAC/DD,MAAA,CAAAC,CAAA,UAAO,QAAM,UAAU,EAACD,MAAA,CAAAC,CAAA,eAAQ,sBAA4B,CAAC;AAC5DD,MAAA,CAAAC,CAAA,WAAQ,QAAM,QAAQ,CAAC,WAAS,QAAQ,EAAC,SAAe;AAClD,CAAC;AACRD,MAAA,CAAAC,CAAA,QAAK,QAAM,YAAY;AACrBsQ,OAAO,CAACI,GAAG,CAAC,SAAAC,KAAA,KAAE,CAAAJ,CAAC,CAAAI,KAAA,IAAEpR,MAAM,CAAAoR,KAAA;AACvB5Q,MAAA,CAAAC,CAAA;AACC,gCAA+BT,MAAS,CAAC6B,KAAK,YAAa7B,MAAS;AACpE,4BAA0BA,MAAM,GAAKlC,EAAE,CAACC,IAAI,CAACiC,MAAM,CAAG,MAAM,CAAG,EAAE,CAAG;AACpEU,KAAK,2BAA4B,CAACsQ,CAAC,CAAG,CAAC,EAAI,EAAE,CAAI,EAAE,CAAG,CAAC,UAAOK,IAAI,CAACC,KAAK,CAAC,CAACN,CAAC,CAAG,CAAC,EAAI,EAAE,CAAC,CAAG,EAAE,CAAG,CAAC,MAAK;AAC5F,CAAC;AACV;AACG,CAAC;AACNxQ,MAAA,CAAAC,CAAA,QAAKC,KAAK,CAAC,YAAY,CAAM,CAAC;AAC9BF,MAAA,CAAAC,CAAA,UAAGD,MAAA,CAAAC,CAAA,WAAQ,QAAM,QAAQ,CAAC,WAAS,QAAQ,EAAC,QAAc,CAAI;AAC1D,CAAiB,CAAC;AACxB,CAAC,QAAAmQ,YAAA,GA9ByBpN,WAAW,EAAhCoN,YAAY,CACDvT,EAAE,CAAG,SAAS,CADzBuT,YAAY,CAEDjO,MAAM,CAAG,CAAC,SAAS,CAAC,CAF/BiO,YAAY,CAGDlN,QAAQ,CAAG,iBAAiB;;;AA8BvC6N,kBAAkB,UAAAC,aAAA,WAAAD,mBAAA,SAAAC,aAAA,CAAA3S,KAAA,MAAAJ,SAAA,SAAAf,cAAA,CAAA6T,kBAAA,CAAAC,aAAA,MAAAC,QAAA,CAAAF,kBAAA,CAAA3T,SAAA,CAAA6T,QAAA;;;;;;AAMdxO,MAAM,CAAf,QAAS,CAAAA,MAAMA,CAAA,CAAG;AACjB,GAAM,CAAA7D,IAAI,CAAG,IAAI,CAACC,KAAK,CAACD,IAAI;AAC5B,GAAM,CAAAsS,UAAU,CAAGtS,IAAI,CAAC+H,SAAS,CAAC,CAAe;;AAEjD,MAAO,CAAA3G,MAAA,CAAAC,CAAA,CAAC0C,cAAc,EAAC/D,IAAI,CAAEA,IAAK,CAAC8I,KAAK,CAAE,GAAI,EAAC1H,MAAA,CAAAC,CAAA,QAAK,QAAM,KAAK;AAC9DD,MAAA,CAAAC,CAAA,UAAG,qDAAsD,CAAC;AAC1DD,MAAA,CAAAC,CAAA;AACCD,MAAA,CAAAC,CAAA,WAAQ,WAAS,wCAAwC,CAAC,QAAM,QAAQ,EAACD,MAAA,CAAAC,CAAA,eAAQ,mBAAyB,CAAS,CAAC,IAAC;AACrHD,MAAA,CAAAC,CAAA,WAAQ,WAAS,8BAA8B,CAAC,QAAM,QAAQ,EAAC,cAAoB,CAAC,IAAC;AACpF,CAACiR,UAAU,CAACC,MAAM,CAACC,KAAK,EAAIpR,MAAA,CAAAC,CAAA,WAAQF,IAAI,CAAC,QAAQ,CAAC,YAAU,eAAe,CAAC,QAAM,QAAQ,EAAC;;AAEpF,CAAC,CAAC,GAAC;AACXC,MAAA,CAAAC,CAAA,WAAQF,IAAI,CAAC,QAAQ,CAAC,WAAS,QAAQ,CAAC,QAAM,QAAQ,EAAC;;AAE/C;AACN;AACC,CAAiB,CAAC;AACxB,CAAC,QAAAgR,kBAAA,GAvB+B/N,WAAW,EAAtC+N,kBAAkB,CACPlU,EAAE,CAAG,SAAS,CADzBkU,kBAAkB,CAEP5O,MAAM,CAAG,CAAC,eAAe,CAAC,CAFrC4O,kBAAkB,CAGP7N,QAAQ,CAAG,iBAAiB,CAHvC6N,kBAAkB,CAIPhJ,KAAK,CAAG,IAAI;;;AAsBvBsJ,kBAAkB,UAAAC,aAAA,WAAAD,mBAAA,MAAAE,OAAA,SAAAC,KAAA,CAAAvT,SAAA,CAAAC,MAAA,CAAAlB,IAAA,KAAAmB,KAAA,CAAAqT,KAAA,EAAAC,KAAA,GAAAA,KAAA,CAAAD,KAAA,CAAAC,KAAA,IAAAzU,IAAA,CAAAyU,KAAA,EAAAxT,SAAA,CAAAwT,KAAA,GAAAF,OAAA,CAAAD,aAAA,CAAA9U,IAAA,CAAA6B,KAAA,CAAAiT,aAAA,QAAAhT,MAAA,CAAAtB,IAAA,SAAAuU,OAAA;;;;;;AAMvBG,mBAAmB,CAAG,SAAClT,EAAS,CAAK,KAAAmT,eAAA,CAAAC,YAAA;AACpC,GAAM,CAAAhT,IAAI,CAAG2S,OAAA,CAAK1S,KAAK,CAACD,IAAI;AAC5B,GAAM,CAAAsS,UAAU,EAAAS,eAAA,CAAG/S,IAAI,CAAC+H,SAAS,CAAC,CAAC,eAAhBgL,eAAA,CAAkBhL,SAAS,CAAC,CAAe;AAC9D,GAAM,CAAAkL,SAAS,EAAAD,YAAA,CAAGL,OAAA,CAAKzS,IAAI,UAAA8S,YAAA,CAATA,YAAA,CAAW7S,aAAa,CAAmB,uBAAuB,CAAC,eAAnE6S,YAAA,CAAqE5S,KAAK;AAC5F,GAAI,EAAC6S,SAAS,QAATA,SAAS,CAAE3T,MAAM,EAAE,MAAO,CAAAgT,UAAU,CAACY,GAAG,CAAC,4BAA4B,CAAC;AAC3E,GAAIZ,UAAU,CAACC,MAAM,CAACY,KAAK,CAAE,MAAO,CAAAb,UAAU,CAACY,GAAG,CAAC,yDAAyD,CAAC;AAC7G,GAAI,CAAAE,UAAU,CAAGd,UAAU,CAACC,MAAM,CAACpQ,EAAE,CAAClE,EAAE,GAAKS,EAAE,CAACC,IAAI,CAACb,MAAM,CAAG,IAAI,CAAG,IAAI;AACzEwU,UAAU,CAACvT,IAAI,CAAC,cAAc,CAAC;AAC/BuT,UAAU,CAACvT,IAAI,eAAekU,SAAS,MAAKG,UAAY,CAAC;AACzDT,OAAA,CAAK3M,KAAK,CAAC,CAAC;AACZpG,EAAE,CAACE,cAAc,CAAC,CAAC;AACpB,CAAC,QAAA6S,OAAA,EAAArU,cAAA,CAAAmU,kBAAA,CAAAC,aAAA,MAAAW,QAAA,CAAAZ,kBAAA,CAAAjU,SAAA,CAAA6U,QAAA;;AAEQxP,MAAM,CAAf,QAAS,CAAAA,MAAMA,CAAA,CAAG;AACjB,GAAM,CAAA7D,IAAI,CAAG,IAAI,CAACC,KAAK,CAACD,IAAI;;AAE5B,MAAO,CAAAoB,MAAA,CAAAC,CAAA,CAAC0C,cAAc,EAAC/D,IAAI,CAAEA,IAAK,CAAC8I,KAAK,CAAE,GAAI,EAAC1H,MAAA,CAAAC,CAAA,QAAK,QAAM,KAAK;AAC9DD,MAAA,CAAAC,CAAA,SAAM2C,QAAQ,CAAE,IAAI,CAAC8O,mBAAoB;AACxC1R,MAAA,CAAAC,CAAA,UAAG,4BAA6B,CAAC;AACjCD,MAAA,CAAAC,CAAA;AACCD,MAAA,CAAAC,CAAA,UAAOtD,IAAI,CAAC,WAAW,CAAC,QAAM,mBAAmB,CAAE;AACjD,CAAC;AACJqD,MAAA,CAAAC,CAAA;AACCD,MAAA,CAAAC,CAAA,WAAQF,IAAI,CAAC,QAAQ,CAAC,QAAM,QAAQ;AACnCC,MAAA,CAAAC,CAAA,eAAQ,SAAe;AAChB,CAAC,IAAC;AACVD,MAAA,CAAAC,CAAA,WAAQF,IAAI,CAAC,QAAQ,CAAC,WAAS,QAAQ,CAAC,QAAM,QAAQ,EAAC;;AAE/C;AACN;AACE;AACF,CAAiB,CAAC;AACxB,CAAC,QAAAsR,kBAAA,GAtC+BrO,WAAW,EAAtCqO,kBAAkB,CACPxU,EAAE,CAAG,eAAe,CAD/BwU,kBAAkB,CAEPlP,MAAM,CAAG,CAAC,eAAe,CAAC,CAFrCkP,kBAAkB,CAGPnO,QAAQ,CAAG,iBAAiB,CAHvCmO,kBAAkB,CAIPtJ,KAAK,CAAG,IAAI;;;AAqCvBmK,mBAAmB,UAAAC,cAAA,WAAAD,oBAAA,MAAAE,OAAA,SAAAC,KAAA,CAAApU,SAAA,CAAAC,MAAA,CAAAlB,IAAA,KAAAmB,KAAA,CAAAkU,KAAA,EAAAC,KAAA,GAAAA,KAAA,CAAAD,KAAA,CAAAC,KAAA,IAAAtV,IAAA,CAAAsV,KAAA,EAAArU,SAAA,CAAAqU,KAAA,GAAAF,OAAA,CAAAD,cAAA,CAAA3V,IAAA,CAAA6B,KAAA,CAAA8T,cAAA,QAAA7T,MAAA,CAAAtB,IAAA,SAAAoV,OAAA;;;;;;;;AAQxBG,oBAAoB,CAAG,SAAC/T,EAAS,CAAK,KAAAgU,YAAA,CAAAC,aAAA,CAAAC,aAAA;AACrClU,EAAE,CAACE,cAAc,CAAC,CAAC;AACnB,GAAI,CAAAiU,WAAW,EAAAH,YAAA,CAAGJ,OAAA,CAAKtT,IAAI,UAAA0T,YAAA,CAATA,YAAA,CAAWzT,aAAa,CAAmB,yBAAyB,CAAC,eAArEyT,YAAA,CAAuExT,KAAK;AAC9F,GAAI,CAAA4T,QAAQ,EAAAH,aAAA,CAAGL,OAAA,CAAKtT,IAAI,UAAA2T,aAAA,CAATA,aAAA,CAAW1T,aAAa,CAAmB,sBAAsB,CAAC,eAAlE0T,aAAA,CAAoEzT,KAAK;AACxF,GAAI,CAAA6T,SAAS,EAAAH,aAAA,CAAGN,OAAA,CAAKtT,IAAI,UAAA4T,aAAA,CAATA,aAAA,CAAW3T,aAAa,CAAmB,uBAAuB,CAAC,eAAnE2T,aAAA,CAAqE1T,KAAK;AAC1F,GAAI,EAAC2T,WAAW,QAAXA,WAAW,CAAEzU,MAAM;AACvB,EAAC0U,QAAQ,QAARA,QAAQ,CAAE1U,MAAM;AACjB,EAAC2U,SAAS,QAATA,SAAS,CAAE3U,MAAM,EAAE,MAAO,CAAAkU,OAAA,CAAK3O,QAAQ,CAAC,CAAEqP,QAAQ,CAAE,yBAA0B,CAAC,CAAC;AAClF,GAAIF,QAAQ,GAAKC,SAAS,CAAE,MAAO,CAAAT,OAAA,CAAK3O,QAAQ,CAAC,CAAEqP,QAAQ,CAAE,wBAAyB,CAAC,CAAC;AACxFC,aAAa,CAACC,KAAK,CAAC,gBAAgB,CAAE;AACrCL,WAAW,CAAXA,WAAW;AACXC,QAAQ,CAARA,QAAQ;AACRC,SAAS,CAATA;AACD,CAAC,CAAC,CAACI,IAAI,CAAC,SAAA/O,IAAI,CAAI;AACf,GAAIA,IAAI,QAAJA,IAAI,CAAEgP,WAAW,CAAE,MAAO,CAAAd,OAAA,CAAK3O,QAAQ,CAAC,CAAEqP,QAAQ,CAAE5O,IAAI,cAAJA,IAAI,CAAEgP,WAAY,CAAC,CAAC;AAC5E5V,EAAE,CAAC6V,KAAK,CAAC,yCAAyC,CAAC;;AAEpD,CAAC,CAAC,SAAM,CAAC,SAAAC,GAAG,CAAI;AACfC,OAAO,CAACtD,KAAK,CAACqD,GAAG,CAAC;AAClBhB,OAAA,CAAK3O,QAAQ,CAAC,CAAEqP,QAAQ,CAAEM,GAAG,CAACE,OAAQ,CAAC,CAAC;AACzC,CAAC,CAAC;;AAEFlB,OAAA,CAAK3O,QAAQ,CAAC,CAAEqP,QAAQ,CAAE,EAAG,CAAC,CAAC;AAChC,CAAC,QAAAV,OAAA,EAAAlV,cAAA,CAAAgV,mBAAA,CAAAC,cAAA,MAAAoB,QAAA,CAAArB,mBAAA,CAAA9U,SAAA,CAAAmW,QAAA;;AAEQ9Q,MAAM,CAAf,QAAS,CAAAA,MAAMA,CAAA,CAAG,KAAA+Q,oBAAA;AACjB,GAAM,CAAA5U,IAAI,CAAG,IAAI,CAACC,KAAK,CAACD,IAAI;;AAE5B,MAAO,CAAAoB,MAAA,CAAAC,CAAA,CAAC0C,cAAc,EAAC/D,IAAI,CAAEA,IAAK,CAAC8I,KAAK,CAAE,GAAI,EAAC1H,MAAA,CAAAC,CAAA,QAAK,QAAM,KAAK;AAC9DD,MAAA,CAAAC,CAAA,SAAM2C,QAAQ,CAAE,IAAI,CAAC2P,oBAAqB;AACvC,CAAC,GAAAiB,oBAAA,CAAC,IAAI,CAACrP,KAAK,CAAC2O,QAAQ,SAAnBU,oBAAA,CAAqBtV,MAAM,GAAI8B,MAAA,CAAAC,CAAA;AAClCD,MAAA,CAAAC,CAAA,MAAG,QAAM,eAAe,EAAC,GAAC,CAAC,IAAI,CAACkE,KAAK,CAAC2O,QAAY;AAChD,CAAC;AACJ9S,MAAA,CAAAC,CAAA,UAAG,uBAAwB,CAAC;AAC5BD,MAAA,CAAAC,CAAA;AACCD,MAAA,CAAAC,CAAA,UAAO,QAAM,OAAO,EAAC,YACV;;AACVD,MAAA,CAAAC,CAAA,UAAOtD,IAAI,CAAC,UAAU,CAACqC,KAAK,CAAE1B,EAAE,CAACC,IAAI,CAACZ,IAAK,CAAC8W,QAAQ,CAAE,IAAK,CAACzD,YAAY,CAAC,UAAU,CAAC,QAAM,kBAAkB,CAAE;AACxG;AACL,CAAC;AACJhQ,MAAA,CAAAC,CAAA;AACCD,MAAA,CAAAC,CAAA,UAAO,QAAM,OAAO,EAAC,gBACN;;AACdD,MAAA,CAAAC,CAAA,UAAOtD,IAAI,CAAC,aAAa,CAACoD,IAAI,CAAC,UAAU,CAACiQ,YAAY,CAAC,kBAAkB,CAAC,QAAM,mBAAmB,CAAE;AAC/F;AACL,CAAC;AACJhQ,MAAA,CAAAC,CAAA;AACCD,MAAA,CAAAC,CAAA,UAAO,QAAM,OAAO,EAAC,gBACN;;AACdD,MAAA,CAAAC,CAAA,UAAOtD,IAAI,CAAC,UAAU,CAACoD,IAAI,CAAC,UAAU,CAACiQ,YAAY,CAAC,cAAc,CAAC,QAAM,SAAS,CAAE;AAC9E;AACL,CAAC;AACJhQ,MAAA,CAAAC,CAAA;AACCD,MAAA,CAAAC,CAAA,UAAO,QAAM,OAAO,EAAC,0BACI;;AACxBD,MAAA,CAAAC,CAAA,UAAOtD,IAAI,CAAC,WAAW,CAACoD,IAAI,CAAC,UAAU,CAACiQ,YAAY,CAAC,cAAc,CAAC,QAAM,SAAS,CAAE;AAC/E;AACL,CAAC;AACJhQ,MAAA,CAAAC,CAAA,MAAG,QAAM,WAAW;AACnBD,MAAA,CAAAC,CAAA,WAAQF,IAAI,CAAC,QAAQ,CAAC,QAAM,QAAQ;AACnCC,MAAA,CAAAC,CAAA,eAAQ,iBAAuB;AACxB,CAAC,IAAC;AACVD,MAAA,CAAAC,CAAA,WAAQF,IAAI,CAAC,QAAQ,CAAC,WAAS,QAAQ,CAAC,QAAM,QAAQ,EAAC,QAAc;AACnE;AACE;AACF;AACW,CAAC;AAClB,CAAC,QAAAmS,mBAAA,GA3EgClP,WAAW,EAAvCkP,mBAAmB,CACRrV,EAAE,CAAG,gBAAgB,CADhCqV,mBAAmB,CAER/P,MAAM,CAAG,CAAC,gBAAgB,CAAC,CAFtC+P,mBAAmB,CAGRhP,QAAQ,CAAG,iBAAiB,CAHvCgP,mBAAmB,CAIRnK,KAAK,CAAG,IAAI;;;AA0EvB2L,aAAa,UAAAC,cAAA,WAAAD,cAAA,MAAAE,OAAA,SAAAC,KAAA,CAAA5V,SAAA,CAAAC,MAAA,CAAAlB,IAAA,KAAAmB,KAAA,CAAA0V,KAAA,EAAAC,KAAA,GAAAA,KAAA,CAAAD,KAAA,CAAAC,KAAA,IAAA9W,IAAA,CAAA8W,KAAA,EAAA7V,SAAA,CAAA6V,KAAA,GAAAF,OAAA,CAAAD,cAAA,CAAAnX,IAAA,CAAA6B,KAAA,CAAAsV,cAAA,QAAArV,MAAA,CAAAtB,IAAA,SAAA4W,OAAA;;;;;;;;;AASlBG,kBAAkB,CAAG,SAACvV,EAAS,CAAK,KAAAwV,YAAA,CAAAC,aAAA,CAAAC,aAAA;AACnC1V,EAAE,CAACE,cAAc,CAAC,CAAC;AACnB,GAAI,CAAAyV,OAAO,EAAAH,YAAA,CAAGJ,OAAA,CAAK9U,IAAI,UAAAkV,YAAA,CAATA,YAAA,CAAWjV,aAAa,CAAmB,qBAAqB,CAAC,eAAjEiV,YAAA,CAAmEhV,KAAK;AACtF,GAAI,CAAA4T,QAAQ,EAAAqB,aAAA,CAAGL,OAAA,CAAK9U,IAAI,UAAAmV,aAAA,CAATA,aAAA,CAAWlV,aAAa,CAAmB,sBAAsB,CAAC,eAAlEkV,aAAA,CAAoEjV,KAAK;AACxF,GAAI,CAAA6T,SAAS,EAAAqB,aAAA,CAAGN,OAAA,CAAK9U,IAAI,UAAAoV,aAAA,CAATA,aAAA,CAAWnV,aAAa,CAAmB,uBAAuB,CAAC,eAAnEmV,aAAA,CAAqElV,KAAK;AAC1F,GAAI,EAACmV,OAAO,QAAPA,OAAO,CAAEjW,MAAM;AACnB,EAAC0U,QAAQ,QAARA,QAAQ,CAAE1U,MAAM;AACjB,EAAC2U,SAAS,QAATA,SAAS,CAAE3U,MAAM,EAAE,MAAO,CAAA0V,OAAA,CAAKnQ,QAAQ,CAAC,CAAEqP,QAAQ,CAAE,yBAA0B,CAAC,CAAC;AAClF,GAAIF,QAAQ,GAAKC,SAAS,CAAE,MAAO,CAAAe,OAAA,CAAKnQ,QAAQ,CAAC,CAAEqP,QAAQ,CAAE,wBAAyB,CAAC,CAAC;AACxFC,aAAa,CAACC,KAAK,CAAC,UAAU,CAAE;AAC/BmB,OAAO,CAAPA,OAAO;AACPvB,QAAQ,CAARA,QAAQ;AACRC,SAAS,CAATA,SAAS;AACT5V,QAAQ,CAAEK,EAAE,CAACC,IAAI,CAACZ,IAAI;AACtByX,QAAQ,CAAE9W,EAAE,CAACC,IAAI,CAAC6W;AACnB,CAAC,CAAC,CAACnB,IAAI,CAAC,SAAA/O,IAAI,CAAI,KAAAmQ,aAAA;AACf,GAAInQ,IAAI,QAAJA,IAAI,CAAEgP,WAAW,CAAEU,OAAA,CAAKnQ,QAAQ,CAAC,CAAEqP,QAAQ,CAAE5O,IAAI,cAAJA,IAAI,CAAEgP,WAAY,CAAC,CAAC;AACrE,GAAIhP,IAAI,SAAAmQ,aAAA,CAAJnQ,IAAI,CAAEoQ,OAAO,SAAbD,aAAA,CAAeE,QAAQ,CAAE;AAC5B,GAAI,CAAA5X,IAAI,CAAGuH,IAAI,CAACoQ,OAAO,CAACrX,QAAQ;AAChCK,EAAE,CAACC,IAAI,CAAC8O,UAAU,CAAG,CAAE1P,IAAI,CAAJA,IAAI,CAAED,MAAM,CAAEW,IAAI,CAACV,IAAI,CAAE,CAAC;AACjD,GAAIuH,IAAI,QAAJA,IAAI,CAAEsQ,SAAS,CAAElX,EAAE,CAACC,IAAI,CAACkX,eAAe,CAAC9X,IAAI,CAAEuH,IAAI,cAAJA,IAAI,CAAEsQ,SAAS,CAAC;AACnEZ,OAAA,CAAKhP,KAAK,CAAC,CAAC;AACZtH,EAAE,CAAC6V,KAAK,CAAC,wCAAwC,CAAC;AACnD;AACD,CAAC,CAAC,SAAM,CAAC,SAAAC,GAAG,CAAI;AACfC,OAAO,CAACtD,KAAK,CAACqD,GAAG,CAAC;AAClBQ,OAAA,CAAKnQ,QAAQ,CAAC,CAAEqP,QAAQ,CAAEM,GAAG,CAACE,OAAQ,CAAC,CAAC;AACzC,CAAC,CAAC;;AAEFM,OAAA,CAAKnQ,QAAQ,CAAC,CAAEqP,QAAQ,CAAE,EAAG,CAAC,CAAC;AAChC,CAAC,QAAAc,OAAA,EAAA1W,cAAA,CAAAwW,aAAA,CAAAC,cAAA,MAAAe,QAAA,CAAAhB,aAAA,CAAAtW,SAAA,CAAAsX,QAAA;;AAEQjS,MAAM,CAAf,QAAS,CAAAA,MAAMA,CAAA,CAAG,KAAAkS,qBAAA;AACjB,GAAM,CAAA/V,IAAI,CAAG,IAAI,CAACC,KAAK,CAACD,IAAI;;AAE5B,MAAO,CAAAoB,MAAA,CAAAC,CAAA,CAAC0C,cAAc,EAAC/D,IAAI,CAAEA,IAAK,CAAC8I,KAAK,CAAE,GAAI,EAAC1H,MAAA,CAAAC,CAAA,QAAK,QAAM,KAAK;AAC9DD,MAAA,CAAAC,CAAA,SAAM2C,QAAQ,CAAE,IAAI,CAACmR,kBAAmB;AACrC,CAAC,GAAAY,qBAAA,CAAC,IAAI,CAACxQ,KAAK,CAAC2O,QAAQ,SAAnB6B,qBAAA,CAAqBzW,MAAM,GAAI8B,MAAA,CAAAC,CAAA;AAClCD,MAAA,CAAAC,CAAA,MAAG,QAAM,eAAe,EAAC,GAAC,CAAC,IAAI,CAACkE,KAAK,CAAC2O,QAAY;AAChD,CAAC;AACJ9S,MAAA,CAAAC,CAAA,UAAG,wBAAyB,CAAC;AAC7BD,MAAA,CAAAC,CAAA;AACCD,MAAA,CAAAC,CAAA,UAAO,QAAM,OAAO,EAAC,YACV;;AACVD,MAAA,CAAAC,CAAA,UAAOtD,IAAI,CAAC,MAAM,CAACqC,KAAK,CAAE1B,EAAE,CAACC,IAAI,CAACZ,IAAK,CAAC8W,QAAQ,CAAE,IAAK,CAACzD,YAAY,CAAC,UAAU,CAAC,QAAM,kBAAkB,CAAE;AACpG;AACL,CAAC;AACJhQ,MAAA,CAAAC,CAAA;AACCD,MAAA,CAAAC,CAAA,UAAO,QAAM,OAAO,EAAC,YACV;;AACVD,MAAA,CAAAC,CAAA,UAAOtD,IAAI,CAAC,UAAU,CAACoD,IAAI,CAAC,UAAU,CAACiQ,YAAY,CAAC,cAAc,CAAC,QAAM,mBAAmB,CAAE;AACxF;AACL,CAAC;AACJhQ,MAAA,CAAAC,CAAA;AACCD,MAAA,CAAAC,CAAA,UAAO,QAAM,OAAO,EAAC,sBACA;;AACpBD,MAAA,CAAAC,CAAA,UAAOtD,IAAI,CAAC,WAAW,CAACoD,IAAI,CAAC,UAAU,CAACiQ,YAAY,CAAC,cAAc,CAAC,QAAM,SAAS,CAAE;AAC/E;AACL,CAAC;AACJhQ,MAAA,CAAAC,CAAA;AACCD,MAAA,CAAAC,CAAA,UAAO,QAAM,OAAO,EAACD,MAAA,CAAAC,CAAA;AACpBgC,GAAG,CAAC,8DAA8D;AAClE2S,GAAG,CAAC,wEAA4E;AAChF,CAAQ;AACP,CAAC;AACJ5U,MAAA,CAAAC,CAAA;AACCD,MAAA,CAAAC,CAAA,UAAO,QAAM,OAAO,EAAC,wBACE;;AACtBD,MAAA,CAAAC,CAAA,UAAOtD,IAAI,CAAC,SAAS,CAAC,QAAM,SAAS,CAAE;AACjC;AACL,CAAC;AACJqD,MAAA,CAAAC,CAAA,MAAG,QAAM,WAAW;AACnBD,MAAA,CAAAC,CAAA,WAAQF,IAAI,CAAC,QAAQ,CAAC,QAAM,QAAQ,EAACC,MAAA,CAAAC,CAAA,eAAQ,UAAgB,CAAS,CAAC,IAAC;AACxED,MAAA,CAAAC,CAAA,WAAQF,IAAI,CAAC,QAAQ,CAAC,WAAS,QAAQ,CAAC,QAAM,QAAQ,EAAC,QAAc;AACnE;AACE;;AAEF;AACW,CAAC;AAClB,CAAC,QAAA2T,aAAA,GAxF0B1Q,WAAW,EAAjC0Q,aAAa,CACF7W,EAAE,CAAG,UAAU,CAD1B6W,aAAa,CAEFvR,MAAM,CAAG,CAAC,UAAU,CAAC,CAFhCuR,aAAa,CAGFxQ,QAAQ,CAAG,iBAAiB,CAHvCwQ,aAAa,CAIF3L,KAAK,CAAG,IAAI,CAJvB2L,aAAa,CAKFmB,UAAU,CAAG,IAAI;;;AAsF5BC,mBAAmB,UAAAC,cAAA,WAAAD,oBAAA,MAAAE,OAAA,SAAAC,KAAA,CAAAhX,SAAA,CAAAC,MAAA,CAAAlB,IAAA,KAAAmB,KAAA,CAAA8W,KAAA,EAAAC,KAAA,GAAAA,KAAA,CAAAD,KAAA,CAAAC,KAAA,IAAAlY,IAAA,CAAAkY,KAAA,EAAAjX,SAAA,CAAAiX,KAAA,GAAAF,OAAA,CAAAD,cAAA,CAAAvY,IAAA,CAAA6B,KAAA,CAAA0W,cAAA,QAAAzW,MAAA,CAAAtB,IAAA,SAAAgY,OAAA;;;;;;;;;;;;;;;;AAgBxBG,KAAK,CAAG,SAAC3W,EAAS,CAAK;AACtB,GAAI,CAAA4W,SAAS,CAAG5W,EAAE,CAAC+G,aAAkC;AACrD,GAAI,CAAA8P,EAAE,CAAGD,SAAS,CAACpW,KAAK;AACxB,GAAIqW,EAAE,GAAK,QAAQ,CAAE,KAAAC,qBAAA;AACpBC,YAAY,CAACzM,GAAG,CAAC,EAAAwM,qBAAA,CAAAN,OAAA,CAAKnW,KAAK,CAACD,IAAI,CAAC5B,IAAI,eAApBsY,qBAAA,CAAsBE,KAAK,GAAc,EAAE,CAAE,QAAQ,CAAC;AACvER,OAAA,CAAKpQ,KAAK,CAAC,CAAC;AACb,CAAC,IAAM;AACN2Q,YAAY,CAACzM,GAAG,CAAC,EAAE,CAAEuM,EAAE,CAAC;AACzB;AACA7W,EAAE,CAACE,cAAc,CAAC,CAAC;AACnBF,EAAE,CAACG,wBAAwB,CAAC,CAAC;AAC7BqW,OAAA,CAAKhM,WAAW,CAAC,CAAC;AACnB,CAAC,CAAAgM,OAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCDS,QAAQ,CAAG,SAACjX,EAAS,CAAK,KAAAkX,YAAA;AACzBV,OAAA,CAAKvR,QAAQ,CAAC,CAAE/B,MAAM,CAAEwJ,SAAU,CAAC,CAAC;AACpC,GAAM,CAAAwE,KAAK,EAAAgG,YAAA,CAAGV,OAAA,CAAKlW,IAAI,eAAT4W,YAAA,CAAW3W,aAAa,CAAmB,oBAAoB,CAAC;AAC9E+V,mBAAmB,CAACa,mBAAmB,CAACjG,KAAK,cAALA,KAAK,CAAEkG,KAAK,CAAE,IAAI,CAAC;AAC3DpX,EAAE,CAACE,cAAc,CAAC,CAAC;AACnBF,EAAE,CAACG,wBAAwB,CAAC,CAAC;AAC9B,CAAC,QAAAqW,OAAA,EAAA9X,cAAA,CAAA4X,mBAAA,CAAAC,cAAA,EAAAD,mBAAA,CA/DMe,UAAU,CAAjB,QAAO,CAAAA,UAAUA,CAACrX,EAAa,CAAE,KAAAsX,gBAAA,CAAAC,OAAA,CAChC,GAAM,CAAAH,KAAK,EAAAE,gBAAA,CAAGtX,EAAE,CAACwX,YAAY,eAAfF,gBAAA,CAAiBF,KAAK,CACpC,GAAIA,KAAK,SAAAG,OAAA,CAALH,KAAK,CAAG,CAAC,CAAC,UAAAG,OAAA,CAAVA,OAAA,CAAYhW,IAAI,SAAhBgW,OAAA,CAAkBrW,UAAU,CAAC,QAAQ,CAAC,CAAE,CAE3CoV,mBAAmB,CAACa,mBAAmB,CAACC,KAAK,CAAC,CAC9C,MAAO,KAAI,CACZ,CACD,CAAC,CAAAd,mBAAA,CAkBMa,mBAAmB,CAA1B,QAAO,CAAAA,mBAAmBA,CAACC,KAAkC,CAAEK,WAAqB,CAAE,CACrF,GAAI,EAACL,KAAK,QAALA,KAAK,CAAG,CAAC,CAAC,EAAE,OAEjB,GAAM,CAAAM,IAAI,CAAGN,KAAK,CAAC,CAAC,CAAC,CACrB,GAAM,CAAAO,MAAM,CAAG,GAAI,CAAAC,UAAU,CAAC,CAAC,CAE/BD,MAAM,CAACE,MAAM,CAAG,UAAM,KAAAC,qBAAA,CACrB,GAAM,CAAAd,KAAK,CAAGW,MAAM,CAACI,MAAgB,CACrC,GAAIf,KAAK,CAACtX,MAAM,CAAG,OAAO,CAAE,CAC3BZ,EAAE,CAACkZ,IAAI,CAAC,kBAAkB,CAAY,CACrCxZ,IAAI,CAAE,CAAE+S,KAAK,yEAA2E,CACzF,CAAC,CAAC,CACF,OACD,CACA,GAAIkG,WAAW,CAAE,CAChBV,YAAY,CAACzM,GAAG,CAAC0M,KAAK,CAAE,QAAQ,CAAC,CAClC,CAAC,IAAM,CACNlY,EAAE,CAACkZ,IAAI,CAAC,kBAAkB,CAAY,CACrCxZ,IAAI,CAAE,CAAEwY,KAAK,CAALA,KAAM,CACf,CAAC,CAAC,CACH,CACA,CAAAc,qBAAA,CAAAhZ,EAAE,CAACgD,KAAK,CAAC,kBAAkB,CAAC,SAA5BgW,qBAAA,CAA8B5Y,MAAM,CAAC,IAAI,CAAC,CAC3C,CAAC,CAEDyY,MAAM,CAACM,OAAO,CAAG,UAAM,CACtBnZ,EAAE,CAACkZ,IAAI,CAAC,kBAAkB,CAAY,CACrCxZ,IAAI,CAAE,CAAE+S,KAAK,CAAE,kCAAmC,CACnD,CAAC,CAAC,CACH,CAAC,CACDoG,MAAM,CAACO,aAAa,CAACR,IAAI,CAAC,CAC3B,CAAC,KAAAS,QAAA,CAAA7B,mBAAA,CAAA1X,SAAA,CAAAuZ,QAAA;;AAUDC,YAAY,CAAZ,SAAAA,YAAYA,CAAA,CAAG,KAAAC,UAAA,CAAAC,WAAA;AACd,GAAM,CAAAlY,IAAI,CAAG,IAAI,CAACC,KAAK,CAACD,IAAI;AAC5B,IAAAiY,UAAA,CAAIjY,IAAI,CAAC5B,IAAI,SAAT6Z,UAAA,CAAW9G,KAAK,CAAE;AACrB,MAAO,CAAA/P,MAAA,CAAAC,CAAA,CAAC0C,cAAc,EAAC/D,IAAI,CAAEA,IAAK,CAAC8I,KAAK,CAAE,GAAI,EAAC1H,MAAA,CAAAC,CAAA,QAAK,QAAM,KAAK;AAC9DD,MAAA,CAAAC,CAAA,MAAG,QAAM,OAAO,EAAErB,IAAI,CAAC5B,IAAI,CAAC+S,KAAS,CAAC;AACtC/P,MAAA,CAAAC,CAAA,MAAG,QAAM,WAAW;AACnBD,MAAA,CAAAC,CAAA,WAAQ,WAAS,QAAQ,CAAC,QAAM,QAAQ,EAACD,MAAA,CAAAC,CAAA,eAAQ,MAAY,CAAS;AACpE;AACC,CAAiB,CAAC;AACxB;;AAEA,IAAA6W,WAAA,CAAIlY,IAAI,CAAC5B,IAAI,SAAT8Z,WAAA,CAAWtB,KAAK,CAAE;AACrB,MAAO,CAAAxV,MAAA,CAAAC,CAAA,CAAC0C,cAAc,EAAC/D,IAAI,CAAEA,IAAK,CAAC8I,KAAK,CAAE,GAAI,EAAC1H,MAAA,CAAAC,CAAA,QAAK,QAAM,KAAK;AAC9DD,MAAA,CAAAC,CAAA;AACCD,MAAA,CAAAC,CAAA,QAAKgC,GAAG,CAAErD,IAAI,CAAC5B,IAAI,CAACwY,KAAgB,CAACtV,KAAK,CAAC,0DAA0D,CAAE;AACrG,CAAC;AACJF,MAAA,CAAAC,CAAA,MAAG,QAAM,WAAW;AACnBD,MAAA,CAAAC,CAAA,WAAQ0H,OAAO,CAAE,IAAI,CAACwN,KAAM,CAACnW,KAAK,CAAC,QAAQ,CAAC,QAAM,QAAQ,EAACgB,MAAA,CAAAC,CAAA,eAAQ,mBAAyB,CAAS,CAAC,IAAC;AACvGD,MAAA,CAAAC,CAAA,WAAQ,WAAS,QAAQ,CAAC,QAAM,QAAQ,EAAC,QAAc;AACrD;AACC,CAAiB,CAAC;AACxB;;AAEA,MAAO,KAAI;AACZ,CAAC,CAAA0W,QAAA;;AAEQlU,MAAM,CAAf,QAAS,CAAAA,MAAMA,CAAA,CAAG;AACjB,GAAM,CAAA7D,IAAI,CAAG,IAAI,CAACC,KAAK,CAACD,IAAI;AAC5B,GAAM,CAAAmY,MAAM,CAAG,QAAAA,CAACC,GAAW,QAAK,CAAAA,GAAG,GAAKzB,YAAY,CAAC1Y,EAAE,CAAG,YAAY,CAAG,QAAQ;AACjF,MAAO,KAAI,CAAC+Z,YAAY,CAAC,CAAC,EAAI5W,MAAA,CAAAC,CAAA,CAAC0C,cAAc,EAAC/D,IAAI,CAAEA,IAAK,CAAC8I,KAAK,CAAE,GAAI,EAAC1H,MAAA,CAAAC,CAAA,QAAK,QAAM,KAAK;AACrFD,MAAA,CAAAC,CAAA,UAAGD,MAAA,CAAAC,CAAA,eAAQ,SAAe,CAAI,CAAC;AAC/BD,MAAA,CAAAC,CAAA,QAAK,QAAM,QAAQ;AAClBD,MAAA,CAAAC,CAAA,WAAQ0H,OAAO,CAAE,IAAI,CAACwN,KAAM,CAACnW,KAAK,CAAC,EAAE,CAAC,QAAO+X,MAAM,CAAC,EAAE,CAAE;AACvD/W,MAAA,CAAAC,CAAA;AACCC,KAAK,CAAC,2FAMN;;;;;;;AACA,QAAc;AACR;AACJ,CAAC;AACNF,MAAA,CAAAC,CAAA,QAAKC,KAAK,CAAC,aAAa,CAAM,CAAC;AAC/BF,MAAA,CAAAC,CAAA,UAAGD,MAAA,CAAAC,CAAA,eAAQ,UAAgB,CAAI,CAAC;AAChCD,MAAA,CAAAC,CAAA,QAAK,QAAM,QAAQ;AAClBD,MAAA,CAAAC,CAAA,WAAQ0H,OAAO,CAAE,IAAI,CAACwN,KAAM,CAACnW,KAAK,CAAC,YAAY,CAAC,QAAO+X,MAAM,CAAC,YAAY,CAAE;AAC3E/W,MAAA,CAAAC,CAAA,SAAM,QAAM,IAAI,CAACC,KAAK,CAAC,6BAA6B,CAAO,CAAC,CAAE;;AAEvD,CAAC;AACTF,MAAA,CAAAC,CAAA,WAAQ0H,OAAO,CAAE,IAAI,CAACwN,KAAM,CAACnW,KAAK,CAAC,SAAS,CAAC,QAAO+X,MAAM,CAAC,SAAS,CAAE;AACrE/W,MAAA,CAAAC,CAAA,SAAM,QAAM,IAAI,CAACC,KAAK,CAAC,8BAA8B,CAAO,CAAC,CAAE;;AAExD,CAAC;AACTF,MAAA,CAAAC,CAAA,WAAQ0H,OAAO,CAAE,IAAI,CAACwN,KAAM,CAACnW,KAAK,CAAC,WAAW,CAAC,QAAO+X,MAAM,CAAC,WAAW,CAAE;AACzE/W,MAAA,CAAAC,CAAA,SAAM,QAAM,IAAI,CAACC,KAAK,CAAC,+BAA+B,CAAO,CAAC,CAAE;;AAEzD,CAAC;AACTF,MAAA,CAAAC,CAAA,WAAQ0H,OAAO,CAAE,IAAI,CAACwN,KAAM,CAACnW,KAAK,CAAC,OAAO,CAAC,QAAO+X,MAAM,CAAC,OAAO,CAAE;AACjE/W,MAAA,CAAAC,CAAA,SAAM,QAAM,IAAI,CAACC,KAAK,CAAC,+BAA+B,CAAO,CAAC,CAAE;;AAEzD,CAAC;AACTF,MAAA,CAAAC,CAAA,WAAQ0H,OAAO,CAAE,IAAI,CAACwN,KAAM,CAACnW,KAAK,CAAC,SAAS,CAAC,QAAO+X,MAAM,CAAC,SAAS,CAAE;AACrE/W,MAAA,CAAAC,CAAA,SAAM,QAAM,IAAI,CAACC,KAAK,CAAC,+BAA+B,CAAO,CAAC,CAAE;;AAEzD,CAAC;AACTF,MAAA,CAAAC,CAAA,WAAQ0H,OAAO,CAAE,IAAI,CAACwN,KAAM,CAACnW,KAAK,CAAC,WAAW,CAAC,QAAO+X,MAAM,CAAC,WAAW,CAAE;AACzE/W,MAAA,CAAAC,CAAA,SAAM,QAAM,IAAI,CAACC,KAAK,CAAC,qBAAqB,CAAO,CAAC,CAAE;;AAE/C;AACJ,CAAC;AACNF,MAAA,CAAAC,CAAA,QAAKC,KAAK,CAAC,aAAa,CAAM,CAAC;AAC/BF,MAAA,CAAAC,CAAA,UAAGD,MAAA,CAAAC,CAAA,eAAQ,QAAc,CAAI,CAAC;AAC9BD,MAAA,CAAAC,CAAA,UAAG;;AAEA,CAAC;AACJD,MAAA,CAAAC,CAAA,UAAGD,MAAA,CAAAC,CAAA,UAAOF,IAAI,CAAC,MAAM,CAACkX,MAAM,CAAC,SAAS,CAACta,IAAI,CAAC,QAAQ,CAACoG,QAAQ,CAAE,IAAI,CAAC0S,QAAS,CAAE,CAAI,CAAC;AACnF,CAAC,CAAC,IAAI,CAACtR,KAAK,CAACzC,MAAM,EAAI1B,MAAA,CAAAC,CAAA,MAAG,QAAM,OAAO,EAAE,IAAI,CAACkE,KAAK,CAACzC,MAAU,CAAC;AAChE1B,MAAA,CAAAC,CAAA,MAAG,QAAM,WAAW;AACnBD,MAAA,CAAAC,CAAA,WAAQ,WAAS,QAAQ,CAAC,QAAM,QAAQ,EAACD,MAAA,CAAAC,CAAA,eAAQ,MAAY,CAAS;AACpE;AACC;AACW,CAAC;AAClB,CAAC,QAAA6U,mBAAA,GA1JgC9R,WAAW,EAAvC8R,mBAAmB,CACRjY,EAAE,CAAG,kBAAkB,CADlCiY,mBAAmB,CAER3S,MAAM,CAAG,CAAC,kBAAkB,CAAC,CAFxC2S,mBAAmB,CAGR5R,QAAQ,CAAG,iBAAiB,CAHvC4R,mBAAmB,CAIR/M,KAAK,CAAG,IAAI;;;AAyJvBmP,mBAAmB,UAAAC,cAAA,WAAAD,oBAAA,MAAAE,OAAA,SAAAC,MAAA,CAAApZ,SAAA,CAAAC,MAAA,CAAAlB,IAAA,KAAAmB,KAAA,CAAAkZ,MAAA,EAAAC,MAAA,GAAAA,MAAA,CAAAD,MAAA,CAAAC,MAAA,IAAAta,IAAA,CAAAsa,MAAA,EAAArZ,SAAA,CAAAqZ,MAAA,GAAAF,OAAA,CAAAD,cAAA,CAAA3a,IAAA,CAAA6B,KAAA,CAAA8Y,cAAA,QAAA7Y,MAAA,CAAAtB,IAAA,SAAAoa,OAAA;;;;;;AAMxB7L,cAAc,CAAG,SAAC/M,EAAS,CAAK;AAC/B,GAAM,CAAAiN,OAAO,CAAG,MAAM,CAAIjN,EAAE,CAAC+G,aAAa,CAAsB5I,IAAI;AACpE,GAAM,CAAAqC,KAAK,CAAIR,EAAE,CAAC+G,aAAa,CAAsB4D,OAAO;AAC5D,GAAI,CAAAoO,OAAO,CAAGja,EAAE,CAAC2I,KAAK,CAACuR,cAAc;AACrCD,OAAO,CAAC9L,OAAO,CAAC,CAAGzM,KAAK;AACxB1B,EAAE,CAAC2I,KAAK,CAAC6C,GAAG,CAAC,gBAAgB,CAAEyO,OAAO,CAAC;AACvC/Y,EAAE,CAACE,cAAc,CAAC,CAAC;AACnBF,EAAE,CAACG,wBAAwB,CAAC,CAAC;AAC9B,CAAC,QAAAyY,OAAA,EAAAla,cAAA,CAAAga,mBAAA,CAAAC,cAAA,MAAAM,QAAA,CAAAP,mBAAA,CAAA9Z,SAAA,CAAAqa,QAAA;;AAEQhV,MAAM,CAAf,QAAS,CAAAA,MAAMA,CAAA,CAAG;AACjB,GAAM,CAAA7D,IAAI,CAAG,IAAI,CAACC,KAAK,CAACD,IAAI;AAC5B,GAAM,CAAA8Y,IAAI,CAAGC,MAAM,CAACC,KAAK,CAAG,KAAK,CAAG,MAAM;AAC1C,MAAO,CAAA5X,MAAA,CAAAC,CAAA,CAAC0C,cAAc,EAAC/D,IAAI,CAAEA,IAAK,CAAC8I,KAAK,CAAE,GAAI,EAAC1H,MAAA,CAAAC,CAAA,QAAK,QAAM,KAAK;AAC9DD,MAAA,CAAAC,CAAA,UAAG,oBAAqB,CAAC;AACzBD,MAAA,CAAAC,CAAA,UAAG,IAAE,CAAAD,MAAA,CAAAC,CAAA,eAAQ,MAAY,CAAC,OAAI,CAAAD,MAAA,CAAAC,CAAA,YAAMyX,IAAU,CAAC,IAAC,CAAA1X,MAAA,CAAAC,CAAA,YAAK,GAAM,CAAC,IAAI,CAAC;AACjED,MAAA,CAAAC,CAAA,UAAG,IAAE,CAAAD,MAAA,CAAAC,CAAA,WAAI,SAAW,CAAC,OAAI,CAAAD,MAAA,CAAAC,CAAA,YAAMyX,IAAU,CAAC,IAAC,CAAA1X,MAAA,CAAAC,CAAA,YAAK,GAAM,CAAC,IAAI,CAAC;AAC5DD,MAAA,CAAAC,CAAA,UAAG,IAAE,CAAAD,MAAA,CAAAC,CAAA,aAAM,iBAAqB,CAAC,OAAI,CAAAD,MAAA,CAAAC,CAAA,YAAK,MAAS,CAAC,IAAC,CAAAD,MAAA,CAAAC,CAAA,YAAK,GAAM,CAAC,IAAI,CAAC;AACtED,MAAA,CAAAC,CAAA,UAAG,IAAE,CAAAD,MAAA,CAAAC,CAAA,UAAG,eAAgB,CAAC,KAAK,CAAC;AAC/BD,MAAA,CAAAC,CAAA,UAAG,IAAE,CAAAD,MAAA,CAAAC,CAAA,YAAK,aAAgB,CAAC,KAAK,CAAC;AACjCD,MAAA,CAAAC,CAAA,UAAG,MAAE,CAAAD,MAAA,CAAAC,CAAA,YAAK,WAAc,CAAC,OAAK,CAAC;AAC/BD,MAAA,CAAAC,CAAA;AACCD,MAAA,CAAAC,CAAA,UAAO,QAAM,UAAU;AACtBD,MAAA,CAAAC,CAAA;AACC8C,QAAQ,CAAE,IAAI,CAACwI,cAAe;AAC9BxL,IAAI,CAAC,UAAU;AACfpD,IAAI,CAAC,WAAW;AAChBwM,OAAO,CAAE7L,EAAE,CAAC2I,KAAK,CAACuR,cAAc,CAACK,aAAc;AAC/C,CAAC,aAAU,CAAA7X,MAAA,CAAAC,CAAA,SAAM,QAAM,WAAW,EAAC,YAAmB;AACjD;AACL,CAAC;AACJD,MAAA,CAAAC,CAAA;AACCD,MAAA,CAAAC,CAAA,UAAO,QAAM,UAAU;AACtBD,MAAA,CAAAC,CAAA;AACC8C,QAAQ,CAAE,IAAI,CAACwI,cAAe;AAC9BxL,IAAI,CAAC,UAAU;AACfpD,IAAI,CAAC,IAAI;AACTwM,OAAO,CAAE7L,EAAE,CAAC2I,KAAK,CAACuR,cAAc,CAACM,MAAO;;AAExC,CAAC,aAAU,CAAA9X,MAAA,CAAAC,CAAA,aAAM,KAAS,CAAC,IAAC,CAAAD,MAAA,CAAAC,CAAA,WAAI,mBAAqB;AAChD;AACL,CAAC;AACJD,MAAA,CAAAC,CAAA;AACCD,MAAA,CAAAC,CAAA,UAAO,QAAM,UAAU;AACtBD,MAAA,CAAAC,CAAA;AACC8C,QAAQ,CAAE,IAAI,CAACwI,cAAe;AAC9BxL,IAAI,CAAC,UAAU;AACfpD,IAAI,CAAC,SAAS;AACdwM,OAAO,CAAE7L,EAAE,CAAC2I,KAAK,CAACuR,cAAc,CAACO,WAAY;AAC7C,CAAC,wBAAqB,CAAA/X,MAAA,CAAAC,CAAA,SAAM,QAAM,SAAS,EAAC,cAAkB;AACzD;AACL,CAAC;AACJD,MAAA,CAAAC,CAAA;AACCD,MAAA,CAAAC,CAAA,UAAO,QAAM,UAAU;AACtBD,MAAA,CAAAC,CAAA;AACC8C,QAAQ,CAAE,IAAI,CAACwI,cAAe;AAC9BxL,IAAI,CAAC,UAAU;AACfpD,IAAI,CAAC,OAAO;AACZwM,OAAO,CAAE7L,EAAE,CAAC2I,KAAK,CAACuR,cAAc,CAACQ,SAAU;AAC3C,CAAC;AACI;AACL,CAAC;AACJhY,MAAA,CAAAC,CAAA;AACCD,MAAA,CAAAC,CAAA,UAAO,QAAM,UAAU;AACtBD,MAAA,CAAAC,CAAA;AACC8C,QAAQ,CAAE,IAAI,CAACwI,cAAe;AAC9BxL,IAAI,CAAC,UAAU;AACfpD,IAAI,CAAC,YAAY;AACjBwM,OAAO,CAAE7L,EAAE,CAAC2I,KAAK,CAACuR,cAAc,CAACS,cAAe;AAChD,CAAC;AACI;AACL,CAAC;AACJjY,MAAA,CAAAC,CAAA,UAAGD,MAAA,CAAAC,CAAA,WAAQ,WAAS,QAAQ,CAAC,QAAM,QAAQ,EAAC,MAAY,CAAI;AACxD;AACW,CAAC;AAClB,CAAC,QAAAiX,mBAAA,GAjFgClU,WAAW,EAAvCkU,mBAAmB,CACRra,EAAE,CAAG,gBAAgB,CADhCqa,mBAAmB,CAER/U,MAAM,CAAG,CAAC,gBAAgB,CAAC,CAFtC+U,mBAAmB,CAGRhU,QAAQ,CAAG,iBAAiB,CAHvCgU,mBAAmB,CAIRnP,KAAK,CAAG,IAAI;;;AAgFvBmQ,cAAc,UAAAC,cAAA,WAAAD,eAAA,SAAAC,cAAA,CAAA9Z,KAAA,MAAAJ,SAAA,SAAAf,cAAA,CAAAgb,cAAA,CAAAC,cAAA,MAAAC,QAAA,CAAAF,cAAA,CAAA9a,SAAA,CAAAgb,QAAA;;;;;;AAMV3V,MAAM,CAAf,QAAS,CAAAA,MAAMA,CAAA,CAAG;AACjB,GAAM,CAAA7D,IAAI,CAAG,IAAI,CAACC,KAAK,CAACD,IAAI;AAC5B,GAAM,CAAAkD,YAAY,CAAGlD,IAAI,CAACkD,YAAa;;AAEvC,MAAO,CAAA9B,MAAA,CAAAC,CAAA,CAAC0C,cAAc,EAAC/D,IAAI,CAAEA,IAAK,CAAC8I,KAAK,CAAE,GAAI,EAAC1H,MAAA,CAAAC,CAAA,QAAK,QAAM,KAAK;AAC9DD,MAAA,CAAAC,CAAA,UAAG,QAAM,CAAAD,MAAA,CAAAC,CAAA,aAAO6B,YAAY,EAAI,OAAc,CAAC,IAAI,CAAC;AACpD9B,MAAA,CAAAC,CAAA,MAAG,QAAM,WAAW;AACnBD,MAAA,CAAAC,CAAA,WAAQ,+BAA8B6B,YAAe,CAAC,QAAM,kBAAkB;AAC7E9B,MAAA,CAAAC,CAAA,eAAQ,YAAkB;AACnB,CAAC,IAAC;AACVD,MAAA,CAAAC,CAAA,WAAQ,WAAS,QAAQ,CAAC,QAAM,QAAQ,EAAC;;AAEjC;AACN;AACC,CAAiB,CAAC;AACxB,CAAC,QAAAiY,cAAA,GArB2BlV,WAAW,EAAlCkV,cAAc,CACHrb,EAAE,CAAG,kBAAkB,CADlCqb,cAAc,CAEH/V,MAAM,CAAG,CAAC,kBAAkB,CAAC,CAFxC+V,cAAc,CAGHhV,QAAQ,CAAG,iBAAiB,CAHvCgV,cAAc,CAIHnQ,KAAK,CAAG,IAAI;;AAmBvBsQ,kBAAkB,UAAAC,cAAA,WAAAD,mBAAA,MAAAE,OAAA,SAAAC,MAAA,CAAAva,SAAA,CAAAC,MAAA,CAAAlB,IAAA,KAAAmB,KAAA,CAAAqa,MAAA,EAAAC,MAAA,GAAAA,MAAA,CAAAD,MAAA,CAAAC,MAAA,IAAAzb,IAAA,CAAAyb,MAAA,EAAAxa,SAAA,CAAAwa,MAAA,GAAAF,OAAA,CAAAD,cAAA,CAAA9b,IAAA,CAAA6B,KAAA,CAAAia,cAAA,QAAAha,MAAA,CAAAtB,IAAA,SAAAub,OAAA;;;;;;AAMvBG,kBAAkB,CAAG,SAACla,EAAS,CAAK;AACnC,GAAM,CAAAma,IAAI,CAAIna,EAAE,CAAC+G,aAAa,CAAsB4D,OAAO;AAC3D,GAAM,CAAAvK,IAAI,CAAG2Z,OAAA,CAAKK,aAAa,CAAC,CAAC;AACjC,GAAI,CAACha,IAAI,CAAE,MAAO,CAAA2Z,OAAA,CAAK3T,KAAK,CAAC,CAAC;;AAE9BhG,IAAI,CAACuS,MAAM,CAAC0H,eAAe,CAACF,IAAI,CAAC;AACjC,GAAIA,IAAI,CAAE;AACT/Z,IAAI,CAACkT,GAAG,uEAAuE,CAAC;AACjF,CAAC,IAAM;AACNlT,IAAI,CAACkT,GAAG,uEAAuE,CAAC;AACjF;AACAlT,IAAI,CAAClB,MAAM,CAAC,IAAI,CAAC;AAClB,CAAC,CAAA6a,OAAA;AACDO,sBAAsB,CAAG,SAACta,EAAmB,CAAK;AACjD,GAAM,CAAAQ,KAAK,CAAG,MAAO,CAAAR,EAAE,GAAK,QAAQ;AAClCA,EAAE,CAAC+G,aAAa,CAAsB4D,OAAO;AAC9C3K,EAAE;AACH,GAAM,CAAAI,IAAI,CAAG2Z,OAAA,CAAKK,aAAa,CAAC,CAAC;AACjC,GAAI,CAACha,IAAI,CAAE,MAAO,CAAA2Z,OAAA,CAAK3T,KAAK,CAAC,CAAC;;AAE9BhG,IAAI,CAACuS,MAAM,CAAC4H,YAAY,CAAG/Z,KAAK;AAChCJ,IAAI,CAACkT,GAAG,kBAAiBlT,IAAI,CAACuS,MAAM,CAAC4H,YAAY,CAAG,EAAE,CAAG,YAAY,YAAU,CAAC;AAChF,GAAM,CAAAC,KAAK,CAAGjL,QAAQ,CAACkL,gBAAgB,CAAc,mBAAmB,CAAC;AACzE,GAAM,CAAAC,cAAc,CAAGta,IAAI,CAACuS,MAAM,CAAC4H,YAAY,CAAG,MAAM,CAAG,EAAE,CAAC,QAAAI,GAAA,GAAAA,GAAA;AAC3CH,KAAK,CAAA9a,MAAA,CAAAib,GAAA,GAAE,CAArB,GAAM,CAAAC,IAAI,CAAIJ,KAAK,CAAAG,GAAA,CAAT;AACd,GAAM,CAAAE,KAAK,CAAGD,IAAI,CAACra,aAAa,CAAC,OAAO,CAAC;AACzC,GAAI,CAACsa,KAAK,CAAE;AACZ,GAAM,CAAAC,IAAI,CAAGD,KAAK,CAACE,SAAS;AAC5B,GAAM,CAAAC,YAAY,CAAGF,IAAI,CAACjS,QAAQ,CAAC,QAAQ,CAAC,EAAIiS,IAAI,CAACjS,QAAQ,CAAC,QAAQ,CAAC;AACvE,GAAI,CAACmS,YAAY,CAAE;AAClBJ,IAAI,CAAClZ,KAAK,CAACuZ,OAAO,CAAGP,cAAc;AACpC;AACD;AACAta,IAAI,CAACuS,MAAM,CAACuI,KAAK,CAACC,GAAG,CAACC,YAAY,CAAC,CAAC;AACrC,CAAC,CAAArB,OAAA;AACDsB,oBAAoB,CAAG,SAACrb,EAAmB,CAAK;AAC/C,GAAM,CAAAQ,KAAK,CAAG,MAAO,CAAAR,EAAE,GAAK,QAAQ;AAClCA,EAAE,CAAC+G,aAAa,CAAsB4D,OAAO;AAC9C3K,EAAE;AACH,GAAM,CAAAI,IAAI,CAAG2Z,OAAA,CAAKK,aAAa,CAAC,CAAC;AACjC,GAAI,CAACha,IAAI,CAAE,MAAO,CAAA2Z,OAAA,CAAK3T,KAAK,CAAC,CAAC;;AAE9BhG,IAAI,CAACuS,MAAM,CAAC2I,cAAc,CAAG9a,KAAK;AAClCJ,IAAI,CAACuS,MAAM,CAAC4I,kBAAkB,CAAC,CAAC;AACjC,CAAC,CAAAxB,OAAA;AACDyB,iBAAiB,CAAG,SAACxb,EAAmB,CAAK;AAC5C,GAAM,CAAAQ,KAAK,CAAG,MAAO,CAAAR,EAAE,GAAK,QAAQ;AAClCA,EAAE,CAAC+G,aAAa,CAAsB4D,OAAO;AAC9C3K,EAAE;AACH,GAAM,CAAAI,IAAI,CAAG2Z,OAAA,CAAKK,aAAa,CAAC,CAAC;AACjC,GAAI,CAACha,IAAI,CAAE,MAAO,CAAA2Z,OAAA,CAAK3T,KAAK,CAAC,CAAC;;AAE9BhG,IAAI,CAACuS,MAAM,CAAC8I,WAAW,CAAGjb,KAAK;AAC/BJ,IAAI,CAACuS,MAAM,CAAC4I,kBAAkB,CAAC,CAAC;AACjC,CAAC,CAAAxB,OAAA;AACD2B,iBAAiB,CAAG,SAAC1b,EAAS,CAAK;AAClC,GAAM,CAAAiN,OAAO,CAAIjN,EAAE,CAAC+G,aAAa,CAAsB5I,IAAI;AAC3D,GAAM,CAAAqC,KAAK,CAAIR,EAAE,CAAC+G,aAAa,CAAsB4D,OAAO;AAC5D,GAAM,CAAAvK,IAAI,CAAG2Z,OAAA,CAAKK,aAAa,CAAC,CAAC;;AAEjC,OAAQnN,OAAO;AACf,IAAK,WAAW,CAAE;AACjBnO,EAAE,CAAC2I,KAAK,CAAC6C,GAAG,CAAC,WAAW,CAAE9J,KAAK,CAAC;AAChC,GAAIA,KAAK,CAAE;AACVJ,IAAI,QAAJA,IAAI,CAAEjB,IAAI,CAAC,WAAW,CAAC;AACxB;AACA;AACD;AACA,IAAK,WAAW,CAAE;AACjBL,EAAE,CAAC2I,KAAK,CAAC6C,GAAG,CAAC,WAAW,CAAE9J,KAAK,CAAC;AAChCuZ,OAAA,CAAKsB,oBAAoB,CAAC7a,KAAK,CAAC;AAChC;AACD;AACA,IAAK,cAAc,CAAE;AACpB1B,EAAE,CAAC2I,KAAK,CAAC6C,GAAG,CAAC,cAAc,CAAE9J,KAAK,CAAC;AACnCuZ,OAAA,CAAKO,sBAAsB,CAAC9Z,KAAK,CAAC;AAClC;AACD;AACA,IAAK,aAAa,CAAE;AACnB1B,EAAE,CAAC2I,KAAK,CAAC6C,GAAG,CAAC,aAAa,CAAE9J,KAAK,CAAC;AAClCuZ,OAAA,CAAKyB,iBAAiB,CAAChb,KAAK,CAAC;AAC7B;AACD;AACA,IAAK,YAAY,CAAE;AAClB1B,EAAE,CAAC2I,KAAK,CAAC6C,GAAG,CAAC,mBAAmB,CAAE9J,KAAK,CAAC;AACxC;AACD;AACA,IAAK,oBAAoB,CAAE;AAC1B1B,EAAE,CAAC2I,KAAK,CAAC6C,GAAG,CAAC,oBAAoB,CAAE9J,KAAK,CAAC;AACzC1B,EAAE,CAAC+B,QAAQ,CAAC8a,kBAAkB,CAAGnb,KAAK;AACtC;AACD;AACA;AACD,CAAC,QAAAuZ,OAAA,EAAArb,cAAA,CAAAmb,kBAAA,CAAAC,cAAA,MAAA8B,QAAA,CAAA/B,kBAAA,CAAAjb,SAAA,CAAAgd,QAAA;AACDxB,aAAa,CAAb,SAAAA,aAAaA,CAAA,CAAG;AACf,GAAM,CAAA1H,UAAU,CAAG,IAAI,CAACrS,KAAK,CAACD,IAAI,CAAC+H,SAAS,CAAC,CAAsB;AACnE,MAAO,CAAAuK,UAAU,QAAVA,UAAU,CAAEC,MAAM,CAAGD,UAAU,CAAG,IAAI;AAC9C,CAAC,CAAAkJ,QAAA;;AAEQ3X,MAAM,CAAf,QAAS,CAAAA,MAAMA,CAAA,CAAG,KAAA4X,kBAAA;AACjB,GAAM,CAAAzb,IAAI,CAAG,IAAI,CAACC,KAAK,CAACD,IAAI;AAC5B,GAAM,CAAAsS,UAAU,CAAG,IAAI,CAAC0H,aAAa,CAAC,CAAC;AACvC,GAAM,CAAA0B,QAAQ,CAAG,CAAC,EAACpJ,UAAU,QAAVA,UAAU,CAAEC,MAAM,CAACoJ,SAAS;AAC/C,GAAM,CAAAC,WAAW,CAAGtJ,UAAU,GAAMA,UAAU,CAACC,MAAM,CAACsJ,IAAI,EAAI,GAAG,EAAIH,QAAQ,EAAKhd,EAAE,CAACC,IAAI,CAACoC,KAAK,GAAK,GAAG,CAAC;AACxG,MAAO,CAAAK,MAAA,CAAAC,CAAA,CAAC0C,cAAc,EAAC/D,IAAI,CAAEA,IAAK,CAAC8I,KAAK,CAAE,GAAI,EAAC1H,MAAA,CAAAC,CAAA,QAAK,QAAM,KAAK;AAC7DiR,UAAU,EAAIlR,MAAA,CAAAC,CAAA,CAAAD,MAAA,CAAA6H,QAAA;AACd7H,MAAA,CAAAC,CAAA,UAAGD,MAAA,CAAAC,CAAA,eAAQ,gBAAsB,CAAI,CAAC;AACtCD,MAAA,CAAAC,CAAA;AACCD,MAAA,CAAAC,CAAA,UAAO,QAAM,UAAU;AACtBD,MAAA,CAAAC,CAAA;AACCkJ,OAAO,CAAE+H,UAAU,CAACC,MAAM,CAACuJ,YAAa;AACxC3a,IAAI,CAAC,UAAU,CAACgD,QAAQ,CAAE,IAAI,CAAC2V,kBAAmB;AAClD,CAAC;AACI;AACL,CAAC;AACJ1Y,MAAA,CAAAC,CAAA;AACCD,MAAA,CAAAC,CAAA,UAAO,QAAM,UAAU;AACtBD,MAAA,CAAAC,CAAA;AACCkJ,OAAO,CAAE+H,UAAU,CAACC,MAAM,CAAC4H,YAAa;AACxChZ,IAAI,CAAC,UAAU,CAACgD,QAAQ,CAAE,IAAI,CAAC+V,sBAAuB;AACtD,CAAC;AACI;AACL,CAAC;AACJ9Y,MAAA,CAAAC,CAAA;AACCD,MAAA,CAAAC,CAAA,UAAO,QAAM,UAAU;AACtBD,MAAA,CAAAC,CAAA;AACCkJ,OAAO,CAAE+H,UAAU,CAACC,MAAM,CAAC2I,cAAe;AAC1C/Z,IAAI,CAAC,UAAU,CAACgD,QAAQ,CAAE,IAAI,CAAC8W,oBAAqB;AACpD,CAAC;AACI;AACL,CAAC;AACJ7Z,MAAA,CAAAC,CAAA;AACCD,MAAA,CAAAC,CAAA,UAAO,QAAM,UAAU;AACtBD,MAAA,CAAAC,CAAA;AACCkJ,OAAO,EAAAkR,kBAAA,CAAEnJ,UAAU,CAACC,MAAM,eAAjBkJ,kBAAA,CAAmBJ,WAAY;AACxCla,IAAI,CAAC,UAAU,CAACgD,QAAQ,CAAE,IAAI,CAACiX,iBAAkB;AACjD,CAAC;AACI;AACL;AACF,CAAC;AACHha,MAAA,CAAAC,CAAA,UAAGD,MAAA,CAAAC,CAAA,eAAQ,aAAmB,CAAI,CAAC;AACnCD,MAAA,CAAAC,CAAA;AACCD,MAAA,CAAAC,CAAA,UAAO,QAAM,UAAU;AACtBD,MAAA,CAAAC,CAAA;AACCtD,IAAI,CAAC,oBAAoB,CAACwM,OAAO,CAAE7L,EAAE,CAAC2I,KAAK,CAAC0U,kBAAkB,EAAI,KAAM;AACxE5a,IAAI,CAAC,UAAU,CAACgD,QAAQ,CAAE,IAAI,CAACmX,iBAAkB;AACjD,CAAC,IAAC,CAAAla,MAAA,CAAAC,CAAA,SAAMoB,KAAK,CAAC,qFAAqF,EAAC,sCAA0C;AACzI;AACL,CAAC;AACJrB,MAAA,CAAAC,CAAA;AACCD,MAAA,CAAAC,CAAA,UAAO,QAAM,UAAU;AACtBD,MAAA,CAAAC,CAAA;AACCtD,IAAI,CAAC,aAAa,CAACwM,OAAO,CAAE7L,EAAE,CAAC2I,KAAK,CAAC2U,WAAW,EAAI,KAAM;AAC1D7a,IAAI,CAAC,UAAU,CAACgD,QAAQ,CAAE,IAAI,CAACmX,iBAAkB;AACjD,CAAC;AACI;AACL,CAAC;AACJla,MAAA,CAAAC,CAAA;AACCD,MAAA,CAAAC,CAAA,UAAO,QAAM,UAAU;AACtBD,MAAA,CAAAC,CAAA;AACCtD,IAAI,CAAC,cAAc,CAACwM,OAAO,CAAE7L,EAAE,CAAC2I,KAAK,CAAC4U,YAAY,EAAI,KAAM;AAC5D9a,IAAI,CAAC,UAAU,CAACgD,QAAQ,CAAE,IAAI,CAACmX,iBAAkB;AACjD,CAAC;AACI;AACL,CAAC;AACJla,MAAA,CAAAC,CAAA;AACCD,MAAA,CAAAC,CAAA,UAAO,QAAM,UAAU;AACtBD,MAAA,CAAAC,CAAA;AACCtD,IAAI,CAAC,WAAW,CAACwM,OAAO,CAAE7L,EAAE,CAAC2I,KAAK,CAAC6U,SAAS,EAAI,KAAM;AACtD/a,IAAI,CAAC,UAAU,CAACgD,QAAQ,CAAE,IAAI,CAACmX,iBAAkB;AACjD,CAAC;AACI;AACL,CAAC;AACJla,MAAA,CAAAC,CAAA;AACCD,MAAA,CAAAC,CAAA,UAAO,QAAM,UAAU;AACtBD,MAAA,CAAAC,CAAA;AACCtD,IAAI,CAAC,WAAW,CAACwM,OAAO,CAAE7L,EAAE,CAAC2I,KAAK,CAAC8U,SAAS,EAAI,KAAM;AACtDhb,IAAI,CAAC,UAAU,CAACgD,QAAQ,CAAE,IAAI,CAACmX,iBAAkB;AACjD,CAAC;AACI;AACL,CAAC;AACH,CAAC5c,EAAE,CAAC2I,KAAK,CAACuG,QAAQ,EAAIuB,QAAQ,CAACiN,IAAI,CAACC,WAAW,EAAI,GAAG,EAAIjb,MAAA,CAAAC,CAAA;AAC1DD,MAAA,CAAAC,CAAA,UAAO,QAAM,UAAU;AACtBD,MAAA,CAAAC,CAAA;AACCtD,IAAI,CAAC,YAAY,CAACwM,OAAO,CAAE7L,EAAE,CAAC2I,KAAK,CAACiV,iBAAiB,EAAI,KAAM;AAC/Dnb,IAAI,CAAC,UAAU,CAACgD,QAAQ,CAAE,IAAI,CAACmX,iBAAkB;AACjD,CAAC;AACI;AACL,CAAC;AACJla,MAAA,CAAAC,CAAA,MAAG,QAAM,WAAW;AACnBD,MAAA,CAAAC,CAAA,WAAQ,WAAS,QAAQ,CAAC,QAAM,QAAQ,EAAC,MAAY,CAAC,IAAC;AACtDiR,UAAU,EAAIlR,MAAA,CAAAC,CAAA,WAAQ,WAAS,+BAA+B,CAAC,QAAM,QAAQ,CAAC2B,QAAQ,CAAE,CAAC4Y,WAAY,EAAC;;AAE/F;AACN;AACC;AACW,CAAC;AAClB,CAAC,QAAAnC,kBAAA,GA3M+BrV,WAAW,EAAtCqV,kBAAkB,CACPxb,EAAE,CAAG,eAAe,CAD/Bwb,kBAAkB,CAEPlW,MAAM,CAAG,CAAC,eAAe,CAAC,CAFrCkW,kBAAkB,CAGPnV,QAAQ,CAAG,iBAAiB,CAHvCmV,kBAAkB,CAIPtQ,KAAK,CAAG,IAAI;;;AA0MvBoT,SAAS,UAAAC,QAAA,WAAAD,UAAA,MAAAE,YAAA,KAAAC,OAAA,SAAAC,MAAA,CAAAtd,SAAA,CAAAC,MAAA,CAAAlB,IAAA,KAAAmB,KAAA,CAAAod,MAAA,EAAAC,MAAA,GAAAA,MAAA,CAAAD,MAAA,CAAAC,MAAA,IAAAxe,IAAA,CAAAwe,MAAA,EAAAvd,SAAA,CAAAud,MAAA,GAAAF,OAAA,CAAAF,QAAA,CAAA5e,IAAA,CAAA6B,KAAA,CAAA+c,QAAA,QAAA9c,MAAA,CAAAtB,IAAA,SAAAse,OAAA;AACdG,WAAW,EAAAJ,YAAA,CAAYC,OAAA,CAAKte,IAAI,eAATqe,YAAA,CAAWK,WAAW,QAAAJ,OAAA,EAAApe,cAAA,CAAAie,SAAA,CAAAC,QAAA,MAAAO,QAAA,CAAAR,SAAA,CAAA/d,SAAA,CAAAue,QAAA;AACpCC,OAAO,CAAhB,QAAS,CAAAA,OAAOA,CAAA,CAAG,KAAAC,UAAA;AAClB,CAAAA,UAAA,CAAC,IAAI,CAAC7e,IAAI,SAAT6e,UAAA,CAAWC,QAAQ,QAAnBD,UAAA,CAAWC,QAAQ,CAAW,IAAI,CAACL,WAAW,CAAC;AAChDL,QAAA,CAAAhe,SAAA,CAAMwe,OAAO,CAAApf,IAAA;AACd,CAAC,QAAA2e,SAAA,GALsBvd,MAAM;;;AAQxBme,UAAU,UAAAC,cAAA,WAAAD,WAAA,MAAAE,OAAA,SAAAC,MAAA,CAAAje,SAAA,CAAAC,MAAA,CAAAlB,IAAA,KAAAmB,KAAA,CAAA+d,MAAA,EAAAC,MAAA,GAAAA,MAAA,CAAAD,MAAA,CAAAC,MAAA,IAAAnf,IAAA,CAAAmf,MAAA,EAAAle,SAAA,CAAAke,MAAA,GAAAF,OAAA,CAAAD,cAAA,CAAAxf,IAAA,CAAA6B,KAAA,CAAA2d,cAAA,QAAA1d,MAAA,CAAAtB,IAAA,SAAAif,OAAA;;;;;;;AAOfvN,YAAY,CAAG,SAAClQ,EAAS,CAAK,KAAA4d,WAAA;AAC7B5d,EAAE,CAACE,cAAc,CAAC,CAAC;AACnBF,EAAE,CAACG,wBAAwB,CAAC,CAAC;AAC7B,GAAM,CAAAC,IAAI,CAAGqd,OAAA,CAAKpd,KAAK,CAACD,IAAI;AAC5BA,IAAI,CAAC6c,WAAW,EAAAW,WAAA,CAAGxd,IAAI,CAAC5B,IAAI,eAATof,WAAA,CAAWC,OAAO;AACrC,GAAM,CAAAC,OAAO,CAAGL,OAAA,CAAKnd,IAAI,CAAEC,aAAa,CAAmB,mBAAmB,CAAC;AAC/E,GAAIud,OAAO,CAAE;AACZ1d,IAAI,CAAC6c,WAAW,CAAGa,OAAO,CAACtd,KAAK;AACjC;AACAid,OAAA,CAAKrX,KAAK,CAAC,CAAC;AACb,CAAC,QAAAqX,OAAA,EAAA/e,cAAA,CAAA6e,UAAA,CAAAC,cAAA,MAAAO,QAAA,CAAAR,UAAA,CAAA3e,SAAA,CAAAmf,QAAA;AACQlT,iBAAiB,CAA1B,QAAS,CAAAA,iBAAiBA,CAAA,CAAG,KAAAmT,sBAAA;AAC5BR,cAAA,CAAA5e,SAAA,CAAMiM,iBAAiB,CAAA7M,IAAA;AACvB,GAAM,CAAA8f,OAAO,CAAG,IAAI,CAACxd,IAAI,CAAEC,aAAa,CAAmB,mBAAmB,CAAC;AAC/E,GAAI,CAACud,OAAO,CAAE;AACdA,OAAO,CAACtd,KAAK,CAAG,EAAAwd,sBAAA,KAAI,CAAC3d,KAAK,CAACD,IAAI,CAAC5B,IAAI,eAApBwf,sBAAA,CAAsBxd,KAAK,GAAc,EAAE;AAC3Dsd,OAAO,CAACzM,MAAM,CAAC,CAAC;AACjB,CAAC,CAAA0M,QAAA;AACDE,YAAY,CAAZ,SAAAA,YAAYA,CAACnJ,OAAe,CAAE;AAC7B,GAAIA,OAAO,CAAC5T,UAAU,CAAC,QAAQ,CAAC,CAAE;AACjC,MAAO,CAAA4C,SAAS,CAACoa,YAAY,CAACpJ,OAAO,CAAC/T,KAAK,CAAC,CAAC,CAAC,CAAC;AAChD;AACA,MAAO,CAAA+C,SAAS,CAACma,YAAY,CAACnJ,OAAO,CAAC;AACvC,CAAC,CAAAiJ,QAAA;;AAEQ9Z,MAAM,CAAf,QAAS,CAAAA,MAAMA,CAAA,CAAG,KAAAka,WAAA,CAAAC,WAAA,CAAAC,WAAA,CAAAC,WAAA,CAAAC,WAAA,CAAAC,WAAA,CAAAC,YAAA;AACjB,GAAM,CAAAre,IAAI,CAAG,IAAI,CAACC,KAAK,CAACD,IAAI;AAC5B,GAAM,CAAAse,QAAQ,CAAG,EAAAP,WAAA,CAAA/d,IAAI,CAAC5B,IAAI,eAAT2f,WAAA,CAAWO,QAAQ,GAAc,IAAI;AACtD,GAAM,CAAAC,YAAY,EAAAP,WAAA,CAAGhe,IAAI,CAAC5B,IAAI,eAAT4f,WAAA,CAAWO,YAAkC;AAClE,GAAM,CAAAC,YAAY,EAAAP,WAAA,CAAGje,IAAI,CAAC5B,IAAI,eAAT6f,WAAA,CAAWO,YAAwC;AACxE,GAAM,CAAApe,KAAK,EAAA8d,WAAA,CAAGle,IAAI,CAAC5B,IAAI,eAAT8f,WAAA,CAAW9d,KAA2B;AACpD,GAAM,CAAAe,IAAI,CAAI,EAAAgd,WAAA,CAAAne,IAAI,CAAC5B,IAAI,eAAT+f,WAAA,CAAWhd,IAAI,IAAK,MAAO,CAAAf,KAAK,GAAK,QAAQ,CAAG,MAAM,CAAG,IAAI,CAAmB;AAC9F,GAAM,CAAAsU,OAAO,EAAA0J,WAAA,CAAGpe,IAAI,CAAC5B,IAAI,eAATggB,WAAA,CAAW1J,OAAO;AAClC,MAAO,CAAAtT,MAAA,CAAAC,CAAA,CAAC0C,cAAc,EAAC/D,IAAI,CAAEA,IAAK,CAAC8I,KAAK,CAAE,EAAAuV,YAAA,CAAAre,IAAI,CAAC5B,IAAI,eAATigB,YAAA,CAAWvV,KAAK,GAAc,GAAI;AAC3E1H,MAAA,CAAAC,CAAA,SAAM,QAAM,KAAK,CAAC2C,QAAQ,CAAE,IAAI,CAAC8L,YAAa;AAC5C4E,OAAO,EAAItT,MAAA,CAAAC,CAAA;AACXC,KAAK,CAAC,2CAA2C;AACjDmd,uBAAuB,CAAE,CAAEC,MAAM,CAAE,IAAI,CAACb,YAAY,CAACnJ,OAAO,EAAc,EAAE,CAAE,CAAE;AAC7E,CAAC;AACJ,CAAC,CAACvT,IAAI,EAAIC,MAAA,CAAAC,CAAA,UAAGD,MAAA,CAAAC,CAAA,UAAOtD,IAAI,CAAC,OAAO,CAACoD,IAAI,CAAEA,IAAK,CAAC,QAAM,mBAAmB,CAACG,KAAK,CAAC,kCAAkC,CAAE,CAAI,CAAC;AACvHF,MAAA,CAAAC,CAAA,MAAG,QAAM,WAAW;AACnBD,MAAA,CAAAC,CAAA,WAAQ,kBAAgB,CAACF,IAAI,CAAG,YAAY,CAAG,EAAE,CAAG,CAACA,IAAI,CAAC,QAAQ,CAACG,KAAK,CAAC,gBAAgB;AACxFF,MAAA,CAAAC,CAAA,eAASid,QAAiB;AACnB,CAAC,IAAC;AACTE,YAAY,CAAC,GAAC;AACd,CAAC,CAACD,YAAY,EAAInd,MAAA,CAAAC,CAAA,WAAQ,QAAM,QAAQ,CAAC,WAAS,QAAQ,CAACF,IAAI,CAAC,QAAQ;AACvEod;AACM;AACN;AACE;AACS,CAAC;AAClB,CAAC,QAAApB,UAAA,GA1DuB/Y,WAAW,EAA9B+Y,UAAU,CACClf,EAAE,CAAG,OAAO,CADvBkf,UAAU,CAEC5Z,MAAM,CAAG,CAAC,SAAS,CAAC,CAF/B4Z,UAAU,CAGC7Y,QAAQ,CAAG,iBAAiB,CAHvC6Y,UAAU,CAIChU,KAAK,CAAG,IAAI,CAJvBgU,UAAU,CAKC9Y,KAAK,CAAGkY,SAAS;;;AAwD5BoC,gBAAgB,UAAAC,cAAA,WAAAD,iBAAA,MAAAE,OAAA,SAAAC,MAAA,CAAAzf,SAAA,CAAAC,MAAA,CAAAlB,IAAA,KAAAmB,KAAA,CAAAuf,MAAA,EAAAC,MAAA,GAAAA,MAAA,CAAAD,MAAA,CAAAC,MAAA,IAAA3gB,IAAA,CAAA2gB,MAAA,EAAA1f,SAAA,CAAA0f,MAAA,GAAAF,OAAA,CAAAD,cAAA,CAAAhhB,IAAA,CAAA6B,KAAA,CAAAmf,cAAA,QAAAlf,MAAA,CAAAtB,IAAA,SAAAygB,OAAA;;;;;;AAMrBG,cAAc,CAAGtgB,EAAE,CAAC2I,KAAK,CAACuG,QAAQ,CAAAiR,OAAA;AAClCI,kBAAkB,CAAG,SAACrf,EAAS,CAAK;AACnC,GAAM,CAAA0K,QAAQ,CAAG1K,EAAE,CAAC+G,aAAiC;AACrDjI,EAAE,CAAC2I,KAAK,CAACuG,QAAQ,CAAGtD,QAAQ,CAACC,OAAO,CAAG,UAAU,CAAGsU,OAAA,CAAKG,cAAc;AACvEtgB,EAAE,CAACI,MAAM,CAAC,CAAC;AACZ,CAAC,QAAA+f,OAAA,EAAAvgB,cAAA,CAAAqgB,gBAAA,CAAAC,cAAA,MAAAM,QAAA,CAAAP,gBAAA,CAAAngB,SAAA,CAAA0gB,QAAA;AACQrb,MAAM,CAAf,QAAS,CAAAA,MAAMA,CAAA,CAAG;AACjB,GAAM,CAAAsb,YAAY,CAAGzgB,EAAE,CAAC2I,KAAK,CAACuG,QAAQ,GAAK,UAAU;AACrD,MAAO,CAAAxM,MAAA,CAAAC,CAAA,CAAC0C,cAAc,EAAC/D,IAAI,CAAE,IAAI,CAACC,KAAK,CAACD,IAAK,EAACoB,MAAA,CAAAC,CAAA,QAAK,QAAM,SAAS;AACjED,MAAA,CAAAC,CAAA;AACE3C,EAAE,CAAC0gB,YAAY,CAACrN,GAAG,CAAC,SAAAjQ,MAAM,QAAI,CAAAud,QAAQ,CAACC,aAAa,CAACxd,MAAM,CAAE,IAAI,CAAC;AAChE,CAAC;AACLV,MAAA,CAAAC,CAAA;AACE3C,EAAE,CAAC6gB,aAAa,CAACxN,GAAG,CAAC,SAAAjQ,MAAM,QAAI,CAAAud,QAAQ,CAACC,aAAa,CAACxd,MAAM,CAAE,IAAI,CAAC;AACjE,CAAC;AACLV,MAAA,CAAAC,CAAA,QAAK,QAAM,KAAK,EAACD,MAAA,CAAAC,CAAA,UAAO,QAAM,UAAU,EAACD,MAAA,CAAAC,CAAA;AACxCF,IAAI,CAAC,UAAU,CAACoJ,OAAO,CAAE4U,YAAa,CAAChb,QAAQ,CAAE,IAAI,CAAC8a,kBAAmB;AACzE,CAAC,qBAAyB,CAAM;AAC7B,CAAiB,CAAC;AACxB,CAAC,QAAAN,gBAAA,GAzB6Bva,WAAW,EAApCua,gBAAgB,CACL1gB,EAAE,CAAG,aAAa,CAD7B0gB,gBAAgB,CAELpb,MAAM,CAAG,CAAC,aAAa,CAAC,CAFnCob,gBAAgB,CAGLra,QAAQ,CAAG,iBAAiB,CAHvCqa,gBAAgB,CAILxV,KAAK,CAAG,IAAI;;AAuBvBqW,gBAAgB,UAAAC,cAAA,WAAAD,iBAAA,SAAAC,cAAA,CAAAhgB,KAAA,MAAAJ,SAAA,SAAAf,cAAA,CAAAkhB,gBAAA,CAAAC,cAAA,MAAAC,QAAA,CAAAF,gBAAA,CAAAhhB,SAAA,CAAAkhB,QAAA;;;;;;AAMZ7b,MAAM,CAAf,QAAS,CAAAA,MAAMA,CAAA,CAAG;AACjB,GAAM,CAAA7D,IAAI,CAAG,IAAI,CAACC,KAAK,CAACD,IAAI,CAAC+H,SAAS,CAAC,CAAe;AACtD,MAAO,CAAA3G,MAAA,CAAAC,CAAA,CAAC0C,cAAc,EAAC/D,IAAI,CAAE,IAAI,CAACC,KAAK,CAACD,IAAK,EAACoB,MAAA,CAAAC,CAAA,QAAK,QAAM,KAAK;AAC5DrB,IAAI,CAACuS,MAAM,CAACoN,eAAe;AAC3Bve,MAAA,CAAAC,CAAA,WAAQ,QAAM,QAAQ,CAAC,WAAS,iCAAiC,EAAC,YAAkB,CAAC;;AAErFD,MAAA,CAAAC,CAAA,WAAQ,QAAM,QAAQ,CAAC,WAAS,kCAAkC,EAAC,aAAmB;;AAEnF;AACW,CAAC;AAClB,CAAC,QAAAme,gBAAA,GAhB6Bpb,WAAW,EAApCob,gBAAgB,CACLvhB,EAAE,CAAG,aAAa,CAD7BuhB,gBAAgB,CAELjc,MAAM,CAAG,CAAC,aAAa,CAAC,CAFnCic,gBAAgB,CAGLlb,QAAQ,CAAG,iBAAiB,CAHvCkb,gBAAgB,CAILrW,KAAK,CAAG,IAAI;;;AAevByW,UAAU,UAAAC,cAAA,WAAAD,WAAA,SAAAC,cAAA,CAAApgB,KAAA,MAAAJ,SAAA,SAAAf,cAAA,CAAAshB,UAAA,CAAAC,cAAA,MAAAC,QAAA,CAAAF,UAAA,CAAAphB,SAAA,CAAAshB,QAAA;;;;;;;;AAQNrV,iBAAiB,CAA1B,QAAS,CAAAA,iBAAiBA,CAAA,CAAG,KAAAsV,OAAA;AAC5BF,cAAA,CAAArhB,SAAA,CAAMiM,iBAAiB,CAAA7M,IAAA;AACvB,GAAM,CAAAQ,IAAI,CAAG,IAAI,CAAC6B,KAAK,CAACD,IAAI,CAAC5B,IAAI;AACjC,GAAM,CAAA4hB,MAAM,CAAG,CAAA5hB,IAAI,cAAJA,IAAI,CAAE+C,IAAI,IAAK,MAAM;AACpC,GAAI6e,MAAM,EAAI5hB,IAAI,CAAE;AACnB,GAAM,CAAA6hB,QAAQ,CAAGC,WAAW,CAAC,UAAM;AAClC,GAAM,CAAAC,QAAQ,CAAGJ,OAAI,CAACxa,KAAK,CAAC4a,QAAQ,EAAI,CAAC;AACzC,GAAM,CAAAC,QAAQ,CAAGD,QAAQ,GAAK,CAAC;AAC/BJ,OAAI,CAAClb,QAAQ,CAAC,CAAEub,QAAQ,CAARA,QAAQ,CAAED,QAAQ,CAAEA,QAAQ,CAAG,CAAE,CAAC,CAAC;AACnD,GAAIC,QAAQ,CAAE;AACbC,aAAa,CAACN,OAAI,CAACxa,KAAK,CAAC0a,QAAQ,CAAC;AAClCF,OAAI,CAAClb,QAAQ,CAAC,CAAEob,QAAQ,CAAE,IAAK,CAAC,CAAC;AAClC;AACD,CAAC,CAAE,IAAI,CAAC;AACR,GAAI,CAAC,IAAI,CAAC1a,KAAK,CAAC0a,QAAQ,CAAE,IAAI,CAACpb,QAAQ,CAAC,CAAEob,QAAQ,CAARA,QAAS,CAAC,CAAC;AACtD;AACD,CAAC,CAAAH,QAAA;;AAEQjc,MAAM,CAAf,QAAS,CAAAA,MAAMA,CAAA,CAAG,KAAAyc,YAAA,CAAAC,YAAA,CAAAC,YAAA;AACjB,GAAM,CAAAxgB,IAAI,CAAG,IAAI,CAACC,KAAK,CAACD,IAAI;AAC5B,GAAM,CAAAmB,IAAI,EAAAmf,YAAA,CAAGtgB,IAAI,CAAC5B,IAAI,eAATkiB,YAAA,CAAWnf,IAAI;AAC5B,GAAM,CAAA6e,MAAM,CAAG7e,IAAI,GAAK,MAAM;AAC9B,GAAM,CAAAuT,OAAO,CAAG,EAAA6L,YAAA,CAAAvgB,IAAI,CAAC5B,IAAI,eAATmiB,YAAA,CAAW7L,OAAO,GAAc,EAAE;AAClD,MAAO,CAAAtT,MAAA,CAAAC,CAAA,CAAC0C,cAAc,EAAC/D,IAAI,CAAEA,IAAK,CAAC8I,KAAK,CAAE,EAAA0X,YAAA,CAAAxgB,IAAI,CAAC5B,IAAI,eAAToiB,YAAA,CAAW1X,KAAK,GAAc,GAAI;AAC3E1H,MAAA,CAAAC,CAAA,QAAK,QAAM,KAAK;;AAEd2e,MAAM;AACN5e,MAAA,CAAAC,CAAA,UAAGD,MAAA,CAAAC,CAAA,WAAQC,KAAK,CAAC,WAAW,EAAGoC,SAAS,CAAC+c,UAAU,CAAC/L,OAAO,CAAC,EAAI;AACxD,CAAI,CAAC;;AAEdtT,MAAA,CAAAC,CAAA,WAAI,2BAAiC,CAAC;AACtCD,MAAA,CAAAC,CAAA,UAAGD,MAAA,CAAAC,CAAA,UAAG,IAAK,CAAC,uEAAuE,CAAC;AACpFD,MAAA,CAAAC,CAAA,UAAGD,MAAA,CAAAC,CAAA,UAAG,IAAK,CAAC,IAAC,CAAC,GAAG,CAAC,sGACmF;AAAC,GAAG,CAAC;AAC7E,CAAC;AAC9BD,MAAA,CAAAC,CAAA,UAAGD,MAAA,CAAAC,CAAA,UAAG,IAAK,CAAC,IAAC,CAAC,GAAG,CAAC,sFACqE;AAAC,GAAG,CAAC;AACzD,CAAC;AACpCD,MAAA,CAAAC,CAAA,UAAGD,MAAA,CAAAC,CAAA,UAAG,IAAK,CAAC,IAAC,CAAC,GAAG,CAAC,mEACkD;AAAC,GAAG,CAAC,yHAC+C;AAAC,GAAG,CAAC;AACnF,CAAC;AAC3CD,MAAA,CAAAC,CAAA,UAAGD,MAAA,CAAAC,CAAA,UAAG,IAAK,CAAC,IAAC,CAAC,GAAG,CAAC,gHAC6F;AAAC,GAAG,CAAC,4GACT;AAAC,GAAG;AAC9GD,MAAA,CAAAC,CAAA,MAAGmB,IAAI,CAAC,oCAAoC,EAAC,oBAAqB,CAAC,IAAI,CAAC;AACzEpB,MAAA,CAAAC,CAAA,UAAG,8FAA+F,CAAC;AACnGD,MAAA,CAAAC,CAAA,UAAGD,MAAA,CAAAC,CAAA,UAAG,MAAO,CAAI,CAAC;AAClBD,MAAA,CAAAC,CAAA,UAAGD,MAAA,CAAAC,CAAA,UAAG,IAAK,CAAC,IAAC,CAAC,GAAG,CAAC,oEACiD;AAAC,GAAG,CAAC,uDAClB;AAAC,GAAG,CAAC;AACS,CAAC;AACrED,MAAA,CAAAC,CAAA,UAAGD,MAAA,CAAAC,CAAA,UAAG,IAAK,CAAC,IAAC,CAAC,GAAG,CAAC,iFAC8D;AAAAD,MAAA,CAAAC,CAAA,UAAG,YAAa,CAAC,IAAC,CAAC,GAAG,CAAC;AAChB,CAAC;AACxFD,MAAA,CAAAC,CAAA,UAAGD,MAAA,CAAAC,CAAA,UAAG,IAAK,CAAC,IAAC,CAAC,GAAG,CAAC,sFACmE;AAAC,GAAG,CAAC,oCACvD;AAAC,GAAG,CAAC,kFACwC;AAAC,GAAG,CAAC;AACjC,CAAC;AACrDD,MAAA,CAAAC,CAAA,UAAGD,MAAA,CAAAC,CAAA,UAAG,IAAK,CAAC,IAAC,CAAC,GAAG,CAAC;AACmG,CAAC;AACtHD,MAAA,CAAAC,CAAA,UAAGD,MAAA,CAAAC,CAAA,UAAG,IAAK,CAAC,6CAA6C,CAAC;AAC1DD,MAAA,CAAAC,CAAA,UAAG,+EAA6E,CAAC,GAAG,CAAC;AACrC,CAAC;;AAEhD,CAAC2e,MAAM,EAAI5e,MAAA,CAAAC,CAAA,CAAAD,MAAA,CAAA6H,QAAA;AACV7H,MAAA,CAAAC,CAAA,UAAGD,MAAA,CAAAC,CAAA,UAAG,WAAY,CAAI,CAAC;AACvBD,MAAA,CAAAC,CAAA,UAAG,oEAAqE,CAAC;AACzED,MAAA,CAAAC,CAAA,UAAGD,MAAA,CAAAC,CAAA,UAAG,IAAK,CAAC,mGAAgG,CAAC,GAAG,CAAC;AAClC,CAAC;AAChFD,MAAA,CAAAC,CAAA,UAAGD,MAAA,CAAAC,CAAA,UAAG,IAAK,CAAC,sFAAmF,CAAC,GAAG,CAAC;AACnC,CAAC;AAClED,MAAA,CAAAC,CAAA,UAAGD,MAAA,CAAAC,CAAA,UAAG,IAAK,CAAC,uFAAuF,CAAC;AACpGD,MAAA,CAAAC,CAAA,UAAG,2GAAuG,CAAC,GAAG,CAAC,yGACP;AAAC,GAAG,CAAC,8EAChC;AAAC,GAAG,CAAC;AACvB;AAC1D,CAAC;;AAEJD,MAAA,CAAAC,CAAA,MAAG,QAAM,WAAW,EAACD,MAAA,CAAAC,CAAA;AACpBtD,IAAI,CAAC,OAAO;AACZ,WAAS,QAAQ,CAAC,QAAM,kBAAkB;AAC1CiF,QAAQ,CAAE,CAAC,IAAI,CAACuC,KAAK,CAAC6a,QAAS;AAC/B,SAAO,CAAC,IAAI,CAAC7a,KAAK,CAAC0a,QAAQ,EAAI7e,MAAA,CAAAC,CAAA,CAAAD,MAAA,CAAA6H,QAAA,MAAE,GAAC,CAAC,IAAI,CAAC1D,KAAK,CAAC4a,QAAQ,CAAC,OAAO,CAAU,CAAI;AACzE;AACU,CAAC;AAClB,CAAC,QAAAP,UAAA,GA/FuBxb,WAAW,EAA9Bwb,UAAU,CACC3hB,EAAE,CAAG,OAAO,CADvB2hB,UAAU,CAECrc,MAAM,CAAG,CAAC,SAAS,CAAC,CAF/Bqc,UAAU,CAGCtb,QAAQ,CAAG,aAAa,CAHnCsb,UAAU,CAICzW,KAAK,CAAG,IAAI,CAJvByW,UAAU,CAKCvb,KAAK,CAAGkY,SAAS;;;AA6FlC7d,EAAE,CAACgiB,WAAW;AACbzhB,SAAS;AACTsF,gBAAgB;AAChB6E,aAAa;AACbM,WAAW;AACX2B,YAAY;AACZoE,UAAU;AACV+B,YAAY;AACZ8B,mBAAmB;AACnBwB,aAAa;AACb3C,kBAAkB;AAClBM,kBAAkB;AAClByD,mBAAmB;AACnBoD,cAAc;AACdhB,mBAAmB;AACnB6E,UAAU;AACVwB,gBAAgB;AAChBlF,kBAAkB;AAClB+F,gBAAgB;AAChBI;AACD,CAAC","ignoreList":[]}