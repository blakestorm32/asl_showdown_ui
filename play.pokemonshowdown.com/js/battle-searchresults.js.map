{"version":3,"file":"battle-searchresults.js","names":["PSSearchResults","_preact$Component","_this","_len","arguments","length","args","Array","_key","call","apply","concat","URL_ROOT","Config","routes","dex","speciesId","itemId","abilityId","moveIds","resultIndex","handleClick","ev","search","props","target","className","tagName","entry","getAttribute","_entry$split","split","type","name","slot","addFilter","onSelect","query","find","forceUpdate","preventDefault","stopImmediatePropagation","filter","removeFilter","stopPropagation","sort","toggleSort","parentElement","_inheritsLoose","_proto","prototype","renderPokemonSortRow","sortCol","preact","h","firstPokemonColumn","renderMoveSortRow","renderPokemonRow","id","matchStart","matchEnd","errorMessage","pokemon","species","get","tagStart","forme","stats","baseStats","bst","_i2","_Object$values2","Object","values","stat","gen","href","getTier","style","Dex","getPokemonIcon","renderName","types","map","src","resourcePrefix","alt","height","width","abilities","unreleasedHidden","hp","atk","def","spa","spd","spe","slice","output","push","renderItemRow","item","items","getItemIcon","shortDesc","renderAbilityRow","ability","renderMoveRow","startsWith","_ref","move","moves","includes","pp","noPPBoosts","Math","min","encodeURIComponent","category","basePower","accuracy","renderTypeRow","charAt","toUpperCase","renderCategoryRow","renderArticleRow","_window$BattleArticle","isSearchType","window","BattleArticleTitles","substr","renderEggGroupRow","renderTierRow","tierTable","uber","caplc","capnfe","renderRow","row","label","filterLabel","illegalLabel","sanitizedHTML","replace","dangerouslySetInnerHTML","__html","renderFilters","showHints","filters","_ref2","componentDidUpdate","undefined","_children","_children2","base","children","classList","remove","add","componentDidMount","render","_search$typedSearch","_results","_search$results","_results2","_this2","set","typedSearch","toID","results","windowing","onClick","hideFilters","result","Component"],"sources":["../src/battle-searchresults.tsx"],"sourcesContent":["/**\n * Search Results\n *\n * Code for displaying sesrch results from battle-dex-search.ts\n *\n * @author Guangcong Luo <guangcongluo@gmail.com>\n * @license AGPLv3\n */\n\nimport preact from \"../js/lib/preact\";\nimport { Dex, toID, type ID } from \"./battle-dex\";\nimport type { DexSearch, SearchRow, SearchType } from \"./battle-dex-search\";\nimport { Config } from \"./client-main\";\n\nexport class PSSearchResults extends preact.Component<{\n\tsearch: DexSearch, windowing?: number | null, hideFilters?: boolean, firstRow?: SearchRow,\n\tresultIndex?: number,\n\t/** type = '' means a filter was selected,\n\t  * null means a sort was selected (clear not needed) */\n\tonSelect?: (type: SearchType | '' | null, name: string, moveSlot?: string) => void,\n}> {\n\treadonly URL_ROOT = `//${Config.routes.dex}/`;\n\tspeciesId: ID = '' as ID;\n\titemId: ID = '' as ID;\n\tabilityId: ID = '' as ID;\n\tmoveIds: ID[] = [];\n\tresultIndex = -1;\n\n\trenderPokemonSortRow() {\n\t\tconst search = this.props.search;\n\t\tconst sortCol = search.sortCol;\n\t\treturn <li class=\"result\"><div class=\"sortrow\">\n\t\t\t<button class={`sortcol numsortcol${!sortCol ? ' cur' : ''}`}>{!sortCol ? 'Sort: ' : search.firstPokemonColumn}</button>\n\t\t\t<button class={`sortcol pnamesortcol${sortCol === 'name' ? ' cur' : ''}`} data-sort=\"name\">Name</button>\n\t\t\t<button class={`sortcol typesortcol${sortCol === 'type' ? ' cur' : ''}`} data-sort=\"type\">Types</button>\n\t\t\t<button class={`sortcol abilitysortcol${sortCol === 'ability' ? ' cur' : ''}`} data-sort=\"ability\">Abilities</button>\n\t\t\t<button class={`sortcol statsortcol${sortCol === 'hp' ? ' cur' : ''}`} data-sort=\"hp\">HP</button>\n\t\t\t<button class={`sortcol statsortcol${sortCol === 'atk' ? ' cur' : ''}`} data-sort=\"atk\">Atk</button>\n\t\t\t<button class={`sortcol statsortcol${sortCol === 'def' ? ' cur' : ''}`} data-sort=\"def\">Def</button>\n\t\t\t<button class={`sortcol statsortcol${sortCol === 'spa' ? ' cur' : ''}`} data-sort=\"spa\">SpA</button>\n\t\t\t<button class={`sortcol statsortcol${sortCol === 'spd' ? ' cur' : ''}`} data-sort=\"spd\">SpD</button>\n\t\t\t<button class={`sortcol statsortcol${sortCol === 'spe' ? ' cur' : ''}`} data-sort=\"spe\">Spe</button>\n\t\t\t<button class={`sortcol statsortcol${sortCol === 'bst' ? ' cur' : ''}`} data-sort=\"bst\">BST</button>\n\t\t</div></li>;\n\t}\n\n\trenderMoveSortRow() {\n\t\tconst sortCol = this.props.search.sortCol;\n\t\treturn <li class=\"result\"><div class=\"sortrow\">\n\t\t\t<button class={`sortcol movenamesortcol${sortCol === 'name' ? ' cur' : ''}`} data-sort=\"name\">Name</button>\n\t\t\t<button class={`sortcol movetypesortcol${sortCol === 'type' ? ' cur' : ''}`} data-sort=\"type\">Type</button>\n\t\t\t<button class={`sortcol movetypesortcol${sortCol === 'category' ? ' cur' : ''}`} data-sort=\"category\">Cat</button>\n\t\t\t<button class={`sortcol powersortcol${sortCol === 'power' ? ' cur' : ''}`} data-sort=\"power\">Pow</button>\n\t\t\t<button class={`sortcol accuracysortcol${sortCol === 'accuracy' ? ' cur' : ''}`} data-sort=\"accuracy\">Acc</button>\n\t\t\t<button class={`sortcol ppsortcol${sortCol === 'pp' ? ' cur' : ''}`} data-sort=\"pp\">PP</button>\n\t\t</div></li>;\n\t}\n\n\trenderPokemonRow(id: ID, matchStart: number, matchEnd: number, errorMessage?: preact.ComponentChildren) {\n\t\tconst search = this.props.search;\n\t\tconst pokemon = search.dex.species.get(id);\n\t\tif (!pokemon) return <li class=\"result\">Unrecognized pokemon</li>;\n\n\t\tlet tagStart = (pokemon.forme ? pokemon.name.length - pokemon.forme.length - 1 : 0);\n\n\t\tconst stats = pokemon.baseStats;\n\t\tlet bst = 0;\n\t\tfor (const stat of Object.values(stats)) bst += stat;\n\t\tif (search.dex.gen < 2) bst -= stats['spd'];\n\n\t\tif (errorMessage) {\n\t\t\treturn <li class=\"result\"><a\n\t\t\t\thref={`${this.URL_ROOT}pokemon/${id}`} class={id === this.speciesId ? 'cur' : ''}\n\t\t\t\tdata-target=\"push\" data-entry={`pokemon|${pokemon.name}`}\n\t\t\t>\n\t\t\t\t<span class=\"col numcol\">{search.getTier(pokemon)}</span>\n\n\t\t\t\t<span class=\"col iconcol\">\n\t\t\t\t\t<span class=\"pixelated\" style={Dex.getPokemonIcon(pokemon.id)}></span>\n\t\t\t\t</span>\n\n\t\t\t\t<span class=\"col pokemonnamecol\">{this.renderName(pokemon.name, matchStart, matchEnd, tagStart)}</span>\n\n\t\t\t\t{errorMessage}\n\t\t\t</a></li>;\n\t\t}\n\n\t\treturn <li class=\"result\">\n\t\t\t<a\n\t\t\t\thref={`${this.URL_ROOT}pokemon/${id}`} class={id === this.speciesId ? 'cur' : ''}\n\t\t\t\tdata-target=\"push\" data-entry={`pokemon|${pokemon.name}`}\n\t\t\t>\n\t\t\t\t<span class=\"col numcol\">{search.getTier(pokemon)}</span>\n\n\t\t\t\t<span class=\"col iconcol\">\n\t\t\t\t\t<span class=\"pixelated\" style={Dex.getPokemonIcon(pokemon.id)}></span>\n\t\t\t\t</span>\n\n\t\t\t\t<span class=\"col pokemonnamecol\">{this.renderName(pokemon.name, matchStart, matchEnd, tagStart)}</span>\n\n\t\t\t\t<span class=\"col typecol\">\n\t\t\t\t\t{pokemon.types.map(type =>\n\t\t\t\t\t\t<img src={`${Dex.resourcePrefix}sprites/types/${type}.png`} alt={type} height=\"14\" width=\"32\" class=\"pixelated\" />\n\t\t\t\t\t)}\n\t\t\t\t</span>\n\n\t\t\t\t{search.dex.gen >= 3 && (\n\t\t\t\t\tpokemon.abilities['1'] ? (\n\t\t\t\t\t\t<span class=\"col twoabilitycol\">{pokemon.abilities['0']}<br />{pokemon.abilities['1']}</span>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<span class=\"col abilitycol\">{pokemon.abilities['0']}</span>\n\t\t\t\t\t)\n\t\t\t\t)}\n\t\t\t\t{search.dex.gen >= 5 && (\n\t\t\t\t\tpokemon.abilities['S'] ? (\n\t\t\t\t\t\t<span class={`col twoabilitycol${pokemon.unreleasedHidden ? ' unreleasedhacol' : ''}`}>\n\t\t\t\t\t\t\t{pokemon.abilities['H'] || ''}<br />{pokemon.abilities['S']}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t) : pokemon.abilities['H'] ? (\n\t\t\t\t\t\t<span class={`col abilitycol${pokemon.unreleasedHidden ? ' unreleasedhacol' : ''}`}>\n\t\t\t\t\t\t\t{pokemon.abilities['H']}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<span class=\"col abilitycol\"></span>\n\t\t\t\t\t)\n\t\t\t\t)}\n\n\t\t\t\t<span class=\"col statcol\"><em>HP</em><br />{stats.hp}</span>\n\t\t\t\t<span class=\"col statcol\"><em>Atk</em><br />{stats.atk}</span>\n\t\t\t\t<span class=\"col statcol\"><em>Def</em><br />{stats.def}</span>\n\t\t\t\t{search.dex.gen > 2 && <span class=\"col statcol\"><em>SpA</em><br />{stats.spa}</span>}\n\t\t\t\t{search.dex.gen > 2 && <span class=\"col statcol\"><em>SpD</em><br />{stats.spd}</span>}\n\t\t\t\t{search.dex.gen < 2 && <span class=\"col statcol\"><em>Spc</em><br />{stats.spa}</span>}\n\t\t\t\t<span class=\"col statcol\"><em>Spe</em><br />{stats.spe}</span>\n\t\t\t\t<span class=\"col bstcol\"><em>BST<br />{bst}</em></span>\n\t\t\t</a>\n\t\t</li>;\n\t}\n\n\trenderName(name: string, matchStart: number, matchEnd: number, tagStart?: number) {\n\t\tif (name === 'No Ability') return <i>(no ability)</i>;\n\n\t\tif (!matchEnd) {\n\t\t\tif (!tagStart) return name;\n\t\t\treturn [\n\t\t\t\tname.slice(0, tagStart), <small>{name.slice(tagStart)}</small>,\n\t\t\t];\n\t\t}\n\n\t\tlet output: preact.ComponentChild[] = [\n\t\t\tname.slice(0, matchStart),\n\t\t\t<b>{name.slice(matchStart, matchEnd)}</b>,\n\t\t\tname.slice(matchEnd, tagStart || name.length),\n\t\t];\n\t\tif (!tagStart) return output;\n\n\t\tif (matchEnd && matchEnd > tagStart) {\n\t\t\tif (matchStart < tagStart) {\n\t\t\t\tmatchStart = tagStart;\n\t\t\t}\n\t\t\toutput.push(\n\t\t\t\t<small>{name.slice(matchEnd)}</small>\n\t\t\t);\n\t\t} else {\n\t\t\toutput.push(<small>{name.slice(tagStart)}</small>);\n\t\t}\n\n\t\treturn output;\n\t}\n\n\trenderItemRow(id: ID, matchStart: number, matchEnd: number, errorMessage?: preact.ComponentChildren) {\n\t\tconst search = this.props.search;\n\t\tconst item = search.dex.items.get(id);\n\t\tif (!item) return <li class=\"result\">Unrecognized item</li>;\n\n\t\treturn <li class=\"result\"><a\n\t\t\thref={`${this.URL_ROOT}items/${id}`} class={id === this.itemId ? 'cur' : ''}\n\t\t\tdata-target=\"push\" data-entry={`item|${item.name}`}\n\t\t>\n\t\t\t<span class=\"col itemiconcol\">\n\t\t\t\t<span class=\"pixelated\" style={Dex.getItemIcon(item)}></span>\n\t\t\t</span>\n\n\t\t\t<span class=\"col namecol\">{id ? this.renderName(item.name, matchStart, matchEnd) : <i>(no item)</i>}</span>\n\n\t\t\t{!!id && errorMessage}\n\n\t\t\t{!errorMessage && <span class=\"col itemdesccol\">{item.shortDesc}</span>}\n\t\t</a></li>;\n\t}\n\n\trenderAbilityRow(id: ID, matchStart: number, matchEnd: number, errorMessage?: preact.ComponentChildren) {\n\t\tconst search = this.props.search;\n\t\tconst ability = search.dex.abilities.get(id);\n\t\tif (!ability) return <li class=\"result\">Unrecognized ability</li>;\n\n\t\treturn <li class=\"result\">\n\t\t\t<a\n\t\t\t\thref={`${this.URL_ROOT}abilities/${id}`} class={id === this.abilityId ? 'cur' : ''}\n\t\t\t\tdata-target=\"push\" data-entry={`ability|${ability.name}`}\n\t\t\t>\n\t\t\t\t<span class=\"col namecol\">{id ? this.renderName(ability.name, matchStart, matchEnd) : <i>(no ability)</i>}</span>\n\n\t\t\t\t{errorMessage}\n\n\t\t\t\t{!errorMessage && <span class=\"col abilitydesccol\">{ability.shortDesc}</span>}\n\t\t\t</a>\n\t\t</li>;\n\t}\n\n\trenderMoveRow(id: ID, matchStart: number, matchEnd: number, errorMessage?: preact.ComponentChildren) {\n\t\tlet slot = null;\n\t\tif (id.startsWith('_')) {\n\t\t\t[slot, id] = id.slice(1).split('_') as [string, ID];\n\t\t\tif (!id) {\n\t\t\t\treturn <li class=\"result\"><a\n\t\t\t\t\thref={`${this.URL_ROOT}moves/`} class=\"cur\"\n\t\t\t\t\tdata-target=\"push\" data-entry={`move||${slot}`}\n\t\t\t\t>\n\t\t\t\t\t<span class=\"col movenamecol\"><i>(slot {slot} empty)</i></span>\n\t\t\t\t</a></li>;\n\t\t\t}\n\t\t}\n\n\t\tconst search = this.props.search;\n\t\tconst move = search.dex.moves.get(id);\n\t\tconst entry = slot ? `move|${move.name}|${slot}` : `move|${move.name}`;\n\t\tif (!move) return <li class=\"result\">Unrecognized move</li>;\n\n\t\tconst tagStart = (move.name.startsWith('Hidden Power') ? 12 : 0);\n\n\t\tif (errorMessage) {\n\t\t\treturn <li class=\"result\"><a\n\t\t\t\thref={`${this.URL_ROOT}moves/${id}`} class={this.moveIds.includes(id) ? 'cur' : ''}\n\t\t\t\tdata-target=\"push\" data-entry={entry}\n\t\t\t>\n\t\t\t\t<span class=\"col movenamecol\">{this.renderName(move.name, matchStart, matchEnd, tagStart)}</span>\n\n\t\t\t\t{errorMessage}\n\t\t\t</a></li>;\n\t\t}\n\n\t\tlet pp = (move.pp === 1 || move.noPPBoosts ? move.pp : move.pp * 8 / 5);\n\t\tif (search.dex.gen < 3) pp = Math.min(61, pp);\n\t\treturn <li class=\"result\"><a\n\t\t\thref={`${this.URL_ROOT}moves/${id}`} class={this.moveIds.includes(id) ? 'cur' : ''}\n\t\t\tdata-target=\"push\" data-entry={entry}\n\t\t>\n\t\t\t<span class=\"col movenamecol\">{this.renderName(move.name, matchStart, matchEnd, tagStart)}</span>\n\n\t\t\t<span class=\"col typecol\">\n\t\t\t\t<img\n\t\t\t\t\tsrc={`${Dex.resourcePrefix}sprites/types/${encodeURIComponent(move.type)}.png`}\n\t\t\t\t\talt={move.type} height=\"14\" width=\"32\" class=\"pixelated\"\n\t\t\t\t/>\n\t\t\t\t<img\n\t\t\t\t\tsrc={`${Dex.resourcePrefix}sprites/categories/${move.category}.png`}\n\t\t\t\t\talt={move.category} height=\"14\" width=\"32\" class=\"pixelated\"\n\t\t\t\t/>\n\t\t\t</span>\n\n\t\t\t<span class=\"col labelcol\">\n\t\t\t\t{move.category !== 'Status' ? [<em>Power</em>, <br />, move.basePower || '\\u2014'] : ''}\n\t\t\t</span>\n\t\t\t<span class=\"col widelabelcol\">\n\t\t\t\t<em>Accuracy</em><br />{move.accuracy && move.accuracy !== true ? `${move.accuracy}%` : '\\u2014'}\n\t\t\t</span>\n\t\t\t<span class=\"col pplabelcol\">\n\t\t\t\t<em>PP</em><br />{pp}\n\t\t\t</span>\n\n\t\t\t<span class=\"col movedesccol\">{move.shortDesc}</span>\n\n\t\t</a></li>;\n\t}\n\n\trenderTypeRow(id: ID, matchStart: number, matchEnd: number, errorMessage?: preact.ComponentChildren) {\n\t\tconst name = id.charAt(0).toUpperCase() + id.slice(1);\n\n\t\treturn <li class=\"result\"><a href={`${this.URL_ROOT}types/${id}`} data-target=\"push\" data-entry={`type|${name}`}>\n\t\t\t<span class=\"col namecol\">{this.renderName(name, matchStart, matchEnd)}</span>\n\n\t\t\t<span class=\"col typecol\">\n\t\t\t\t<img\n\t\t\t\t\tsrc={`${Dex.resourcePrefix}sprites/types/${encodeURIComponent(name)}.png`}\n\t\t\t\t\talt={name} height=\"14\" width=\"32\" class=\"pixelated\"\n\t\t\t\t/>\n\t\t\t</span>\n\n\t\t\t{errorMessage}\n\t\t</a></li>;\n\t}\n\n\trenderCategoryRow(id: ID, matchStart: number, matchEnd: number, errorMessage?: preact.ComponentChildren) {\n\t\tconst name = id.charAt(0).toUpperCase() + id.slice(1);\n\n\t\treturn <li class=\"result\">\n\t\t\t<a href={`${this.URL_ROOT}categories/${id}`} data-target=\"push\" data-entry={`category|${name}`}>\n\t\t\t\t<span class=\"col namecol\">{this.renderName(name, matchStart, matchEnd)}</span>\n\n\t\t\t\t<span class=\"col typecol\">\n\t\t\t\t\t<img src={`${Dex.resourcePrefix}sprites/categories/${name}.png`} alt={name} height=\"14\" width=\"32\" class=\"pixelated\" />\n\t\t\t\t</span>\n\n\t\t\t\t{errorMessage}\n\t\t\t</a>\n\t\t</li>;\n\t}\n\n\trenderArticleRow(id: ID, matchStart: number, matchEnd: number, errorMessage?: preact.ComponentChildren) {\n\t\tconst isSearchType = (id === 'pokemon' || id === 'moves');\n\t\tconst name = window.BattleArticleTitles?.[id] || (id.charAt(0).toUpperCase() + id.substr(1));\n\n\t\treturn <li class=\"result\"><a href={`${this.URL_ROOT}articles/${id}`} data-target=\"push\" data-entry={`article|${name}`}>\n\t\t\t<span class=\"col namecol\">{this.renderName(name, matchStart, matchEnd)}</span>\n\n\t\t\t<span class=\"col movedesccol\">{isSearchType ? \"(search type)\" : \"(article)\"}</span>\n\n\t\t\t{errorMessage}\n\t\t</a></li>;\n\t}\n\n\trenderEggGroupRow(id: ID, matchStart: number, matchEnd: number, errorMessage?: preact.ComponentChildren) {\n\t\t// very hardcode\n\t\tlet name: string | undefined;\n\t\tif (id === 'humanlike') name = 'Human-Like';\n\t\telse if (id === 'water1') name = 'Water 1';\n\t\telse if (id === 'water2') name = 'Water 2';\n\t\telse if (id === 'water3') name = 'Water 3';\n\t\tif (name) {\n\t\t\tif (matchEnd > 5) matchEnd++;\n\t\t} else {\n\t\t\tname = id.charAt(0).toUpperCase() + id.slice(1);\n\t\t}\n\n\t\treturn <li class=\"result\">\n\t\t\t<a href={`${this.URL_ROOT}egggroups/${id}`} data-target=\"push\" data-entry={`egggroup|${name}`}>\n\t\t\t\t<span class=\"col namecol\">{this.renderName(name, matchStart, matchEnd)}</span>\n\n\t\t\t\t<span class=\"col movedesccol\">(egg group)</span>\n\n\t\t\t\t{errorMessage}\n\t\t\t</a>\n\t\t</li>;\n\t}\n\n\trenderTierRow(id: ID, matchStart: number, matchEnd: number, errorMessage?: preact.ComponentChildren) {\n\t\t// very hardcode\n\t\tconst tierTable: { [id: string]: string } = {\n\t\t\tuber: \"Uber\",\n\t\t\tcaplc: \"CAP LC\",\n\t\t\tcapnfe: \"CAP NFE\",\n\t\t};\n\t\tconst name = tierTable[id] || id.toUpperCase();\n\n\t\treturn <li class=\"result\"><a href={`${this.URL_ROOT}tiers/${id}`} data-target=\"push\" data-entry={`tier|${name}`}>\n\t\t\t<span class=\"col namecol\">{this.renderName(name, matchStart, matchEnd)}</span>\n\n\t\t\t<span class=\"col movedesccol\">(tier)</span>\n\n\t\t\t{errorMessage}\n\t\t</a></li>;\n\t}\n\n\trenderRow(row: SearchRow) {\n\t\tconst search = this.props.search;\n\t\tconst [type, id] = row;\n\t\tlet matchStart = 0;\n\t\tlet matchEnd = 0;\n\t\tif (row.length > 3) {\n\t\t\tmatchStart = row[2]!;\n\t\t\tmatchEnd = row[3]!;\n\t\t}\n\n\t\tlet errorMessage: preact.ComponentChild = null;\n\t\tlet label;\n\t\tif ((label = search.filterLabel(type))) {\n\t\t\terrorMessage = <span class=\"col filtercol\"><em>{label}</em></span>;\n\t\t} else if ((label = search.illegalLabel(id as ID))) {\n\t\t\terrorMessage = <span class=\"col illegalcol\"><em>{label}</em></span>;\n\t\t}\n\n\t\tswitch (type) {\n\t\tcase 'html':\n\t\t\tconst sanitizedHTML = id.replace(/</g, '&lt;')\n\t\t\t\t.replace(/&lt;em>/g, '<em>').replace(/&lt;\\/em>/g, '</em>')\n\t\t\t\t.replace(/&lt;strong>/g, '<strong>').replace(/&lt;\\/strong>/g, '</strong>');\n\t\t\treturn <li class=\"result\">\n\t\t\t\t<p dangerouslySetInnerHTML={{ __html: sanitizedHTML }}></p>\n\t\t\t</li>;\n\t\tcase 'header':\n\t\t\treturn <li class=\"result\"><h3>{id}</h3></li>;\n\t\tcase 'sortpokemon':\n\t\t\treturn this.renderPokemonSortRow();\n\t\tcase 'sortmove':\n\t\t\treturn this.renderMoveSortRow();\n\t\tcase 'pokemon':\n\t\t\treturn this.renderPokemonRow(id, matchStart, matchEnd, errorMessage);\n\t\tcase 'move':\n\t\t\treturn this.renderMoveRow(id, matchStart, matchEnd, errorMessage);\n\t\tcase 'item':\n\t\t\treturn this.renderItemRow(id, matchStart, matchEnd, errorMessage);\n\t\tcase 'ability':\n\t\t\treturn this.renderAbilityRow(id, matchStart, matchEnd, errorMessage);\n\t\tcase 'type':\n\t\t\treturn this.renderTypeRow(id, matchStart, matchEnd, errorMessage);\n\t\tcase 'egggroup':\n\t\t\treturn this.renderEggGroupRow(id, matchStart, matchEnd, errorMessage);\n\t\tcase 'tier':\n\t\t\treturn this.renderTierRow(id, matchStart, matchEnd, errorMessage);\n\t\tcase 'category':\n\t\t\treturn this.renderCategoryRow(id, matchStart, matchEnd, errorMessage);\n\t\tcase 'article':\n\t\t\treturn this.renderArticleRow(id, matchStart, matchEnd, errorMessage);\n\t\t}\n\t\treturn <li>Error: not found</li>;\n\t}\n\tstatic renderFilters(search: DexSearch, showHints?: boolean) {\n\t\treturn search.filters && <li class=\"dexlist-filters\">\n\t\t\t{showHints && \"Filters: \"}\n\t\t\t{search.filters.map(([type, name]) =>\n\t\t\t\t<button class=\"filter\" data-filter={`${type}:${name}`}>\n\t\t\t\t\t{name} <i class=\"fa fa-times-circle\" aria-hidden></i>\n\t\t\t\t</button>\n\t\t\t)}\n\t\t\t{!search.query && showHints && <small style=\"color: #888\">(backspace = delete filter)</small>}\n\t\t</li>;\n\t}\n\thandleClick = (ev: Event) => {\n\t\tconst search = this.props.search;\n\t\tlet target = ev.target as HTMLElement | null;\n\t\twhile (target && target.className !== 'dexlist') {\n\t\t\tif (target.tagName === 'A') {\n\t\t\t\tconst entry = target.getAttribute('data-entry');\n\t\t\t\tif (entry) {\n\t\t\t\t\tconst [type, name, slot] = entry.split('|');\n\t\t\t\t\tif (search.addFilter([type, name])) {\n\t\t\t\t\t\tif (this.props.onSelect) {\n\t\t\t\t\t\t\tthis.props.onSelect?.('', '');\n\t\t\t\t\t\t} else if (search.query) {\n\t\t\t\t\t\t\tsearch.find('');\n\t\t\t\t\t\t\tthis.forceUpdate();\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.props.onSelect?.(type as SearchType, name, slot);\n\t\t\t\t\t}\n\t\t\t\t\tev.preventDefault();\n\t\t\t\t\tev.stopImmediatePropagation();\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (target.tagName === 'BUTTON') {\n\t\t\t\tconst filter = target.getAttribute('data-filter');\n\t\t\t\tif (filter) {\n\t\t\t\t\tsearch.removeFilter(filter.split(':') as any);\n\t\t\t\t\tsearch.find('');\n\t\t\t\t\tev.preventDefault();\n\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\tthis.props.onSelect?.(null, '');\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\t// sort\n\t\t\t\tconst sort = target.getAttribute('data-sort');\n\t\t\t\tif (sort) {\n\t\t\t\t\tsearch.toggleSort(sort);\n\t\t\t\t\tsearch.find('');\n\t\t\t\t\tev.preventDefault();\n\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\tthis.props.onSelect?.(null, '');\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttarget = target.parentElement;\n\t\t}\n\t};\n\n\toverride componentDidUpdate() {\n\t\tif (this.props.resultIndex !== undefined) {\n\t\t\tthis.base!.children[this.resultIndex + 1]?.children[0]?.classList.remove('hover');\n\t\t\tthis.resultIndex = this.props.resultIndex;\n\t\t\tthis.base!.children[this.resultIndex + 1]?.children[0]?.classList.add('hover');\n\t\t}\n\t}\n\toverride componentDidMount() {\n\t\tthis.componentDidUpdate();\n\t}\n\toverride render() {\n\t\tconst search = this.props.search;\n\n\t\tconst set = search.typedSearch?.set;\n\t\tif (set) {\n\t\t\tthis.speciesId = toID(set.species);\n\t\t\tthis.itemId = toID(set.item);\n\t\t\tthis.abilityId = toID(set.ability);\n\t\t\tthis.moveIds = set.moves.map(toID);\n\t\t}\n\n\t\tlet results = search.results;\n\t\tif (this.props.windowing) results = results?.slice(0, this.props.windowing) || null;\n\n\t\treturn <ul\n\t\t\tclass=\"dexlist\" style={`min-height: ${(1 + (search.results?.length || 1)) * 33}px;`} onClick={this.handleClick}\n\t\t>\n\t\t\t{(!this.props.hideFilters && PSSearchResults.renderFilters(search, true)) || <li></li>}\n\t\t\t{results?.map(result => this.renderRow(result))}\n\t\t</ul>;\n\t}\n}\n"],"mappings":"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","ignoreList":[]}