{"version":3,"file":"panel-teambuilder-team.js","names":["TeamRoom","_PSRoom","options","_this$team","_this","call","team","forceReload","clientCommands","parseClientCommands","validate","target","format","length","errorReply","send","packedTeam","PS","teams","byKey","id","slice","title","name","setFormat","load","_inheritsLoose","_proto","prototype","toID","_PS$teams$loadTeam","_this2","loadTeam","then","update","upload","isPrivate","cmd","uploaded","buf","push","teamid","alert","exported","uploading","join","uploadedPackedTeam","stripNicknames","Teams","unpack","_i2","pokemon","pack","save","_this$team2","PSRoom","TeamPanel","_PSRoomPanel","props","_this3","handleRename","ev","textbox","currentTarget","room","value","trim","uploadTeam","prefs","uploadprivacy","restore","forceUpdate","compare","uploadedTeam","localTeam","BattleLog","html","_templateObject","_taggedTemplateLiteralLoose","width","preventDefault","stopImmediatePropagation","changePrivacyPref","checked","handleChangeFormat","dropdown","getFormatResources","_this4","formatResources","Promise","resolve","Net","get","result","JSON","parse","err","_proto2","renderResources","info","formatName","resources","url","preact","h","open","style","map","resource","href","resource_name","componentDidUpdate","render","PSPanelWrapper","unsaved","scrollable","Fragment","key","onClick","onChange","type","onInput","onKeyUp","TeamEditor","readOnly","CopyableURLBox","PSRoomPanel","routes","Model","ViewTeamPanel","_PSRoomPanel2","_this5","_len","arguments","args","Array","_key","apply","concat","teamData","_proto3","componentDidMount","_this6","roomid","_roomid$slice$split","split","password","PSLoginServer","query","full","untypedData","data","folder","iconCache","isBox","parseInt","_i4","_PS$teams$list2","list","ownerid","views","TeamStoragePanel","_PSRoomPanel3","_this7","_len2","_key2","chooseOption","_team$uploaded","_team$uploaded2","storage","undefined","getParent","close","_proto4","teamKey","_team$uploaded3","location","noURL","addRoomType"],"sources":["../src/panel-teambuilder-team.tsx"],"sourcesContent":["/**\n * Teambuilder team panel\n *\n * @author Guangcong Luo <guangcongluo@gmail.com>\n * @license AGPLv3\n */\n\nimport { PS, PSRoom, type RoomOptions, type Team } from \"./client-main\";\nimport { PSPanelWrapper, PSRoomPanel } from \"./panels\";\nimport { toID, type ID } from \"./battle-dex\";\nimport { BattleLog } from \"./battle-log\";\nimport { TeamEditor } from \"./battle-team-editor\";\nimport { Net, PSLoginServer } from \"./client-connection\";\nimport { Teams } from \"./battle-teams\";\nimport { CopyableURLBox } from \"./panel-chat\";\n\nclass TeamRoom extends PSRoom {\n\t/** Doesn't _literally_ always exist, but does in basically all code\n\t * and constantly checking for its existence is legitimately annoying... */\n\tteam!: Team;\n\tforceReload = false;\n\toverride clientCommands = this.parseClientCommands({\n\t\t'validate'(target) {\n\t\t\tif (this.team.format.length <= 4) {\n\t\t\t\treturn this.errorReply(`You must select a format first.`);\n\t\t\t}\n\t\t\tthis.send(`/utm ${this.team.packedTeam}`);\n\t\t\tthis.send(`/vtm ${this.team.format}`);\n\t\t},\n\t});\n\tconstructor(options: RoomOptions) {\n\t\tsuper(options);\n\t\tconst team = PS.teams.byKey[this.id.slice(5)] || null;\n\t\tthis.team = team!;\n\t\tthis.title = `[Team] ${this.team?.name || 'Error'}`;\n\t\tif (team) this.setFormat(team.format);\n\t\tthis.load();\n\t}\n\tsetFormat(format: string) {\n\t\tconst team = this.team;\n\t\tteam.format = toID(format);\n\t}\n\tload() {\n\t\tPS.teams.loadTeam(this.team, true)?.then(() => {\n\t\t\tthis.update(null);\n\t\t});\n\t}\n\tupload(isPrivate: boolean) {\n\t\tconst team = this.team;\n\t\tconst cmd = team.uploaded ? 'update' : 'save';\n\t\t// teamName, formatid, rawPrivacy, rawTeam\n\t\tconst buf = [];\n\t\tif (team.uploaded) {\n\t\t\tbuf.push(team.uploaded.teamid);\n\t\t} else if (team.teamid) {\n\t\t\treturn PS.alert(`This team is for a different account. Please log into the correct account to update it.`);\n\t\t}\n\t\tbuf.push(team.name, team.format, isPrivate ? 1 : 0);\n\t\tconst exported = team.packedTeam;\n\t\tif (!exported) return PS.alert(`Add a Pokemon to your team before uploading it.`);\n\t\tbuf.push(exported);\n\t\tPS.teams.uploading = team;\n\t\tPS.send(`/teams ${cmd} ${buf.join(', ')}`);\n\t\tteam.uploadedPackedTeam = exported;\n\t\tthis.update(null);\n\t}\n\tstripNicknames(packedTeam: string) {\n\t\tconst team = Teams.unpack(packedTeam);\n\t\tfor (const pokemon of team) {\n\t\t\tpokemon.name = '';\n\t\t}\n\t\treturn Teams.pack(team);\n\t}\n\tsave() {\n\t\tPS.teams.save();\n\t\tconst title = `[Team] ${this.team?.name || 'Team'}`;\n\t\tif (title !== this.title) {\n\t\t\tthis.title = title;\n\t\t\tPS.update();\n\t\t}\n\t}\n}\n\nexport type FormatResource = { url: string, resources: { resource_name: string, url: string }[] } | null;\nclass TeamPanel extends PSRoomPanel<TeamRoom> {\n\tstatic readonly id = 'team';\n\tstatic readonly routes = ['team-*'];\n\tstatic readonly Model = TeamRoom;\n\tstatic readonly title = 'Team';\n\n\tconstructor(props?: { room: TeamRoom }) {\n\t\tsuper(props);\n\t\tconst room = this.props.room;\n\t\tif (room.team) {\n\t\t\tTeamPanel.getFormatResources(room.team.format).then(() => {\n\t\t\t\tthis.forceUpdate();\n\t\t\t});\n\t\t}\n\t}\n\n\tstatic formatResources = {} as Record<string, FormatResource>;\n\n\tstatic getFormatResources(format: string): Promise<FormatResource> {\n\t\tif (format in this.formatResources) return Promise.resolve(this.formatResources[format]);\n\t\treturn Net('https://www.smogon.com/dex/api/formats/by-ps-name/' + format).get()\n\t\t\t.then(result => {\n\t\t\t\tthis.formatResources[format] = JSON.parse(result);\n\t\t\t\treturn this.formatResources[format];\n\t\t\t}).catch(err => {\n\t\t\t\tthis.formatResources[format] = null;\n\t\t\t\treturn this.formatResources[format];\n\t\t\t});\n\t}\n\n\thandleRename = (ev: Event) => {\n\t\tconst textbox = ev.currentTarget as HTMLInputElement;\n\t\tconst room = this.props.room;\n\n\t\troom.team.name = textbox.value.trim();\n\t\troom.save();\n\t};\n\n\tuploadTeam = (ev: Event) => {\n\t\tconst room = this.props.room;\n\t\troom.upload(room.team.uploaded ? !!room.team.uploaded.private : PS.prefs.uploadprivacy);\n\t};\n\trestore = (ev: Event) => {\n\t\tconst room = this.props.room;\n\t\tconst team = room.team;\n\t\tif (!team.uploadedPackedTeam) {\n\t\t\t// should never happen\n\t\t\tPS.alert(`Must use on an uploaded team.`);\n\t\t\treturn;\n\t\t}\n\t\tteam.packedTeam = team.uploadedPackedTeam;\n\t\troom.forceReload = true;\n\t\troom.save();\n\t\tthis.forceUpdate();\n\t};\n\tcompare = (ev: Event) => {\n\t\tconst team = this.props.room.team;\n\t\tif (!team.uploadedPackedTeam) {\n\t\t\t// should never happen\n\t\t\tPS.alert(`Must use on an uploaded team.`);\n\t\t\treturn;\n\t\t}\n\t\tconst uploadedTeam = Teams.export(Teams.unpack(team.uploadedPackedTeam));\n\t\tconst localTeam = Teams.export(Teams.unpack(team.packedTeam));\n\t\tPS.alert(BattleLog.html`|html|<table class=\"table\" style=\"width:100%;font-size:14px\"><tr><th>Local</th><th>Uploaded</th></tr><tr><td>${localTeam}</td><td>${uploadedTeam}</td></tr></table>`, { width: 720 });\n\t\tev.preventDefault();\n\t\tev.stopImmediatePropagation();\n\t};\n\n\tchangePrivacyPref = (ev: Event) => {\n\t\tPS.prefs.uploadprivacy = !(ev.currentTarget as HTMLInputElement).checked;\n\t\tPS.prefs.save();\n\t\tthis.forceUpdate();\n\t};\n\thandleChangeFormat = (ev: Event) => {\n\t\tconst dropdown = ev.currentTarget as HTMLButtonElement;\n\t\tconst room = this.props.room;\n\n\t\troom.setFormat(dropdown.value);\n\t\troom.save();\n\t\tthis.forceUpdate();\n\t\tTeamPanel.getFormatResources(room.team.format).then(() => {\n\t\t\tthis.forceUpdate();\n\t\t});\n\t};\n\tsave = () => {\n\t\tthis.props.room.save();\n\t\tthis.forceUpdate();\n\t};\n\trenderResources() {\n\t\tconst { room } = this.props;\n\t\tconst team = room.team;\n\t\tconst info = TeamPanel.formatResources[team.format];\n\t\tconst formatName = BattleLog.formatName(team.format);\n\t\treturn (info && (info.resources.length || info.url)) ? (\n\t\t\t<details class=\"details\" open>\n\t\t\t\t<summary><strong>Teambuilding resources for {formatName}</strong></summary>\n\t\t\t\t<div style=\"margin-left:5px\"><ul>\n\t\t\t\t\t{info.resources.map(resource => (\n\t\t\t\t\t\t<li><p><a href={resource.url} target=\"_blank\">{resource.resource_name}</a></p></li>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t\t<p>\n\t\t\t\t\tFind {info.resources.length ? 'more ' : ''}\n\t\t\t\t\thelpful resources for {formatName} on <a href={info.url} target=\"_blank\">the Smogon Dex</a>.\n\t\t\t\t</p></div>\n\t\t\t</details>\n\t\t) : null;\n\t}\n\toverride componentDidUpdate() {\n\t\tconst room = this.props.room;\n\t\troom.load();\n\t}\n\toverride render() {\n\t\tconst { room } = this.props;\n\t\tconst team = room.team;\n\t\tif (!team || room.forceReload) {\n\t\t\tif (room.forceReload) {\n\t\t\t\troom.forceReload = false;\n\t\t\t\troom.update(null);\n\t\t\t}\n\t\t\treturn <PSPanelWrapper room={room}>\n\t\t\t\t<a class=\"button\" href=\"teambuilder\" data-target=\"replace\">\n\t\t\t\t\t<i class=\"fa fa-chevron-left\" aria-hidden></i> List\n\t\t\t\t</a>\n\t\t\t\t<p class=\"error\">\n\t\t\t\t\tTeam doesn't exist\n\t\t\t\t</p>\n\t\t\t</PSPanelWrapper>;\n\t\t}\n\n\t\tconst unsaved = team.uploaded && team.uploadedPackedTeam ? team.uploadedPackedTeam !== team.packedTeam : false;\n\t\treturn <PSPanelWrapper room={room} scrollable><div class=\"pad\">\n\t\t\t<a class=\"button\" href=\"teambuilder\" data-target=\"replace\">\n\t\t\t\t<i class=\"fa fa-chevron-left\" aria-hidden></i> Teams\n\t\t\t</a> {}\n\t\t\t{team.uploaded ? (\n\t\t\t\t<>\n\t\t\t\t\t<button class={`button${unsaved ? ' button-first' : ''}`} data-href={`teamstorage-${team.key}`}>\n\t\t\t\t\t\t<i class=\"fa fa-globe\"></i> Account {team.uploaded.private ? '' : \"(public)\"}\n\t\t\t\t\t</button>\n\t\t\t\t\t{unsaved && <button class=\"button button-last\" onClick={this.uploadTeam}>\n\t\t\t\t\t\t<strong>Upload changes</strong>\n\t\t\t\t\t</button>}\n\t\t\t\t</>\n\t\t\t) : team.teamid ? (\n\t\t\t\t<button class=\"button\" data-href={`teamstorage-${team.key}`}>\n\t\t\t\t\t<i class=\"fa fa-plug\"></i> Disconnected (wrong account?)\n\t\t\t\t</button>\n\t\t\t) : (\n\t\t\t\t<button class=\"button\" data-href={`teamstorage-${team.key}`}>\n\t\t\t\t\t<i class=\"fa fa-laptop\"></i> Local\n\t\t\t\t</button>\n\t\t\t)}\n\t\t\t<div style=\"float:right\"><button\n\t\t\t\tname=\"format\" value={team.format} data-selecttype=\"teambuilder\"\n\t\t\t\tclass=\"button\" data-href=\"/formatdropdown\" onChange={this.handleChangeFormat}\n\t\t\t>\n\t\t\t\t<i class=\"fa fa-folder-o\"></i> {BattleLog.formatName(team.format)} {}\n\t\t\t\t{team.format.length <= 4 && <em>(uncategorized)</em>} <i class=\"fa fa-caret-down\"></i>\n\t\t\t</button></div>\n\t\t\t<label class=\"label teamname\">\n\t\t\t\tTeam name:{}\n\t\t\t\t<input\n\t\t\t\t\tclass=\"textbox\" type=\"text\" value={team.name}\n\t\t\t\t\tonInput={this.handleRename} onChange={this.handleRename} onKeyUp={this.handleRename}\n\t\t\t\t/>\n\t\t\t</label>\n\t\t\t<TeamEditor\n\t\t\t\tteam={team} onChange={this.save} readOnly={!!team.teamid && !team.uploadedPackedTeam} resources={this.renderResources()}\n\t\t\t>\n\t\t\t\t{!!(team.packedTeam && team.format.length > 4) && <p>\n\t\t\t\t\t<button data-cmd=\"/validate\" class=\"button\"><i class=\"fa fa-check\"></i> Validate</button>\n\t\t\t\t</p>}\n\t\t\t\t{!!(team.packedTeam || team.uploaded) && <p class=\"infobox\" style=\"padding: 5px 8px\">\n\t\t\t\t\t{team.uploadedPackedTeam && !team.uploaded ? <>\n\t\t\t\t\t\tUploading...\n\t\t\t\t\t</> : team.uploaded ? <>\n\t\t\t\t\t\t<small>Share URL:</small> {}\n\t\t\t\t\t\t<CopyableURLBox\n\t\t\t\t\t\t\turl={`https://psim.us/t/${team.uploaded.teamid}${team.uploaded.private ? '-' + team.uploaded.private : ''}`}\n\t\t\t\t\t\t/> {}\n\t\t\t\t\t\t{unsaved && <div style=\"padding-top:5px\">\n\t\t\t\t\t\t\t<button class=\"button\" onClick={this.uploadTeam}>\n\t\t\t\t\t\t\t\t<i class=\"fa fa-upload\"></i> <strong>Upload changes</strong>\n\t\t\t\t\t\t\t</button> {}\n\t\t\t\t\t\t\t<button class=\"button\" onClick={this.restore}>\n\t\t\t\t\t\t\t\tRevert to uploaded version\n\t\t\t\t\t\t\t</button> {}\n\t\t\t\t\t\t\t<button class=\"button\" onClick={this.compare}>\n\t\t\t\t\t\t\t\tCompare\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>}\n\t\t\t\t\t</> : !team.teamid ? <>\n\t\t\t\t\t\t<label class=\"checkbox inline\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tname=\"teamprivacy\" checked={!PS.prefs.uploadprivacy}\n\t\t\t\t\t\t\t\ttype=\"checkbox\" onChange={this.changePrivacyPref}\n\t\t\t\t\t\t\t/> Public\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<button class=\"button exportbutton\" onClick={this.uploadTeam}>\n\t\t\t\t\t\t\t<i class=\"fa fa-upload\"></i> Upload for\n\t\t\t\t\t\t\t{PS.prefs.uploadprivacy ? ' shareable URL' : ' shareable/searchable URL'}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</> : <>\n\t\t\t\t\t\tThis is a disconnected team. This could be because you uploaded it\n\t\t\t\t\t\ton a different account, or because you deleted or un-uploaded it on\n\t\t\t\t\t\ta different computer. For safety, you can't edit this team. You can,\n\t\t\t\t\t\thowever, delete it, or make a copy (which will be editable).\n\t\t\t\t\t</>}\n\t\t\t\t</p>}\n\t\t\t</TeamEditor>\n\t\t</div></PSPanelWrapper>;\n\t}\n}\n\nclass ViewTeamPanel extends PSRoomPanel {\n\tstatic readonly id = 'viewteam';\n\tstatic readonly routes = ['viewteam-*'];\n\tstatic readonly Model = TeamRoom;\n\tstatic readonly title = 'Loading...';\n\tteam: Team | null | undefined;\n\tteamData: {\n\t\tteam: string, private: string | null, ownerid: ID, format: ID, title: string, views: number,\n\t} | null = null;\n\toverride componentDidMount(): void {\n\t\tsuper.componentDidMount();\n\t\tconst roomid = this.props.room.id;\n\t\tconst [teamid, password] = roomid.slice(9).split('-');\n\t\tPSLoginServer.query('getteam', {\n\t\t\tteamid,\n\t\t\tpassword,\n\t\t\tfull: true,\n\t\t}).then(untypedData => {\n\t\t\tconst data = untypedData as ViewTeamPanel['teamData'];\n\t\t\tif (!data) {\n\t\t\t\tthis.team = null;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.team = {\n\t\t\t\tname: data.title,\n\t\t\t\tformat: data.format,\n\t\t\t\tfolder: '',\n\t\t\t\tpackedTeam: data.team,\n\t\t\t\ticonCache: null,\n\t\t\t\tkey: '',\n\t\t\t\tisBox: false,\n\t\t\t\tteamid: parseInt(teamid),\n\t\t\t};\n\t\t\tfor (const localTeam of PS.teams.list) {\n\t\t\t\tif (localTeam.teamid === this.team.teamid) {\n\t\t\t\t\tthis.team.key = localTeam.key;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.props.room.title = `[Team] ${this.team.name || 'Untitled team'}`;\n\t\t\tthis.teamData = data;\n\t\t\tPS.update();\n\t\t});\n\t}\n\n\toverride render() {\n\t\tconst { room } = this.props;\n\t\tconst team = this.team;\n\t\tconst teamData = this.teamData!;\n\t\tif (!team) {\n\t\t\treturn <PSPanelWrapper room={room}>\n\t\t\t\t{team === null ? <p class=\"error\">\n\t\t\t\t\tTeam doesn't exist\n\t\t\t\t</p> : <p>\n\t\t\t\t\tLoading...\n\t\t\t\t</p>}\n\t\t\t</PSPanelWrapper>;\n\t\t}\n\n\t\treturn <PSPanelWrapper room={room} scrollable><div class=\"pad\">\n\t\t\t<h1>{team.name || \"Untitled team\"}</h1>\n\t\t\t<CopyableURLBox\n\t\t\t\turl={`https://psim.us/t/${team.teamid!}${teamData.private ? '-' + teamData.private : ''}`}\n\t\t\t/> {}\n\t\t\t<p>Uploaded by: <strong>{teamData.ownerid}</strong></p>\n\t\t\t<p>Format: <strong>{teamData.format}</strong></p>\n\t\t\t<p>Views: <strong>{teamData.views}</strong></p>\n\t\t\t{team.key && <p><a class=\"button\" href={`team-${team.key}`}>Edit</a></p>}\n\t\t\t<TeamEditor team={team} readOnly></TeamEditor>\n\t\t</div></PSPanelWrapper>;\n\t}\n}\n\ntype TeamStorage = 'account' | 'public' | 'disconnected' | 'local';\nclass TeamStoragePanel extends PSRoomPanel {\n\tstatic readonly id = \"teamstorage\";\n\tstatic readonly routes = [\"teamstorage-*\"];\n\tstatic readonly location = \"semimodal-popup\";\n\tstatic readonly noURL = true;\n\n\tchooseOption = (ev: MouseEvent) => {\n\t\tconst storage = (ev.currentTarget as HTMLButtonElement).value as TeamStorage;\n\t\tconst room = this.props.room;\n\t\tconst team = this.team();\n\n\t\tif (storage === 'local' && team.uploaded) {\n\t\t\tPS.send(`/teams delete ${team.uploaded.teamid}`);\n\t\t\tteam.uploaded = undefined;\n\t\t\tteam.teamid = undefined;\n\t\t\tteam.uploadedPackedTeam = undefined;\n\t\t\tPS.teams.save();\n\t\t\t(room.getParent() as TeamRoom).update(null);\n\t\t} else if (storage === 'public' && team.uploaded?.private) {\n\t\t\tPS.send(`/teams setprivacy ${team.uploaded.teamid},no`);\n\t\t} else if (storage === 'account' && team.uploaded?.private === null) {\n\t\t\tPS.send(`/teams setprivacy ${team.uploaded.teamid},yes`);\n\t\t} else if (storage === 'public' && !team.teamid) {\n\t\t\t(room.getParent() as TeamRoom).upload(false);\n\t\t} else if (storage === 'account' && !team.teamid) {\n\t\t\t(room.getParent() as TeamRoom).upload(true);\n\t\t}\n\t\tev.stopImmediatePropagation();\n\t\tev.preventDefault();\n\t\tthis.close();\n\t};\n\tteam() {\n\t\tconst teamKey = this.props.room.id.slice(12);\n\t\tconst team = PS.teams.byKey[teamKey]!;\n\t\treturn team;\n\t}\n\n\toverride render() {\n\t\tconst room = this.props.room;\n\n\t\tconst team = this.team();\n\t\tconst storage: TeamStorage = team.uploaded?.private ? (\n\t\t\t'account'\n\t\t) : team.uploaded ? (\n\t\t\t'public'\n\t\t) : team.teamid ? (\n\t\t\t'disconnected'\n\t\t) : (\n\t\t\t'local'\n\t\t);\n\n\t\tif (storage === 'disconnected') {\n\t\t\treturn <PSPanelWrapper room={room} width={280}><div class=\"pad\">\n\t\t\t\t<div><button class=\"option cur\" data-cmd=\"/close\">\n\t\t\t\t\t<i class=\"fa fa-plug\"></i> <strong>Disconnected</strong><br />\n\t\t\t\t\tNot found in the Teams database. Maybe you uploaded it on a different account?\n\t\t\t\t</button></div>\n\t\t\t</div></PSPanelWrapper>;\n\t\t}\n\t\treturn <PSPanelWrapper room={room} width={280}><div class=\"pad\">\n\t\t\t<div><button class={`option${storage === 'local' ? ' cur' : ''}`} onClick={this.chooseOption} value=\"local\">\n\t\t\t\t<i class=\"fa fa-laptop\"></i> <strong>Local</strong><br />\n\t\t\t\tStored in cookies on your computer. Warning: Your browser might delete these. Make sure to use backups.\n\t\t\t</button></div>\n\t\t\t<div><button class={`option${storage === 'account' ? ' cur' : ''}`} onClick={this.chooseOption} value=\"account\">\n\t\t\t\t<i class=\"fa fa-cloud\"></i> <strong>Account</strong><br />\n\t\t\t\tUploaded to the Teams database. You can share with the URL.\n\t\t\t</button></div>\n\t\t\t<div><button class={`option${storage === 'public' ? ' cur' : ''}`} onClick={this.chooseOption} value=\"public\">\n\t\t\t\t<i class=\"fa fa-globe\"></i> <strong>Account (public)</strong><br />\n\t\t\t\tUploaded to the Teams database publicly. Share with the URL or people can find it by searching.\n\t\t\t</button></div>\n\t\t</div></PSPanelWrapper>;\n\t}\n}\n\nPS.addRoomType(TeamPanel, TeamStoragePanel, ViewTeamPanel);\n"],"mappings":"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","ignoreList":[]}