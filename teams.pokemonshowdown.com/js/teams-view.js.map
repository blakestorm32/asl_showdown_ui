{"version":3,"file":"teams-view.js","names":["MODES","width","colGap","exportSet","set","out","name","species","gender","item","ability","level","shiny","happiness","isNaN","pokeball","hpType","dynamaxLevel","gigantamax","teraType","first","evs","_i2","_Dex$statNames2","Dex","statNames","length","stat","BattleStatNames","nature","ivs","_i4","_Dex$statNames4","undefined","_i6","_set$moves2","moves","move","startsWith","charAt","slice","isOMNickname","nickname","get","exists","toID","items","abilities","types","PokemonSet","_ref","omName","preact","h","Fragment","filter","map","index","arr","substr","PSIcon","type","hideAlt","SetBlock","_preact$Component","apply","arguments","_inheritsLoose","_proto","prototype","render","props","gen","prefs","spriteData","getSpriteData","forceResize","matchMedia","matches","mode","w","style","flex","pad","src","url","height","textAlign","Component","TeamViewer","_preact$Component2","_this","call","id","pw","state","team","error","copyButtonMsg","displayMode","localStorage","getItem","spriteGen","Number","manageOpen","changesMade","teamEdits","editError","copied","copyError","args","checkTeamID","setItem","_proto2","_this$state$displayMo","_document$querySelect","_this2","_this$state$teamEdits","_this$state$team","title","ownerid","format","views","teamData","unpackTeam","modeName","isDark","document","querySelector","classList","link","loggedin","getShowdownUsername","manageClass","wordWrap","className","href","Config","routes","teams","color","BattleLog","usernameColor","display","gap","onClick","changeManage","copyToBuilder","disabled","copyTeam","changeDisplayMode","changeColorMode","onChange","ev","changeSpriteGen","value","num","editTeamValue","n","onInput","commitEdit","runDelete","alignItems","flexWrap","rowGap","includes","_this$id$split","split","test","setState","JSON","stringify","loadTeamData","event","target","keys","Object","next","indexOf","_document$querySelect2","remove","removeItem","add","forceUpdate","_this3","query","teamid","password","full","then","result","actionerror","e","code","message","conf","prompt","alert","success","location","replace","_this4","navigator","clipboard","writeText","join","setTimeout","_this5","val","_ref2","_this$state","currentTarget","changes","_this$state$team2","BattleAliases","_this$state$team3","_this6","assign","resultText","_this6$state$team","parse","_unused","history","pushState","URL"],"sources":["../src/teams-view.tsx"],"sourcesContent":["/** @jsx preact.h */\n/** @jsxFrag preact.Fragment */\nimport preact from '../../play.pokemonshowdown.com/js/lib/preact';\nimport { PSIcon, getShowdownUsername, unpackTeam, query } from './utils';\nimport { BattleLog } from '../../play.pokemonshowdown.com/src/battle-log';\nimport type { PageProps } from './teams';\nimport { Dex } from '../../play.pokemonshowdown.com/src/battle-dex';\nimport { BattleStatNames } from '../../play.pokemonshowdown.com/src/battle-dex-data';\nimport { Config } from '../../play.pokemonshowdown.com/src/client-main';\n\ndeclare const toID: (str: any) => string;\ndeclare const BattleAliases: Record<string, string>;\n\nconst MODES: Record<string, { width: number, colGap: string }> = {\n\t'1col': { width: 100, colGap: '' },\n\t'2col': { width: 50, colGap: '2rem' },\n\t'3col': { width: 33, colGap: '2rem' },\n};\n\ninterface Team {\n\tteam: string;\n\ttitle: string;\n\tviews: number;\n\townerid: string;\n\tformat: string;\n\tteamid: string;\n\tprivate: number;\n}\n\nfunction exportSet(set: Dex.PokemonSet) {\n\tlet out = ``;\n\n\t// core\n\tif (set.name && set.name !== set.species) {\n\t\tout += `${set.name} (${set.species})`;\n\t} else {\n\t\tout += set.species;\n\t}\n\tif (set.gender === 'M') out += ` (M)`;\n\tif (set.gender === 'F') out += ` (F)`;\n\tif (set.item) out += ` @ ${set.item}`;\n\tout += `  \\n`;\n\n\tif (set.ability) {\n\t\tout += `Ability: ${set.ability}  \\n`;\n\t}\n\n\t// details\n\tif (set.level && set.level !== 100) {\n\t\tout += `Level: ${set.level}  \\n`;\n\t}\n\tif (set.shiny) {\n\t\tout += `Shiny: Yes  \\n`;\n\t}\n\tif (typeof set.happiness === 'number' && set.happiness !== 255 && !isNaN(set.happiness)) {\n\t\tout += `Happiness: ${set.happiness}  \\n`;\n\t}\n\tif (set.pokeball) {\n\t\tout += `Pokeball: ${set.pokeball}  \\n`;\n\t}\n\tif (set.hpType) {\n\t\tout += `Hidden Power: ${set.hpType}  \\n`;\n\t}\n\tif (typeof set.dynamaxLevel === 'number' && set.dynamaxLevel !== 10 && !isNaN(set.dynamaxLevel)) {\n\t\tout += `Dynamax Level: ${set.dynamaxLevel}  \\n`;\n\t}\n\tif (set.gigantamax) {\n\t\tout += `Gigantamax: Yes  \\n`;\n\t}\n\tif (set.teraType) {\n\t\tout += `Tera Type: ${set.teraType}  \\n`;\n\t}\n\n\t// stats\n\tlet first = true;\n\tif (set.evs) {\n\t\tfor (const stat of Dex.statNames) {\n\t\t\tif (!set.evs[stat]) continue;\n\t\t\tif (first) {\n\t\t\t\tout += `EVs: `;\n\t\t\t\tfirst = false;\n\t\t\t} else {\n\t\t\t\tout += ` / `;\n\t\t\t}\n\t\t\tout += `${set.evs[stat]} ${BattleStatNames[stat]}`;\n\t\t}\n\t}\n\tif (!first) {\n\t\tout += `  \\n`;\n\t}\n\tif (set.nature) {\n\t\tout += `${set.nature} Nature  \\n`;\n\t}\n\tfirst = true;\n\tif (set.ivs) {\n\t\tfor (const stat of Dex.statNames) {\n\t\t\tif (set.ivs[stat] === undefined || isNaN(set.ivs[stat]) || set.ivs[stat] === 31) continue;\n\t\t\tif (first) {\n\t\t\t\tout += `IVs: `;\n\t\t\t\tfirst = false;\n\t\t\t} else {\n\t\t\t\tout += ` / `;\n\t\t\t}\n\t\t\tout += `${set.ivs[stat]} ${BattleStatNames[stat]}`;\n\t\t}\n\t}\n\tif (!first) {\n\t\tout += `  \\n`;\n\t}\n\n\t// moves\n\tfor (let move of set.moves) {\n\t\tif (move.startsWith(`Hidden Power `) && move.charAt(13) !== '[') {\n\t\t\tmove = `Hidden Power [${move.slice(13)}]`;\n\t\t}\n\t\tout += `- ${move}  \\n`;\n\t}\n\n\treturn out;\n}\n\nfunction isOMNickname(nickname?: string) {\n\tif (!nickname) return;\n\t// allow nicknames named after other mons/types/abilities/items - to support those OMs\n\tif (Dex.species.get(nickname).exists) {\n\t\t// I have a Forretress named Cathy and having it renamed to Trevenant (Forretress) is annoying\n\t\tif (toID(nickname) === 'cathy') return 'cathy';\n\t\treturn Dex.species.get(nickname).name;\n\t} else if (Dex.items.get(nickname).exists) {\n\t\treturn Dex.items.get(nickname).name;\n\t} else if (Dex.abilities.get(nickname).exists) {\n\t\treturn Dex.abilities.get(nickname).name;\n\t} else if (Dex.types.get(nickname).exists) {\n\t\treturn Dex.types.get(nickname).name;\n\t}\n}\n\nfunction PokemonSet({ set }: { set: Dex.PokemonSet }) {\n\tconst omName = isOMNickname(set.name);\n\treturn <article class=\"psset\">\n\t\t{omName && omName !== set.species ? <>{omName} ({set.species})</> : <>{set.species}</>}\n\t\t{set.gender ? <> ({set.gender})</> : <></>}\n\t\t{set.item ? <> @ {set.item} </> : <></>}\n\t\t<br />\n\t\t{set.ability ? <>Ability: {set.ability}<br /></> : <></>}\n\t\t{set.level && set.level !== 100 ? <>Level: {set.level}<br /></> : <></>}\n\t\t{set.shiny ? <>Shiny: Yes<br /></> : <></>}\n\t\t{set.teraType ? <>Tera Type: {set.teraType}<br /></> : <></>}\n\n\t\t{set.evs ? <>{Dex.statNames.filter(stat => set.evs![stat]).map((stat, index, arr) => (\n\t\t\t<>\n\t\t\t\t{index === 0 ? 'EVs: ' : ''}\n\t\t\t\t{set.evs![stat]} {BattleStatNames[stat]}\n\t\t\t\t{index !== (arr.length - 1) ? ' / ' : ''}\n\t\t\t</>\n\t\t))}<br /></> : <></>}\n\n\t\t{set.nature ? <>{set.nature} Nature<br /></> : <></>}\n\n\t\t{set.ivs ? <>{Dex.statNames\n\t\t\t.filter(stat => !(set.ivs![stat] === undefined || isNaN(set.ivs![stat]) || set.ivs![stat] === 31))\n\t\t\t.map((stat, index, arr) =>\n\t\t\t\t<>\n\t\t\t\t\t{index === 0 ? 'IVs: ' : ''}\n\t\t\t\t\t{set.ivs![stat]} {BattleStatNames[stat]}\n\t\t\t\t\t{index !== (arr.length - 1) ? ' / ' : ''}\n\t\t\t\t</>\n\t\t\t)}<br /></> : <></>}\n\n\t\t{set.moves ? set.moves.map(move => {\n\t\t\tif (move.substr(0, 13) === 'Hidden Power ') {\n\t\t\t\tconst hpType = move.slice(13);\n\t\t\t\tmove = move.slice(0, 13);\n\t\t\t\tmove = `${move}[${hpType}]`;\n\t\t\t}\n\t\t\t// hide the alt so it doesn't interfere w/ copy/pasting\n\t\t\treturn <>- {move} <PSIcon type={Dex.moves.get(move).type} hideAlt /><br /></>;\n\t\t}) : <></>}\n\n\t\t{typeof set.happiness === 'number' && set.happiness !== 255 && !isNaN(set.happiness) ?\n\t\t\t<>Happiness: {set.happiness}<br /></> :\n\t\t\t<></>}\n\t\t{typeof set.dynamaxLevel === 'number' && set.dynamaxLevel !== 10 && !isNaN(set.dynamaxLevel) ?\n\t\t\t<>Dynamax Level: {set.dynamaxLevel}<br /></> :\n\t\t\t<></>}\n\t\t{set.gigantamax ? <>Gigantamax: Yes<br /></> : <></>}\n\t</article>;\n}\n\nclass SetBlock extends preact.Component<{\n\tset: Dex.PokemonSet, gen: number, mode?: string | null,\n}> {\n\trender() {\n\t\tconst set = this.props.set;\n\t\tconst gen = this.props.gen || (Dex.prefs('noanim') ? 5 : 6);\n\t\tconst spriteData = Dex.getSpriteData(\n\t\t\tDex.species.get(set.species),\n\t\t\ttrue,\n\t\t\t{ gen, shiny: set.shiny, gender: set.gender as 'F' }\n\t\t);\n\t\tlet forceResize = 110;\n\t\tif (matchMedia(\"(max-width: 450px)\").matches && this.props.mode === '2col') {\n\t\t\tforceResize = 55;\n\t\t}\n\t\tif (spriteData.w > forceResize) {\n\t\t\tconst w = spriteData.w;\n\t\t\tspriteData.w *= (forceResize / w);\n\t\t\tspriteData.h *= (forceResize / w);\n\t\t}\n\t\treturn <div>\n\t\t\t<div style={{ flex: '0 0 20%', width: 'auto', pad: '3px' }}>\n\t\t\t\t<img\n\t\t\t\t\tsrc={spriteData.url}\n\t\t\t\t\twidth={spriteData.w}\n\t\t\t\t\theight={spriteData.h}\n\t\t\t\t/>\n\t\t\t\t{set.item ? <PSIcon item={set.item} /> : <></>}\n\t\t\t</div>\n\t\t\t<div style={{ flex: \"0 0 80%\", textAlign: 'left' }}>\n\t\t\t\t<PokemonSet set={set} />\n\t\t\t</div>\n\t\t</div>;\n\t}\n}\n\nexport class TeamViewer extends preact.Component<PageProps> {\n\tid: string;\n\tpw?: string;\n\toverride state = {\n\t\tteam: undefined as null | void | Team,\n\t\terror: undefined as string | undefined,\n\t\tcopyButtonMsg: false as boolean,\n\t\tdisplayMode: localStorage.getItem('teamdisplaymode') || null,\n\t\tspriteGen: Number(localStorage.getItem('spritegen')) || 6,\n\t\tmanageOpen: false,\n\t\tchangesMade: false,\n\t\tteamEdits: null as { format?: string, private?: number } | null,\n\t\teditError: null as null | string,\n\t\tcopied: null as null | string,\n\t\tcopyError: null as null | string,\n\t};\n\tconstructor(props: PageProps) {\n\t\tsuper(props);\n\t\tthis.id = props.args.id;\n\n\t\tthis.checkTeamID();\n\t\tif (this.state.displayMode === 'default') {\n\t\t\tthis.state.displayMode = '1col';\n\t\t\tlocalStorage.setItem('teamdisplaymode', this.state.displayMode);\n\t\t}\n\t}\n\trender() {\n\t\tif (this.state.error) {\n\t\t\treturn <div class=\"message-error\">{this.state.error}</div>;\n\t\t}\n\t\tif (!this.state.team) {\n\t\t\treturn <div class=\"section\" style={{ textAlign: 'center' }}>{\n\t\t\t\ttypeof this.state.team === 'undefined' ?\n\t\t\t\t\t'Loading...' :\n\t\t\t\t\t<>\n\t\t\t\t\t\t<h2 class=\"message-error\">Team not found.</h2><br />\n\t\t\t\t\t\t<em>Either it doesn't exist or it's password protected. Check the link?</em>\n\t\t\t\t\t</>\n\t\t\t}</div>;\n\t\t}\n\t\tconst { team, title, ownerid, format, views } = this.state.team;\n\t\tconst teamData = unpackTeam(team);\n\t\tconst modeName = (this.state.displayMode?.charAt(0) || '1') + '-column';\n\t\tconst mode = MODES[this.state.displayMode || '1col'];\n\n\t\tconst isDark = document.querySelector('html')?.classList[0] === 'dark';\n\t\tconst link = this.id + (this.state.team.private ? `-${this.state.team.private}` : '');\n\t\tconst loggedin = toID(getShowdownUsername());\n\t\tconst manageClass = this.state.manageOpen ? `button notifying` : `button`;\n\n\t\treturn <div class=\"section\" style={{ wordWrap: 'break-word' }}>\n\t\t\t<div name=\"header\" className=\"noselect\">\n\t\t\t\t<small><a href={'//' + Config.routes.teams}><i class=\"fa fa-arrow-left\"></i></a></small>\n\t\t\t\t<h1>{title}</h1>\n\t\t\t\tOwner: <strong style={{ color: BattleLog.usernameColor(ownerid as any) }}>{ownerid}</strong><br />\n\t\t\t\tFormat: {format}<br />\n\t\t\t\tViews: {views}<br />\n\t\t\t\t<label>Shortlink: </label><a href={`https://psim.us/t/${link}`}>https://psim.us/t/{link}</a><br />\n\t\t\t\t<hr />\n\t\t\t\t<div name=\"manage\" style={{ display: 'flex', gap: '5px' }}>\n\t\t\t\t\t{loggedin === this.state.team.ownerid ?\n\t\t\t\t\t\t<button class={manageClass} onClick={() => this.changeManage()}>Manage</button> :\n\t\t\t\t\t\tloggedin && <button class=\"button\" onClick={() => this.copyToBuilder()}>Copy to builder</button>}\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"button\"\n\t\t\t\t\t\tdisabled={!this.state.team || this.state.copyButtonMsg}\n\t\t\t\t\t\tonClick={() => this.copyTeam()}\n\t\t\t\t\t>{this.state.copyButtonMsg ? 'Copied!' : 'Copy team'}</button>\n\t\t\t\t\t<button class=\"button\" onClick={() => this.changeDisplayMode()}>Display: {modeName}</button>\n\t\t\t\t\t<button class=\"button\" onClick={() => this.changeColorMode()}>Use {isDark ? 'light' : 'dark'} mode</button>\n\t\t\t\t\t<select\n\t\t\t\t\t\tonChange={ev => this.changeSpriteGen(ev)}\n\t\t\t\t\t\tvalue={this.state.spriteGen}\n\t\t\t\t\t\tclass=\"button\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{[1, 2, 3, 4, 5, 6].map(num => <option value={num}>Gen {num} Sprites</option>)}\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t\t<hr />\n\t\t\t\t{this.state.editError && <>\n\t\t\t\t\t<div class=\"message-error\">{this.state.editError}</div>\n\t\t\t\t\t<hr />\n\t\t\t\t</>}\n\t\t\t\t{this.state.copied && <>\n\t\t\t\t\t<br />Copied to your teambuilder! <a href={`/view/${this.state.copied}`}>View</a><hr />\n\t\t\t\t</>}\n\t\t\t\t{this.state.copyError && <>\n\t\t\t\t\t<br /><div className=\"message-error\">Error copying team: {this.state.copyError}</div><hr />\n\t\t\t\t</>}\n\t\t\t\t{this.state.manageOpen && <>\n\t\t\t\t\t<label>Team visibility: </label>\n\t\t\t\t\t<select\n\t\t\t\t\t\tclass=\"button\"\n\t\t\t\t\t\tvalue={this.state.teamEdits?.private || this.state.team.private ? 1 : 0}\n\t\t\t\t\t\tonChange={ev => this.editTeamValue('private', ev)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{[1, 0].map(n => <option value={n}>{n ? 'private' : 'public'}</option>)}\n\t\t\t\t\t</select><br />\n\t\t\t\t\t<label>Team format: </label><input onInput={ev => this.editTeamValue('format', ev)} />\n\t\t\t\t\t{this.state.changesMade && <>\n\t\t\t\t\t\t<br /><button class=\"button notifying\" onClick={() => this.commitEdit()}>Save changes</button>\n\t\t\t\t\t</>}\n\t\t\t\t\t<br />\n\t\t\t\t\t<button class=\"button\" onClick={() => this.runDelete()}>Delete team</button>\n\t\t\t\t\t<hr />\n\t\t\t\t</>}\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tname=\"sets\"\n\t\t\t\tstyle={{\n\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\talignItems: 'stretch',\n\t\t\t\t\tflexWrap: 'wrap',\n\t\t\t\t\trowGap: '1rem',\n\t\t\t\t\tcolGap: mode.colGap,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{teamData.map(\n\t\t\t\t\tset => (\n\t\t\t\t\t\t<div style={{ flex: `0 0 ${mode.width}%` }}>\n\t\t\t\t\t\t\t<span style={{ display: 'flex' }}>\n\t\t\t\t\t\t\t\t<SetBlock set={set} gen={this.state.spriteGen} mode={this.state.displayMode} />\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>;\n\t}\n\tcheckTeamID() {\n\t\tif (this.id.includes('-')) {\n\t\t\t[this.id, this.pw] = this.id.split('-');\n\t\t}\n\t\tif (!/^\\d+$/.test(this.id)) {\n\t\t\tthis.setState({ error: \"Invalid team ID: \" + JSON.stringify(this.props.args) });\n\t\t\treturn;\n\t\t}\n\t\tthis.loadTeamData();\n\t}\n\n\tchangeManage() {\n\t\tthis.setState({ manageOpen: !this.state.manageOpen });\n\t}\n\n\tchangeSpriteGen(event: any) {\n\t\tlocalStorage.setItem('spritegen', `${event.target.value}`);\n\t\tthis.setState({ spriteGen: event.target.value });\n\t}\n\n\tchangeDisplayMode() {\n\t\tconst keys = Object.keys(MODES);\n\t\tlet next = keys.indexOf(this.state.displayMode || '1col') + 1;\n\t\tif (!keys[next]) {\n\t\t\tnext = 0;\n\t\t}\n\t\tthis.state.displayMode = keys[next];\n\t\tlocalStorage.setItem('teamdisplaymode', this.state.displayMode);\n\t\tthis.setState({ displayMode: this.state.displayMode });\n\t}\n\n\tchangeColorMode() {\n\t\tconst classList = document.querySelector('html')?.classList;\n\t\tconst isDark = classList?.[0] === 'dark';\n\t\tif (isDark) {\n\t\t\tclassList.remove('dark');\n\t\t\tlocalStorage.removeItem('darkmode');\n\t\t} else {\n\t\t\tclassList?.add('dark');\n\t\t\tlocalStorage.setItem('darkmode', 'true');\n\t\t}\n\t\t// not something we keep in elem state but... still gotta poke it to update\n\t\tthis.forceUpdate();\n\t}\n\n\tloadTeamData() {\n\t\tvoid query('getteam', { query: { teamid: this.id, password: this.pw, full: 1 } }).then(result => {\n\t\t\tif (result.actionerror) {\n\t\t\t\tthis.setState({ error: result.actionerror });\n\t\t\t} else {\n\t\t\t\tthis.setState({ team: result.team === null ? result.team : result });\n\t\t\t}\n\t\t}).catch(e => {\n\t\t\tthis.setState({ error: `HTTP${e.code}: ${e.message}` });\n\t\t});\n\t}\n\n\trunDelete() {\n\t\tconst conf = toID(prompt(\"Do you really want to delete this team? Type 'yes' to confirm.\"));\n\t\tif (conf !== 'yes') {\n\t\t\treturn;\n\t\t}\n\t\tvoid query('deleteteam', { query: { teamid: this.id } }).then(result => {\n\t\t\tif (result.actionerror) {\n\t\t\t\talert(`Error deleting team: ${result.actionerror}`);\n\t\t\t} else {\n\t\t\t\talert(\n\t\t\t\t\tresult.success ?\n\t\t\t\t\t\t`Team successfully deleted.` :\n\t\t\t\t\t\t`Error while deleting team. Please try again later.`\n\t\t\t\t);\n\t\t\t\tif (result.success) {\n\t\t\t\t\tlocation.replace('../');\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tcopyTeam() {\n\t\tif (!this.state.team) return;\n\t\tconst team = unpackTeam(this.state.team.team);\n\t\tnavigator.clipboard.writeText(team.map(exportSet).join('\\n'));\n\t\tthis.setState({ copyButtonMsg: true });\n\t\tsetTimeout(() => {\n\t\t\tthis.setState({ copyButtonMsg: false });\n\t\t}, 1000);\n\t}\n\n\tcopyToBuilder() {\n\t\tvoid query('copyteam', { query: { teamid: this.id, pw: this.pw } }).then(result => {\n\t\t\tif (result.actionerror) {\n\t\t\t\tthis.setState({ copyError: result.actionerror, copied: null });\n\t\t\t} else {\n\t\t\t\tthis.setState({ copied: result.teamid, copyError: null });\n\t\t\t}\n\t\t});\n\t}\n\n\teditTeamValue(val: 'format' | 'private', { currentTarget }: any) {\n\t\t(this.state.teamEdits ||= {})[val] = currentTarget.value;\n\t\tlet changes;\n\t\tif (val === 'format') {\n\t\t\tlet format = toID(currentTarget.value);\n\t\t\tformat = toID(BattleAliases[format]) || format;\n\t\t\tif (!/^gen\\d+/.test(format)) {\n\t\t\t\tformat = `gen9${format}`;\n\t\t\t}\n\t\t\tchanges = changes || format !== this.state.team?.format;\n\t\t} else if (val === 'private') {\n\t\t\tchanges = changes || currentTarget.value !== this.state.team?.private;\n\t\t}\n\t\tthis.setState({\n\t\t\tteamEdits: this.state.teamEdits,\n\t\t\tchangesMade: changes,\n\t\t});\n\t}\n\n\tcommitEdit() {\n\t\tif (!this.state.changesMade || !this.state.team) return;\n\t\tvoid query('editteam', {\n\t\t\tquery: { teamid: this.id, ...this.state.teamEdits },\n\t\t}).then(resultText => {\n\t\t\tif (resultText.startsWith(']')) resultText = resultText.slice(1);\n\t\t\tlet result;\n\t\t\ttry {\n\t\t\t\tresult = JSON.parse(resultText);\n\t\t\t} catch {\n\t\t\t\tresult = { actionerror: \"Malformed response received. Try again later.\" };\n\t\t\t}\n\t\t\tif (result.team.private !== this.state.team?.private) {\n\t\t\t\thistory.pushState({}, '', new URL(\n\t\t\t\t\tlocation.href.split(this.id)[0] + this.id +\n\t\t\t\t\t(result.team.private ? `-${result.team.private}` : '')\n\t\t\t\t));\n\t\t\t}\n\t\t\tif (result.actionerror) {\n\t\t\t\tthis.setState({ editError: result.actionerror, changesMade: false, teamEdits: null });\n\t\t\t} else {\n\t\t\t\tthis.setState({ team: result.team, changesMade: false, teamEdits: null });\n\t\t\t}\n\t\t});\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;AAaA,GAAM,CAAAA,KAAwD,CAAG;AAChE,MAAM,CAAE,CAAEC,KAAK,CAAE,GAAG,CAAEC,MAAM,CAAE,EAAG,CAAC;AAClC,MAAM,CAAE,CAAED,KAAK,CAAE,EAAE,CAAEC,MAAM,CAAE,MAAO,CAAC;AACrC,MAAM,CAAE,CAAED,KAAK,CAAE,EAAE,CAAEC,MAAM,CAAE,MAAO;AACrC,CAAC;;;;;;;;;;;;AAYD,QAAS,CAAAC,SAASA,CAACC,GAAmB,CAAE;AACvC,GAAI,CAAAC,GAAG,GAAK;;;AAGZ,GAAID,GAAG,CAACE,IAAI,EAAIF,GAAG,CAACE,IAAI,GAAKF,GAAG,CAACG,OAAO,CAAE;AACzCF,GAAG,EAAOD,GAAG,CAACE,IAAI,MAAKF,GAAG,CAACG,OAAO,IAAG;AACtC,CAAC,IAAM;AACNF,GAAG,EAAID,GAAG,CAACG,OAAO;AACnB;AACA,GAAIH,GAAG,CAACI,MAAM,GAAK,GAAG,CAAEH,GAAG,QAAU;AACrC,GAAID,GAAG,CAACI,MAAM,GAAK,GAAG,CAAEH,GAAG,QAAU;AACrC,GAAID,GAAG,CAACK,IAAI,CAAEJ,GAAG,QAAUD,GAAG,CAACK,IAAM;AACrCJ,GAAG,QAAU;;AAEb,GAAID,GAAG,CAACM,OAAO,CAAE;AAChBL,GAAG,cAAgBD,GAAG,CAACM,OAAO,OAAM;AACrC;;;AAGA,GAAIN,GAAG,CAACO,KAAK,EAAIP,GAAG,CAACO,KAAK,GAAK,GAAG,CAAE;AACnCN,GAAG,YAAcD,GAAG,CAACO,KAAK,OAAM;AACjC;AACA,GAAIP,GAAG,CAACQ,KAAK,CAAE;AACdP,GAAG,kBAAoB;AACxB;AACA,GAAI,MAAO,CAAAD,GAAG,CAACS,SAAS,GAAK,QAAQ,EAAIT,GAAG,CAACS,SAAS,GAAK,GAAG,EAAI,CAACC,KAAK,CAACV,GAAG,CAACS,SAAS,CAAC,CAAE;AACxFR,GAAG,gBAAkBD,GAAG,CAACS,SAAS,OAAM;AACzC;AACA,GAAIT,GAAG,CAACW,QAAQ,CAAE;AACjBV,GAAG,eAAiBD,GAAG,CAACW,QAAQ,OAAM;AACvC;AACA,GAAIX,GAAG,CAACY,MAAM,CAAE;AACfX,GAAG,mBAAqBD,GAAG,CAACY,MAAM,OAAM;AACzC;AACA,GAAI,MAAO,CAAAZ,GAAG,CAACa,YAAY,GAAK,QAAQ,EAAIb,GAAG,CAACa,YAAY,GAAK,EAAE,EAAI,CAACH,KAAK,CAACV,GAAG,CAACa,YAAY,CAAC,CAAE;AAChGZ,GAAG,oBAAsBD,GAAG,CAACa,YAAY,OAAM;AAChD;AACA,GAAIb,GAAG,CAACc,UAAU,CAAE;AACnBb,GAAG,uBAAyB;AAC7B;AACA,GAAID,GAAG,CAACe,QAAQ,CAAE;AACjBd,GAAG,gBAAkBD,GAAG,CAACe,QAAQ,OAAM;AACxC;;;AAGA,GAAI,CAAAC,KAAK,CAAG,IAAI;AAChB,GAAIhB,GAAG,CAACiB,GAAG,CAAE,SAAAC,GAAA,GAAAC,eAAA;AACOC,GAAG,CAACC,SAAS,CAAAH,GAAA,CAAAC,eAAA,CAAAG,MAAA,CAAAJ,GAAA,GAAE,CAA7B,GAAM,CAAAK,IAAI,CAAAJ,eAAA,CAAAD,GAAA;AACd,GAAI,CAAClB,GAAG,CAACiB,GAAG,CAACM,IAAI,CAAC,CAAE;AACpB,GAAIP,KAAK,CAAE;AACVf,GAAG,SAAW;AACde,KAAK,CAAG,KAAK;AACd,CAAC,IAAM;AACNf,GAAG,OAAS;AACb;AACAA,GAAG,EAAOD,GAAG,CAACiB,GAAG,CAACM,IAAI,CAAC,KAAIC,eAAe,CAACD,IAAI,CAAG;AACnD;AACD;AACA,GAAI,CAACP,KAAK,CAAE;AACXf,GAAG,QAAU;AACd;AACA,GAAID,GAAG,CAACyB,MAAM,CAAE;AACfxB,GAAG,EAAOD,GAAG,CAACyB,MAAM,cAAa;AAClC;AACAT,KAAK,CAAG,IAAI;AACZ,GAAIhB,GAAG,CAAC0B,GAAG,CAAE,SAAAC,GAAA,GAAAC,eAAA;AACOR,GAAG,CAACC,SAAS,CAAAM,GAAA,CAAAC,eAAA,CAAAN,MAAA,CAAAK,GAAA,GAAE,CAA7B,GAAM,CAAAJ,KAAI,CAAAK,eAAA,CAAAD,GAAA;AACd,GAAI3B,GAAG,CAAC0B,GAAG,CAACH,KAAI,CAAC,GAAKM,SAAS,EAAInB,KAAK,CAACV,GAAG,CAAC0B,GAAG,CAACH,KAAI,CAAC,CAAC,EAAIvB,GAAG,CAAC0B,GAAG,CAACH,KAAI,CAAC,GAAK,EAAE,CAAE;AACjF,GAAIP,KAAK,CAAE;AACVf,GAAG,SAAW;AACde,KAAK,CAAG,KAAK;AACd,CAAC,IAAM;AACNf,GAAG,OAAS;AACb;AACAA,GAAG,EAAOD,GAAG,CAAC0B,GAAG,CAACH,KAAI,CAAC,KAAIC,eAAe,CAACD,KAAI,CAAG;AACnD;AACD;AACA,GAAI,CAACP,KAAK,CAAE;AACXf,GAAG,QAAU;AACd,CAAC,QAAA6B,GAAA,GAAAC,WAAA;;;AAGgB/B,GAAG,CAACgC,KAAK,CAAAF,GAAA,CAAAC,WAAA,CAAAT,MAAA,CAAAQ,GAAA,GAAE,CAAvB,GAAI,CAAAG,IAAI,CAAAF,WAAA,CAAAD,GAAA;AACZ,GAAIG,IAAI,CAACC,UAAU,gBAAgB,CAAC,EAAID,IAAI,CAACE,MAAM,CAAC,EAAE,CAAC,GAAK,GAAG,CAAE;AAChEF,IAAI,kBAAoBA,IAAI,CAACG,KAAK,CAAC,EAAE,CAAC,IAAG;AAC1C;AACAnC,GAAG,OAASgC,IAAI,OAAM;AACvB;;AAEA,MAAO,CAAAhC,GAAG;AACX;;AAEA,QAAS,CAAAoC,YAAYA,CAACC,QAAiB,CAAE;AACxC,GAAI,CAACA,QAAQ,CAAE;;AAEf,GAAIlB,GAAG,CAACjB,OAAO,CAACoC,GAAG,CAACD,QAAQ,CAAC,CAACE,MAAM,CAAE;;AAErC,GAAIC,IAAI,CAACH,QAAQ,CAAC,GAAK,OAAO,CAAE,MAAO,OAAO;AAC9C,MAAO,CAAAlB,GAAG,CAACjB,OAAO,CAACoC,GAAG,CAACD,QAAQ,CAAC,CAACpC,IAAI;AACtC,CAAC,IAAM,IAAIkB,GAAG,CAACsB,KAAK,CAACH,GAAG,CAACD,QAAQ,CAAC,CAACE,MAAM,CAAE;AAC1C,MAAO,CAAApB,GAAG,CAACsB,KAAK,CAACH,GAAG,CAACD,QAAQ,CAAC,CAACpC,IAAI;AACpC,CAAC,IAAM,IAAIkB,GAAG,CAACuB,SAAS,CAACJ,GAAG,CAACD,QAAQ,CAAC,CAACE,MAAM,CAAE;AAC9C,MAAO,CAAApB,GAAG,CAACuB,SAAS,CAACJ,GAAG,CAACD,QAAQ,CAAC,CAACpC,IAAI;AACxC,CAAC,IAAM,IAAIkB,GAAG,CAACwB,KAAK,CAACL,GAAG,CAACD,QAAQ,CAAC,CAACE,MAAM,CAAE;AAC1C,MAAO,CAAApB,GAAG,CAACwB,KAAK,CAACL,GAAG,CAACD,QAAQ,CAAC,CAACpC,IAAI;AACpC;AACD;;AAEA,QAAS,CAAA2C,UAAUA,CAAAC,IAAA,CAAmC,IAAhC,CAAA9C,GAAG,CAAA8C,IAAA,CAAH9C,GAAG;AACxB,GAAM,CAAA+C,MAAM,CAAGV,YAAY,CAACrC,GAAG,CAACE,IAAI,CAAC;AACrC,MAAO,CAAA8C,MAAA,CAAAC,CAAA,YAAS,QAAM,OAAO;AAC3BF,MAAM,EAAIA,MAAM,GAAK/C,GAAG,CAACG,OAAO,CAAG6C,MAAA,CAAAC,CAAA,CAAAD,MAAA,CAAAE,QAAA,MAAGH,MAAM,CAAC,IAAE,CAAC/C,GAAG,CAACG,OAAO,CAAC,GAAG,CAAC,CAAG6C,MAAA,CAAAC,CAAA,CAAAD,MAAA,CAAAE,QAAA,MAAGlD,GAAG,CAACG,OAAU,CAAC;AACrFH,GAAG,CAACI,MAAM,CAAG4C,MAAA,CAAAC,CAAA,CAAAD,MAAA,CAAAE,QAAA,MAAE,IAAE,CAAClD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAAG4C,MAAA,CAAAC,CAAA,CAAAD,MAAA,CAAAE,QAAA,KAAI,CAAC;AACzClD,GAAG,CAACK,IAAI,CAAG2C,MAAA,CAAAC,CAAA,CAAAD,MAAA,CAAAE,QAAA,MAAE,KAAG,CAAClD,GAAG,CAACK,IAAI,CAAC,GAAG,CAAC,CAAG2C,MAAA,CAAAC,CAAA,CAAAD,MAAA,CAAAE,QAAA,KAAI,CAAC;AACvCF,MAAA,CAAAC,CAAA,UAAK,CAAC;AACLjD,GAAG,CAACM,OAAO,CAAG0C,MAAA,CAAAC,CAAA,CAAAD,MAAA,CAAAE,QAAA,MAAE,WAAS,CAAClD,GAAG,CAACM,OAAO,CAAC0C,MAAA,CAAAC,CAAA,UAAK,CAAG,CAAC,CAAGD,MAAA,CAAAC,CAAA,CAAAD,MAAA,CAAAE,QAAA,KAAI,CAAC;AACvDlD,GAAG,CAACO,KAAK,EAAIP,GAAG,CAACO,KAAK,GAAK,GAAG,CAAGyC,MAAA,CAAAC,CAAA,CAAAD,MAAA,CAAAE,QAAA,MAAE,SAAO,CAAClD,GAAG,CAACO,KAAK,CAACyC,MAAA,CAAAC,CAAA,UAAK,CAAG,CAAC,CAAGD,MAAA,CAAAC,CAAA,CAAAD,MAAA,CAAAE,QAAA,KAAI,CAAC;AACtElD,GAAG,CAACQ,KAAK,CAAGwC,MAAA,CAAAC,CAAA,CAAAD,MAAA,CAAAE,QAAA,MAAE,YAAU,CAAAF,MAAA,CAAAC,CAAA,UAAK,CAAG,CAAC,CAAGD,MAAA,CAAAC,CAAA,CAAAD,MAAA,CAAAE,QAAA,KAAI,CAAC;AACzClD,GAAG,CAACe,QAAQ,CAAGiC,MAAA,CAAAC,CAAA,CAAAD,MAAA,CAAAE,QAAA,MAAE,aAAW,CAAClD,GAAG,CAACe,QAAQ,CAACiC,MAAA,CAAAC,CAAA,UAAK,CAAG,CAAC,CAAGD,MAAA,CAAAC,CAAA,CAAAD,MAAA,CAAAE,QAAA,KAAI,CAAC;;AAE3DlD,GAAG,CAACiB,GAAG,CAAG+B,MAAA,CAAAC,CAAA,CAAAD,MAAA,CAAAE,QAAA,MAAG9B,GAAG,CAACC,SAAS,CAAC8B,MAAM,CAAC,SAAA5B,IAAI,QAAI,CAAAvB,GAAG,CAACiB,GAAG,CAAEM,IAAI,CAAC,GAAC,CAAC6B,GAAG,CAAC,SAAC7B,IAAI,CAAE8B,KAAK,CAAEC,GAAG;AAC/EN,MAAA,CAAAC,CAAA,CAAAD,MAAA,CAAAE,QAAA;AACEG,KAAK,GAAK,CAAC,CAAG,OAAO,CAAG,EAAE;AAC1BrD,GAAG,CAACiB,GAAG,CAAEM,IAAI,CAAC,CAAC,GAAC,CAACC,eAAe,CAACD,IAAI,CAAC;AACtC8B,KAAK,GAAMC,GAAG,CAAChC,MAAM,CAAG,CAAE,CAAG,KAAK,CAAG;AACrC,CAAC;AACH,CAAC,CAAC0B,MAAA,CAAAC,CAAA,UAAK,CAAG,CAAC,CAAGD,MAAA,CAAAC,CAAA,CAAAD,MAAA,CAAAE,QAAA,KAAI,CAAC;;AAEnBlD,GAAG,CAACyB,MAAM,CAAGuB,MAAA,CAAAC,CAAA,CAAAD,MAAA,CAAAE,QAAA,MAAGlD,GAAG,CAACyB,MAAM,CAAC,SAAO,CAAAuB,MAAA,CAAAC,CAAA,UAAK,CAAG,CAAC,CAAGD,MAAA,CAAAC,CAAA,CAAAD,MAAA,CAAAE,QAAA,KAAI,CAAC;;AAEnDlD,GAAG,CAAC0B,GAAG,CAAGsB,MAAA,CAAAC,CAAA,CAAAD,MAAA,CAAAE,QAAA,MAAG9B,GAAG,CAACC,SAAS;AACzB8B,MAAM,CAAC,SAAA5B,IAAI,QAAI,EAAEvB,GAAG,CAAC0B,GAAG,CAAEH,IAAI,CAAC,GAAKM,SAAS,EAAInB,KAAK,CAACV,GAAG,CAAC0B,GAAG,CAAEH,IAAI,CAAC,CAAC,EAAIvB,GAAG,CAAC0B,GAAG,CAAEH,IAAI,CAAC,GAAK,EAAE,CAAC,GAAC;AACjG6B,GAAG,CAAC,SAAC7B,IAAI,CAAE8B,KAAK,CAAEC,GAAG;AACrBN,MAAA,CAAAC,CAAA,CAAAD,MAAA,CAAAE,QAAA;AACEG,KAAK,GAAK,CAAC,CAAG,OAAO,CAAG,EAAE;AAC1BrD,GAAG,CAAC0B,GAAG,CAAEH,IAAI,CAAC,CAAC,GAAC,CAACC,eAAe,CAACD,IAAI,CAAC;AACtC8B,KAAK,GAAMC,GAAG,CAAChC,MAAM,CAAG,CAAE,CAAG,KAAK,CAAG;AACrC,CAAC;AACJ,CAAC,CAAC0B,MAAA,CAAAC,CAAA,UAAK,CAAG,CAAC,CAAGD,MAAA,CAAAC,CAAA,CAAAD,MAAA,CAAAE,QAAA,KAAI,CAAC;;AAEnBlD,GAAG,CAACgC,KAAK,CAAGhC,GAAG,CAACgC,KAAK,CAACoB,GAAG,CAAC,SAAAnB,IAAI,CAAI;AAClC,GAAIA,IAAI,CAACsB,MAAM,CAAC,CAAC,CAAE,EAAE,CAAC,GAAK,eAAe,CAAE;AAC3C,GAAM,CAAA3C,MAAM,CAAGqB,IAAI,CAACG,KAAK,CAAC,EAAE,CAAC;AAC7BH,IAAI,CAAGA,IAAI,CAACG,KAAK,CAAC,CAAC,CAAE,EAAE,CAAC;AACxBH,IAAI,CAAMA,IAAI,KAAIrB,MAAM,IAAG;AAC5B;;AAEA,MAAO,CAAAoC,MAAA,CAAAC,CAAA,CAAAD,MAAA,CAAAE,QAAA,MAAE,IAAE,CAACjB,IAAI,CAAC,GAAC,CAAAe,MAAA,CAAAC,CAAA,CAACO,MAAM,EAACC,IAAI,CAAErC,GAAG,CAACY,KAAK,CAACO,GAAG,CAACN,IAAI,CAAC,CAACwB,IAAK,CAACC,OAAO,MAAE,CAAC,CAAAV,MAAA,CAAAC,CAAA,UAAK,CAAG,CAAC;AAC9E,CAAC,CAAC,CAAGD,MAAA,CAAAC,CAAA,CAAAD,MAAA,CAAAE,QAAA,KAAI,CAAC;;AAET,MAAO,CAAAlD,GAAG,CAACS,SAAS,GAAK,QAAQ,EAAIT,GAAG,CAACS,SAAS,GAAK,GAAG,EAAI,CAACC,KAAK,CAACV,GAAG,CAACS,SAAS,CAAC;AACnFuC,MAAA,CAAAC,CAAA,CAAAD,MAAA,CAAAE,QAAA,MAAE,aAAW,CAAClD,GAAG,CAACS,SAAS,CAACuC,MAAA,CAAAC,CAAA,UAAK,CAAG,CAAC;AACrCD,MAAA,CAAAC,CAAA,CAAAD,MAAA,CAAAE,QAAA,KAAI,CAAC;AACL,MAAO,CAAAlD,GAAG,CAACa,YAAY,GAAK,QAAQ,EAAIb,GAAG,CAACa,YAAY,GAAK,EAAE,EAAI,CAACH,KAAK,CAACV,GAAG,CAACa,YAAY,CAAC;AAC3FmC,MAAA,CAAAC,CAAA,CAAAD,MAAA,CAAAE,QAAA,MAAE,iBAAe,CAAClD,GAAG,CAACa,YAAY,CAACmC,MAAA,CAAAC,CAAA,UAAK,CAAG,CAAC;AAC5CD,MAAA,CAAAC,CAAA,CAAAD,MAAA,CAAAE,QAAA,KAAI,CAAC;AACLlD,GAAG,CAACc,UAAU,CAAGkC,MAAA,CAAAC,CAAA,CAAAD,MAAA,CAAAE,QAAA,MAAE,iBAAe,CAAAF,MAAA,CAAAC,CAAA,UAAK,CAAG,CAAC,CAAGD,MAAA,CAAAC,CAAA,CAAAD,MAAA,CAAAE,QAAA,KAAI;AAC3C,CAAC;AACX,CAAC;;AAEKS,QAAQ,UAAAC,iBAAA,WAAAD,SAAA,SAAAC,iBAAA,CAAAC,KAAA,MAAAC,SAAA,SAAAC,cAAA,CAAAJ,QAAA,CAAAC,iBAAA,MAAAI,MAAA,CAAAL,QAAA,CAAAM,SAAA,CAAAD,MAAA;;;AAGbE,MAAM,CAAN,SAAAA,MAAMA,CAAA,CAAG;AACR,GAAM,CAAAlE,GAAG,CAAG,IAAI,CAACmE,KAAK,CAACnE,GAAG;AAC1B,GAAM,CAAAoE,GAAG,CAAG,IAAI,CAACD,KAAK,CAACC,GAAG,GAAKhD,GAAG,CAACiD,KAAK,CAAC,QAAQ,CAAC,CAAG,CAAC,CAAG,CAAC,CAAC;AAC3D,GAAM,CAAAC,UAAU,CAAGlD,GAAG,CAACmD,aAAa;AACnCnD,GAAG,CAACjB,OAAO,CAACoC,GAAG,CAACvC,GAAG,CAACG,OAAO,CAAC;AAC5B,IAAI;AACJ,CAAEiE,GAAG,CAAHA,GAAG,CAAE5D,KAAK,CAAER,GAAG,CAACQ,KAAK,CAAEJ,MAAM,CAAEJ,GAAG,CAACI,MAAc;AACpD,CAAC;AACD,GAAI,CAAAoE,WAAW,CAAG,GAAG;AACrB,GAAIC,UAAU,CAAC,oBAAoB,CAAC,CAACC,OAAO,EAAI,IAAI,CAACP,KAAK,CAACQ,IAAI,GAAK,MAAM,CAAE;AAC3EH,WAAW,CAAG,EAAE;AACjB;AACA,GAAIF,UAAU,CAACM,CAAC,CAAGJ,WAAW,CAAE;AAC/B,GAAM,CAAAI,CAAC,CAAGN,UAAU,CAACM,CAAC;AACtBN,UAAU,CAACM,CAAC,EAAKJ,WAAW,CAAGI,CAAE;AACjCN,UAAU,CAACrB,CAAC,EAAKuB,WAAW,CAAGI,CAAE;AAClC;AACA,MAAO,CAAA5B,MAAA,CAAAC,CAAA;AACND,MAAA,CAAAC,CAAA,QAAK4B,KAAK,CAAE,CAAEC,IAAI,CAAE,SAAS,CAAEjF,KAAK,CAAE,MAAM,CAAEkF,GAAG,CAAE,KAAM,CAAE;AAC1D/B,MAAA,CAAAC,CAAA;AACC+B,GAAG,CAAEV,UAAU,CAACW,GAAI;AACpBpF,KAAK,CAAEyE,UAAU,CAACM,CAAE;AACpBM,MAAM,CAAEZ,UAAU,CAACrB,CAAE;AACrB,CAAC;AACDjD,GAAG,CAACK,IAAI,CAAG2C,MAAA,CAAAC,CAAA,CAACO,MAAM,EAACnD,IAAI,CAAEL,GAAG,CAACK,IAAK,CAAE,CAAC,CAAG2C,MAAA,CAAAC,CAAA,CAAAD,MAAA,CAAAE,QAAA,KAAI;AACzC,CAAC;AACNF,MAAA,CAAAC,CAAA,QAAK4B,KAAK,CAAE,CAAEC,IAAI,CAAE,SAAS,CAAEK,SAAS,CAAE,MAAO,CAAE;AAClDnC,MAAA,CAAAC,CAAA,CAACJ,UAAU,EAAC7C,GAAG,CAAEA,GAAI,CAAE;AACnB;AACD,CAAC;AACP,CAAC,QAAA2D,QAAA,GAjCqBX,MAAM,CAACoC,SAAS;;;AAoC1BC,UAAU,UAAAC,kBAAA;;;;;;;;;;;;;;;;AAgBtB,SAAAD,WAAYlB,KAAgB,CAAE,KAAAoB,KAAA;AAC7BA,KAAA,CAAAD,kBAAA,CAAAE,IAAA,MAAMrB,KAAK,CAAC,OAACoB,KAAA,CAhBdE,EAAE,QAAAF,KAAA,CACFG,EAAE,QAAAH,KAAA,CACOI,KAAK,CAAG,CAChBC,IAAI,CAAE/D,SAA+B,CACrCgE,KAAK,CAAEhE,SAA+B,CACtCiE,aAAa,CAAE,KAAgB,CAC/BC,WAAW,CAAEC,YAAY,CAACC,OAAO,CAAC,iBAAiB,CAAC,EAAI,IAAI,CAC5DC,SAAS,CAAEC,MAAM,CAACH,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CAAC,EAAI,CAAC,CACzDG,UAAU,CAAE,KAAK,CACjBC,WAAW,CAAE,KAAK,CAClBC,SAAS,CAAE,IAAoD,CAC/DC,SAAS,CAAE,IAAqB,CAChCC,MAAM,CAAE,IAAqB,CAC7BC,SAAS,CAAE,IACZ,CAAC;AAGAlB,KAAA,CAAKE,EAAE,CAAGtB,KAAK,CAACuC,IAAI,CAACjB,EAAE;;AAEvBF,KAAA,CAAKoB,WAAW,CAAC,CAAC;AAClB,GAAIpB,KAAA,CAAKI,KAAK,CAACI,WAAW,GAAK,SAAS,CAAE;AACzCR,KAAA,CAAKI,KAAK,CAACI,WAAW,CAAG,MAAM;AAC/BC,YAAY,CAACY,OAAO,CAAC,iBAAiB,CAAErB,KAAA,CAAKI,KAAK,CAACI,WAAW,CAAC;AAChE,CAAC,OAAAR,KAAA;AACF,CAACxB,cAAA,CAAAsB,UAAA,CAAAC,kBAAA,MAAAuB,OAAA,CAAAxB,UAAA,CAAApB,SAAA,CAAA4C,OAAA;AACD3C,MAAM,CAAN,SAAAA,MAAMA,CAAA,CAAG,KAAA4C,qBAAA,CAAAC,qBAAA,CAAAC,MAAA,MAAAC,qBAAA;AACR,GAAI,IAAI,CAACtB,KAAK,CAACE,KAAK,CAAE;AACrB,MAAO,CAAA7C,MAAA,CAAAC,CAAA,QAAK,QAAM,eAAe,EAAE,IAAI,CAAC0C,KAAK,CAACE,KAAW,CAAC;AAC3D;AACA,GAAI,CAAC,IAAI,CAACF,KAAK,CAACC,IAAI,CAAE;AACrB,MAAO,CAAA5C,MAAA,CAAAC,CAAA,QAAK,QAAM,SAAS,CAAC4B,KAAK,CAAE,CAAEM,SAAS,CAAE,QAAS,CAAE;AAC1D,MAAO,KAAI,CAACQ,KAAK,CAACC,IAAI,GAAK,WAAW;AACrC,YAAY;AACZ5C,MAAA,CAAAC,CAAA,CAAAD,MAAA,CAAAE,QAAA;AACCF,MAAA,CAAAC,CAAA,OAAI,QAAM,eAAe,EAAC,iBAAmB,CAAC,CAAAD,MAAA,CAAAC,CAAA,UAAK,CAAC;AACpDD,MAAA,CAAAC,CAAA,WAAI,qEAAuE;AAC1E;AACE,CAAC;AACR;AACA,IAAAiE,gBAAA,CAAgD,IAAI,CAACvB,KAAK,CAACC,IAAI,CAAvDA,IAAI,CAAAsB,gBAAA,CAAJtB,IAAI,CAAEuB,KAAK,CAAAD,gBAAA,CAALC,KAAK,CAAEC,OAAO,CAAAF,gBAAA,CAAPE,OAAO,CAAEC,MAAM,CAAAH,gBAAA,CAANG,MAAM,CAAEC,KAAK,CAAAJ,gBAAA,CAALI,KAAK;AAC3C,GAAM,CAAAC,QAAQ,CAAGC,UAAU,CAAC5B,IAAI,CAAC;AACjC,GAAM,CAAA6B,QAAQ,CAAG,CAAC,EAAAX,qBAAA,KAAI,CAACnB,KAAK,CAACI,WAAW,eAAtBe,qBAAA,CAAwB3E,MAAM,CAAC,CAAC,CAAC,GAAI,GAAG,EAAI,SAAS;AACvE,GAAM,CAAAwC,IAAI,CAAG/E,KAAK,CAAC,IAAI,CAAC+F,KAAK,CAACI,WAAW,EAAI,MAAM,CAAC;;AAEpD,GAAM,CAAA2B,MAAM,CAAG,EAAAX,qBAAA,CAAAY,QAAQ,CAACC,aAAa,CAAC,MAAM,CAAC,eAA9Bb,qBAAA,CAAgCc,SAAS,CAAC,CAAC,CAAC,IAAK,MAAM;AACtE,GAAM,CAAAC,IAAI,CAAG,IAAI,CAACrC,EAAE,EAAI,IAAI,CAACE,KAAK,CAACC,IAAI,WAAQ,KAAO,IAAI,CAACD,KAAK,CAACC,IAAI,WAAQ,CAAK,EAAE,CAAC;AACrF,GAAM,CAAAmC,QAAQ,CAAGtF,IAAI,CAACuF,mBAAmB,CAAC,CAAC,CAAC;AAC5C,GAAM,CAAAC,WAAW,CAAG,IAAI,CAACtC,KAAK,CAACS,UAAU,4BAAgC;;AAEzE,MAAO,CAAApD,MAAA,CAAAC,CAAA,QAAK,QAAM,SAAS,CAAC4B,KAAK,CAAE,CAAEqD,QAAQ,CAAE,YAAa,CAAE;AAC7DlF,MAAA,CAAAC,CAAA,QAAK/C,IAAI,CAAC,QAAQ,CAACiI,SAAS,CAAC,UAAU;AACtCnF,MAAA,CAAAC,CAAA,cAAOD,MAAA,CAAAC,CAAA,MAAGmF,IAAI,CAAE,IAAI,CAAGC,MAAM,CAACC,MAAM,CAACC,KAAM,EAACvF,MAAA,CAAAC,CAAA,MAAG,QAAM,kBAAkB,CAAI,CAAI,CAAQ,CAAC;AACxFD,MAAA,CAAAC,CAAA,WAAKkE,KAAU,CAAC,UACT;AAAAnE,MAAA,CAAAC,CAAA,WAAQ4B,KAAK,CAAE,CAAE2D,KAAK,CAAEC,SAAS,CAACC,aAAa,CAACtB,OAAc,CAAE,CAAE,EAAEA,OAAgB,CAAC,CAAApE,MAAA,CAAAC,CAAA,UAAK,CAAC,WAC1F;AAACoE,MAAM,CAACrE,MAAA,CAAAC,CAAA,UAAK,CAAC,UACf;AAACqE,KAAK,CAACtE,MAAA,CAAAC,CAAA,UAAK,CAAC;AACpBD,MAAA,CAAAC,CAAA,cAAO,aAAkB,CAAC,CAAAD,MAAA,CAAAC,CAAA,MAAGmF,IAAI,sBAAuBN,IAAO,EAAC,oBAAkB,CAACA,IAAQ,CAAC,CAAA9E,MAAA,CAAAC,CAAA,UAAK,CAAC;AAClGD,MAAA,CAAAC,CAAA,UAAK,CAAC;AACND,MAAA,CAAAC,CAAA,QAAK/C,IAAI,CAAC,QAAQ,CAAC2E,KAAK,CAAE,CAAE8D,OAAO,CAAE,MAAM,CAAEC,GAAG,CAAE,KAAM,CAAE;AACxDb,QAAQ,GAAK,IAAI,CAACpC,KAAK,CAACC,IAAI,CAACwB,OAAO;AACpCpE,MAAA,CAAAC,CAAA,WAAQ,QAAOgF,WAAY,CAACY,OAAO,CAAE,QAAAA,CAAA,QAAM,CAAA7B,MAAI,CAAC8B,YAAY,CAAC,CAAC,EAAC,EAAC,QAAc,CAAC;AAC/Ef,QAAQ,EAAI/E,MAAA,CAAAC,CAAA,WAAQ,QAAM,QAAQ,CAAC4F,OAAO,CAAE,QAAAA,CAAA,QAAM,CAAA7B,MAAI,CAAC+B,aAAa,CAAC,CAAC,EAAC,EAAC,iBAAuB,CAAC;AACjG/F,MAAA,CAAAC,CAAA;AACC,QAAM,QAAQ;AACd+F,QAAQ,CAAE,CAAC,IAAI,CAACrD,KAAK,CAACC,IAAI,EAAI,IAAI,CAACD,KAAK,CAACG,aAAc;AACvD+C,OAAO,CAAE,QAAAA,CAAA,QAAM,CAAA7B,MAAI,CAACiC,QAAQ,CAAC,CAAC,EAAC;AAC9B,IAAI,CAACtD,KAAK,CAACG,aAAa,CAAG,SAAS,CAAG,WAAoB,CAAC;AAC9D9C,MAAA,CAAAC,CAAA,WAAQ,QAAM,QAAQ,CAAC4F,OAAO,CAAE,QAAAA,CAAA,QAAM,CAAA7B,MAAI,CAACkC,iBAAiB,CAAC,CAAC,EAAC,EAAC,WAAS,CAACzB,QAAiB,CAAC;AAC5FzE,MAAA,CAAAC,CAAA,WAAQ,QAAM,QAAQ,CAAC4F,OAAO,CAAE,QAAAA,CAAA,QAAM,CAAA7B,MAAI,CAACmC,eAAe,CAAC,CAAC,EAAC,EAAC,MAAI,CAACzB,MAAM,CAAG,OAAO,CAAG,MAAM,CAAC,OAAa,CAAC;AAC3G1E,MAAA,CAAAC,CAAA;AACCmG,QAAQ,CAAE,QAAAA,CAAAC,EAAE,QAAI,CAAArC,MAAI,CAACsC,eAAe,CAACD,EAAE,CAAC,EAAC;AACzCE,KAAK,CAAE,IAAI,CAAC5D,KAAK,CAACO,SAAU;AAC5B,QAAM,QAAQ;;AAEb,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAAC9C,GAAG,CAAC,SAAAoG,GAAG,QAAI,CAAAxG,MAAA,CAAAC,CAAA,WAAQsG,KAAK,CAAEC,GAAI,EAAC,MAAI,CAACA,GAAG,CAAC,UAAgB,CAAC;AACtE;AACJ,CAAC;AACNxG,MAAA,CAAAC,CAAA,UAAK,CAAC;AACL,IAAI,CAAC0C,KAAK,CAACY,SAAS,EAAIvD,MAAA,CAAAC,CAAA,CAAAD,MAAA,CAAAE,QAAA;AACxBF,MAAA,CAAAC,CAAA,QAAK,QAAM,eAAe,EAAE,IAAI,CAAC0C,KAAK,CAACY,SAAe,CAAC;AACvDvD,MAAA,CAAAC,CAAA,UAAK;AACJ,CAAC;AACF,IAAI,CAAC0C,KAAK,CAACa,MAAM,EAAIxD,MAAA,CAAAC,CAAA,CAAAD,MAAA,CAAAE,QAAA;AACrBF,MAAA,CAAAC,CAAA,UAAK,CAAC,+BAA4B,CAAAD,MAAA,CAAAC,CAAA,MAAGmF,IAAI,UAAW,IAAI,CAACzC,KAAK,CAACa,MAAS,EAAC,MAAO,CAAC,CAAAxD,MAAA,CAAAC,CAAA,UAAK;AACrF,CAAC;AACF,IAAI,CAAC0C,KAAK,CAACc,SAAS,EAAIzD,MAAA,CAAAC,CAAA,CAAAD,MAAA,CAAAE,QAAA;AACxBF,MAAA,CAAAC,CAAA,UAAK,CAAC,CAAAD,MAAA,CAAAC,CAAA,QAAKkF,SAAS,CAAC,eAAe,EAAC,sBAAoB,CAAC,IAAI,CAACxC,KAAK,CAACc,SAAe,CAAC,CAAAzD,MAAA,CAAAC,CAAA,UAAK;AACzF,CAAC;AACF,IAAI,CAAC0C,KAAK,CAACS,UAAU,EAAIpD,MAAA,CAAAC,CAAA,CAAAD,MAAA,CAAAE,QAAA;AACzBF,MAAA,CAAAC,CAAA,cAAO,mBAAwB,CAAC;AAChCD,MAAA,CAAAC,CAAA;AACC,QAAM,QAAQ;AACdsG,KAAK,CAAE,CAAAtC,qBAAA,KAAI,CAACtB,KAAK,CAACW,SAAS,SAApBW,qBAAA,WAA6B,EAAI,IAAI,CAACtB,KAAK,CAACC,IAAI,WAAQ,CAAG,CAAC,CAAG,CAAE;AACxEwD,QAAQ,CAAE,QAAAA,CAAAC,EAAE,QAAI,CAAArC,MAAI,CAACyC,aAAa,CAAC,SAAS,CAAEJ,EAAE,CAAC,EAAC;;AAEjD,CAAC,CAAC,CAAE,CAAC,CAAC,CAACjG,GAAG,CAAC,SAAAsG,CAAC,QAAI,CAAA1G,MAAA,CAAAC,CAAA,WAAQsG,KAAK,CAAEG,CAAE,EAAEA,CAAC,CAAG,SAAS,CAAG,QAAiB,CAAC;AAC/D,CAAC,CAAA1G,MAAA,CAAAC,CAAA,UAAK,CAAC;AACfD,MAAA,CAAAC,CAAA,cAAO,eAAoB,CAAC,CAAAD,MAAA,CAAAC,CAAA,UAAO0G,OAAO,CAAE,QAAAA,CAAAN,EAAE,QAAI,CAAArC,MAAI,CAACyC,aAAa,CAAC,QAAQ,CAAEJ,EAAE,CAAC,EAAC,CAAE,CAAC;AACrF,IAAI,CAAC1D,KAAK,CAACU,WAAW,EAAIrD,MAAA,CAAAC,CAAA,CAAAD,MAAA,CAAAE,QAAA;AAC1BF,MAAA,CAAAC,CAAA,UAAK,CAAC,CAAAD,MAAA,CAAAC,CAAA,WAAQ,QAAM,kBAAkB,CAAC4F,OAAO,CAAE,QAAAA,CAAA,QAAM,CAAA7B,MAAI,CAAC4C,UAAU,CAAC,CAAC,EAAC,EAAC,cAAoB;AAC5F,CAAC;AACH5G,MAAA,CAAAC,CAAA,UAAK,CAAC;AACND,MAAA,CAAAC,CAAA,WAAQ,QAAM,QAAQ,CAAC4F,OAAO,CAAE,QAAAA,CAAA,QAAM,CAAA7B,MAAI,CAAC6C,SAAS,CAAC,CAAC,EAAC,EAAC,aAAmB,CAAC;AAC5E7G,MAAA,CAAAC,CAAA,UAAK;AACJ;AACE,CAAC;AACND,MAAA,CAAAC,CAAA;AACC/C,IAAI,CAAC,MAAM;AACX2E,KAAK,CAAE;AACN8D,OAAO,CAAE,MAAM;AACfmB,UAAU,CAAE,SAAS;AACrBC,QAAQ,CAAE,MAAM;AAChBC,MAAM,CAAE,MAAM;AACdlK,MAAM,CAAE6E,IAAI,CAAC7E;AACd,CAAE;;AAEDyH,QAAQ,CAACnE,GAAG;AACZ,SAAApD,GAAG;AACFgD,MAAA,CAAAC,CAAA,QAAK4B,KAAK,CAAE,CAAEC,IAAI,QAASH,IAAI,CAAC9E,KAAK,IAAI,CAAE;AAC1CmD,MAAA,CAAAC,CAAA,SAAM4B,KAAK,CAAE,CAAE8D,OAAO,CAAE,MAAO,CAAE;AAChC3F,MAAA,CAAAC,CAAA,CAACU,QAAQ,EAAC3D,GAAG,CAAEA,GAAI,CAACoE,GAAG,CAAE4C,MAAI,CAACrB,KAAK,CAACO,SAAU,CAACvB,IAAI,CAAEqC,MAAI,CAACrB,KAAK,CAACI,WAAY,CAAE;AACzE;AACF,CAAC;;AAER;AACI;AACD,CAAC;AACP,CAAC,CAAAc,OAAA;AACDF,WAAW,CAAX,SAAAA,WAAWA,CAAA,CAAG;AACb,GAAI,IAAI,CAAClB,EAAE,CAACwE,QAAQ,CAAC,GAAG,CAAC,CAAE,KAAAC,cAAA;AACL,IAAI,CAACzE,EAAE,CAAC0E,KAAK,CAAC,GAAG,CAAC,CAAtC,IAAI,CAAC1E,EAAE,CAAAyE,cAAA,IAAE,IAAI,CAACxE,EAAE,CAAAwE,cAAA;AAClB;AACA,GAAI,CAAC,OAAO,CAACE,IAAI,CAAC,IAAI,CAAC3E,EAAE,CAAC,CAAE;AAC3B,IAAI,CAAC4E,QAAQ,CAAC,CAAExE,KAAK,CAAE,mBAAmB,CAAGyE,IAAI,CAACC,SAAS,CAAC,IAAI,CAACpG,KAAK,CAACuC,IAAI,CAAE,CAAC,CAAC;AAC/E;AACD;AACA,IAAI,CAAC8D,YAAY,CAAC,CAAC;AACpB,CAAC,CAAA3D,OAAA;;AAEDiC,YAAY,CAAZ,SAAAA,YAAYA,CAAA,CAAG;AACd,IAAI,CAACuB,QAAQ,CAAC,CAAEjE,UAAU,CAAE,CAAC,IAAI,CAACT,KAAK,CAACS,UAAW,CAAC,CAAC;AACtD,CAAC,CAAAS,OAAA;;AAEDyC,eAAe,CAAf,SAAAA,eAAeA,CAACmB,KAAU,CAAE;AAC3BzE,YAAY,CAACY,OAAO,CAAC,WAAW,IAAK6D,KAAK,CAACC,MAAM,CAACnB,KAAO,CAAC;AAC1D,IAAI,CAACc,QAAQ,CAAC,CAAEnE,SAAS,CAAEuE,KAAK,CAACC,MAAM,CAACnB,KAAM,CAAC,CAAC;AACjD,CAAC,CAAA1C,OAAA;;AAEDqC,iBAAiB,CAAjB,SAAAA,iBAAiBA,CAAA,CAAG;AACnB,GAAM,CAAAyB,IAAI,CAAGC,MAAM,CAACD,IAAI,CAAC/K,KAAK,CAAC;AAC/B,GAAI,CAAAiL,IAAI,CAAGF,IAAI,CAACG,OAAO,CAAC,IAAI,CAACnF,KAAK,CAACI,WAAW,EAAI,MAAM,CAAC,CAAG,CAAC;AAC7D,GAAI,CAAC4E,IAAI,CAACE,IAAI,CAAC,CAAE;AAChBA,IAAI,CAAG,CAAC;AACT;AACA,IAAI,CAAClF,KAAK,CAACI,WAAW,CAAG4E,IAAI,CAACE,IAAI,CAAC;AACnC7E,YAAY,CAACY,OAAO,CAAC,iBAAiB,CAAE,IAAI,CAACjB,KAAK,CAACI,WAAW,CAAC;AAC/D,IAAI,CAACsE,QAAQ,CAAC,CAAEtE,WAAW,CAAE,IAAI,CAACJ,KAAK,CAACI,WAAY,CAAC,CAAC;AACvD,CAAC,CAAAc,OAAA;;AAEDsC,eAAe,CAAf,SAAAA,eAAeA,CAAA,CAAG,KAAA4B,sBAAA;AACjB,GAAM,CAAAlD,SAAS,EAAAkD,sBAAA,CAAGpD,QAAQ,CAACC,aAAa,CAAC,MAAM,CAAC,eAA9BmD,sBAAA,CAAgClD,SAAS;AAC3D,GAAM,CAAAH,MAAM,CAAG,CAAAG,SAAS,cAATA,SAAS,CAAG,CAAC,CAAC,IAAK,MAAM;AACxC,GAAIH,MAAM,CAAE;AACXG,SAAS,CAACmD,MAAM,CAAC,MAAM,CAAC;AACxBhF,YAAY,CAACiF,UAAU,CAAC,UAAU,CAAC;AACpC,CAAC,IAAM;AACNpD,SAAS,QAATA,SAAS,CAAEqD,GAAG,CAAC,MAAM,CAAC;AACtBlF,YAAY,CAACY,OAAO,CAAC,UAAU,CAAE,MAAM,CAAC;AACzC;;AAEA,IAAI,CAACuE,WAAW,CAAC,CAAC;AACnB,CAAC,CAAAtE,OAAA;;AAED2D,YAAY,CAAZ,SAAAA,YAAYA,CAAA,CAAG,KAAAY,MAAA;AACd,IAAK,CAAAC,KAAK,CAAC,SAAS,CAAE,CAAEA,KAAK,CAAE,CAAEC,MAAM,CAAE,IAAI,CAAC7F,EAAE,CAAE8F,QAAQ,CAAE,IAAI,CAAC7F,EAAE,CAAE8F,IAAI,CAAE,CAAE,CAAE,CAAC,CAAC,CAACC,IAAI,CAAC,SAAAC,MAAM,CAAI;AAChG,GAAIA,MAAM,CAACC,WAAW,CAAE;AACvBP,MAAI,CAACf,QAAQ,CAAC,CAAExE,KAAK,CAAE6F,MAAM,CAACC,WAAY,CAAC,CAAC;AAC7C,CAAC,IAAM;AACNP,MAAI,CAACf,QAAQ,CAAC,CAAEzE,IAAI,CAAE8F,MAAM,CAAC9F,IAAI,GAAK,IAAI,CAAG8F,MAAM,CAAC9F,IAAI,CAAG8F,MAAO,CAAC,CAAC;AACrE;AACD,CAAC,CAAC,SAAM,CAAC,SAAAE,CAAC,CAAI;AACbR,MAAI,CAACf,QAAQ,CAAC,CAAExE,KAAK,QAAS+F,CAAC,CAACC,IAAI,MAAKD,CAAC,CAACE,OAAU,CAAC,CAAC;AACxD,CAAC,CAAC;AACH,CAAC,CAAAjF,OAAA;;AAEDgD,SAAS,CAAT,SAAAA,SAASA,CAAA,CAAG;AACX,GAAM,CAAAkC,IAAI,CAAGtJ,IAAI,CAACuJ,MAAM,CAAC,gEAAgE,CAAC,CAAC;AAC3F,GAAID,IAAI,GAAK,KAAK,CAAE;AACnB;AACD;AACA,IAAK,CAAAV,KAAK,CAAC,YAAY,CAAE,CAAEA,KAAK,CAAE,CAAEC,MAAM,CAAE,IAAI,CAAC7F,EAAG,CAAE,CAAC,CAAC,CAACgG,IAAI,CAAC,SAAAC,MAAM,CAAI;AACvE,GAAIA,MAAM,CAACC,WAAW,CAAE;AACvBM,KAAK,yBAAyBP,MAAM,CAACC,WAAa,CAAC;AACpD,CAAC,IAAM;AACNM,KAAK;AACJP,MAAM,CAACQ,OAAO;;;AAGf,CAAC;AACD,GAAIR,MAAM,CAACQ,OAAO,CAAE;AACnBC,QAAQ,CAACC,OAAO,CAAC,KAAK,CAAC;AACxB;AACD;AACD,CAAC,CAAC;AACH,CAAC,CAAAvF,OAAA;;AAEDoC,QAAQ,CAAR,SAAAA,QAAQA,CAAA,CAAG,KAAAoD,MAAA;AACV,GAAI,CAAC,IAAI,CAAC1G,KAAK,CAACC,IAAI,CAAE;AACtB,GAAM,CAAAA,IAAI,CAAG4B,UAAU,CAAC,IAAI,CAAC7B,KAAK,CAACC,IAAI,CAACA,IAAI,CAAC;AAC7C0G,SAAS,CAACC,SAAS,CAACC,SAAS,CAAC5G,IAAI,CAACxC,GAAG,CAACrD,SAAS,CAAC,CAAC0M,IAAI,CAAC,IAAI,CAAC,CAAC;AAC7D,IAAI,CAACpC,QAAQ,CAAC,CAAEvE,aAAa,CAAE,IAAK,CAAC,CAAC;AACtC4G,UAAU,CAAC,UAAM;AAChBL,MAAI,CAAChC,QAAQ,CAAC,CAAEvE,aAAa,CAAE,KAAM,CAAC,CAAC;AACxC,CAAC,CAAE,IAAI,CAAC;AACT,CAAC,CAAAe,OAAA;;AAEDkC,aAAa,CAAb,SAAAA,aAAaA,CAAA,CAAG,KAAA4D,MAAA;AACf,IAAK,CAAAtB,KAAK,CAAC,UAAU,CAAE,CAAEA,KAAK,CAAE,CAAEC,MAAM,CAAE,IAAI,CAAC7F,EAAE,CAAEC,EAAE,CAAE,IAAI,CAACA,EAAG,CAAE,CAAC,CAAC,CAAC+F,IAAI,CAAC,SAAAC,MAAM,CAAI;AAClF,GAAIA,MAAM,CAACC,WAAW,CAAE;AACvBgB,MAAI,CAACtC,QAAQ,CAAC,CAAE5D,SAAS,CAAEiF,MAAM,CAACC,WAAW,CAAEnF,MAAM,CAAE,IAAK,CAAC,CAAC;AAC/D,CAAC,IAAM;AACNmG,MAAI,CAACtC,QAAQ,CAAC,CAAE7D,MAAM,CAAEkF,MAAM,CAACJ,MAAM,CAAE7E,SAAS,CAAE,IAAK,CAAC,CAAC;AAC1D;AACD,CAAC,CAAC;AACH,CAAC,CAAAI,OAAA;;AAED4C,aAAa,CAAb,SAAAA,aAAaA,CAACmD,GAAyB,CAAAC,KAAA,CAA0B,KAAAC,WAAA,IAAtB,CAAAC,aAAa,CAAAF,KAAA,CAAbE,aAAa;AACvD,CAAC,CAAAD,WAAA,KAAI,CAACnH,KAAK,EAACW,SAAS,GAApBwG,WAAA,CAAWxG,SAAS,CAAK,CAAC,CAAC,GAAEsG,GAAG,CAAC,CAAGG,aAAa,CAACxD,KAAK;AACxD,GAAI,CAAAyD,OAAO;AACX,GAAIJ,GAAG,GAAK,QAAQ,CAAE,KAAAK,iBAAA;AACrB,GAAI,CAAA5F,MAAM,CAAG5E,IAAI,CAACsK,aAAa,CAACxD,KAAK,CAAC;AACtClC,MAAM,CAAG5E,IAAI,CAACyK,aAAa,CAAC7F,MAAM,CAAC,CAAC,EAAIA,MAAM;AAC9C,GAAI,CAAC,SAAS,CAAC+C,IAAI,CAAC/C,MAAM,CAAC,CAAE;AAC5BA,MAAM,QAAUA,MAAQ;AACzB;AACA2F,OAAO,CAAGA,OAAO,EAAI3F,MAAM,KAAA4F,iBAAA,CAAK,IAAI,CAACtH,KAAK,CAACC,IAAI,eAAfqH,iBAAA,CAAiB5F,MAAM;AACxD,CAAC,IAAM,IAAIuF,GAAG,GAAK,SAAS,CAAE,KAAAO,iBAAA;AAC7BH,OAAO,CAAGA,OAAO,EAAID,aAAa,CAACxD,KAAK,KAAA4D,iBAAA,CAAK,IAAI,CAACxH,KAAK,CAACC,IAAI,eAAfuH,iBAAA,WAAwB;AACtE;AACA,IAAI,CAAC9C,QAAQ,CAAC;AACb/D,SAAS,CAAE,IAAI,CAACX,KAAK,CAACW,SAAS;AAC/BD,WAAW,CAAE2G;AACd,CAAC,CAAC;AACH,CAAC,CAAAnG,OAAA;;AAED+C,UAAU,CAAV,SAAAA,UAAUA,CAAA,CAAG,KAAAwD,MAAA;AACZ,GAAI,CAAC,IAAI,CAACzH,KAAK,CAACU,WAAW,EAAI,CAAC,IAAI,CAACV,KAAK,CAACC,IAAI,CAAE;AACjD,IAAK,CAAAyF,KAAK,CAAC,UAAU,CAAE;AACtBA,KAAK,CAAAT,MAAA,CAAAyC,MAAA,EAAI/B,MAAM,CAAE,IAAI,CAAC7F,EAAE,EAAK,IAAI,CAACE,KAAK,CAACW,SAAS;AAClD,CAAC,CAAC,CAACmF,IAAI,CAAC,SAAA6B,UAAU,CAAI,KAAAC,iBAAA;AACrB,GAAID,UAAU,CAACpL,UAAU,CAAC,GAAG,CAAC,CAAEoL,UAAU,CAAGA,UAAU,CAAClL,KAAK,CAAC,CAAC,CAAC;AAChE,GAAI,CAAAsJ,MAAM;AACV,GAAI;AACHA,MAAM,CAAGpB,IAAI,CAACkD,KAAK,CAACF,UAAU,CAAC;AAChC,CAAE,MAAAG,OAAA,CAAM;AACP/B,MAAM,CAAG,CAAEC,WAAW,CAAE,+CAAgD,CAAC;AAC1E;AACA,GAAID,MAAM,CAAC9F,IAAI,WAAQ,KAAA2H,iBAAA,CAAKH,MAAI,CAACzH,KAAK,CAACC,IAAI,eAAf2H,iBAAA,WAAwB,EAAE;AACrDG,OAAO,CAACC,SAAS,CAAC,CAAC,CAAC,CAAE,EAAE,CAAE,GAAI,CAAAC,GAAG;AAChCzB,QAAQ,CAAC/D,IAAI,CAAC+B,KAAK,CAACiD,MAAI,CAAC3H,EAAE,CAAC,CAAC,CAAC,CAAC,CAAG2H,MAAI,CAAC3H,EAAE;AACxCiG,MAAM,CAAC9F,IAAI,WAAQ,KAAO8F,MAAM,CAAC9F,IAAI,WAAQ,CAAK,EAAE;AACtD,CAAC,CAAC;AACH;AACA,GAAI8F,MAAM,CAACC,WAAW,CAAE;AACvByB,MAAI,CAAC/C,QAAQ,CAAC,CAAE9D,SAAS,CAAEmF,MAAM,CAACC,WAAW,CAAEtF,WAAW,CAAE,KAAK,CAAEC,SAAS,CAAE,IAAK,CAAC,CAAC;AACtF,CAAC,IAAM;AACN8G,MAAI,CAAC/C,QAAQ,CAAC,CAAEzE,IAAI,CAAE8F,MAAM,CAAC9F,IAAI,CAAES,WAAW,CAAE,KAAK,CAAEC,SAAS,CAAE,IAAK,CAAC,CAAC;AAC1E;AACD,CAAC,CAAC;AACH,CAAC,QAAAjB,UAAA,GA9Q8BrC,MAAM,CAACoC,SAAS","ignoreList":[]}