{"version":3,"file":"replays-index.js","names":["ReplayLink","props","user","replay","viewpointSwitched","toID","players","url","id","password","switched","preact","h","href","PSRouter","format","rating","children","SearchPanel","_preact$Component","_this","_len","arguments","length","args","Array","_key","call","apply","concat","results","resultError","isPrivate","byRating","page","loggedInUser","loggedInUserIsSysop","sort","submitForm","e","_querySelector","_querySelector2","_querySelector3","preventDefault","base","querySelector","value","checked","search","cancelForm","searchLoggedIn","_inheritsLoose","_proto","prototype","componentDidMount","_this2","Net","defaultRoute","get","then","result","startsWith","_result$slice$split","slice","split","userid","sysop","forceUpdate","updateSearch","decodeQuery","componentDidUpdate","previousProps","query","parseInt","parseResponse","response","JSON","parse","isArray","actionerror","_this3","undefined","querySelectorAll","recent","replace","encodeQuery","username","error","modLink","overrides","newPage","_this4","formatid","test","charAt","uploadtime","render","_this$results","_this5","_this$results2","activelySearching","hasNextPageLink","searchResults","map","showingRight","onSubmit","type","name","placeholder","size","onClick","FeaturedReplays","Component","_preact$Component2","_this6","_len2","_key2","moreFun","moreCompetitive","showMoreFun","showMoreCompetitive","_proto2","style","paddingLeft"],"sources":["../src/replays-index.tsx"],"sourcesContent":["/** @jsx preact.h */\nimport preact from '../../play.pokemonshowdown.com/js/lib/preact';\nimport { PSRouter } from \"./replays\";\nimport { Net } from './utils';\n\ntype ID = Lowercase<string>;\ndeclare function toID(input: string): ID;\n\ninterface ReplayResult {\n\tuploadtime: number;\n\tid: string;\n\tformat: string;\n\tplayers: string[];\n\tpassword?: string;\n\tprivate?: number;\n\trating?: number;\n}\n\nfunction ReplayLink(props: {\n\tuser?: ID, switched?: boolean, replay: {\n\t\tid: string, format?: string, players: string[], password?: string, rating?: number, private?: number,\n\t}, children?: preact.ComponentChildren,\n}) {\n\tconst user = props.user;\n\tconst replay = props.replay;\n\tconst viewpointSwitched = (toID(replay.players[1]) === user);\n\tconst url = replay.id + (replay.password ? `-${replay.password}pw` : '') +\n\t\t(viewpointSwitched || props.switched ? '?p2' : '');\n\n\treturn <a href={PSRouter.href(url)} class=\"blocklink\">\n\t\t<small>{replay.format}{replay.rating ? ` (Rating: ${replay.rating})` : ''}<br /></small>\n\t\t{!!replay.private && <i class=\"fa fa-lock\" aria-hidden></i>} {}\n\t\t<strong>{replay.players[0]}</strong> vs. <strong>{replay.players[1]}</strong>\n\t\t{props.children && <small><br />\n\t\t\t{props.children}\n\t\t</small>}\n\t</a>;\n}\n\nexport class SearchPanel extends preact.Component<{ id: string }> {\n\tresults: ReplayResult[] | null = null;\n\tresultError: string | null = null;\n\tformat = '';\n\tuser = '';\n\tisPrivate = false;\n\tbyRating = false;\n\tpage = 1;\n\tloggedInUser: string | null = null;\n\tloggedInUserIsSysop = false;\n\tsort = 'date';\n\toverride componentDidMount() {\n\t\tif (!Net.defaultRoute) Net(`/api/replays/check-login`).get().then(result => {\n\t\t\tif (!result.startsWith(']')) return;\n\t\t\tconst [userid, sysop] = result.slice(1).split(',');\n\t\t\tthis.loggedInUser = userid;\n\t\t\tthis.loggedInUserIsSysop = !!sysop;\n\t\t\tthis.forceUpdate();\n\t\t});\n\t\tthis.updateSearch(Net.decodeQuery(this.props.id));\n\t}\n\toverride componentDidUpdate(previousProps: this['props']) {\n\t\tif (this.props.id === previousProps.id) return;\n\t\tconst query = Net.decodeQuery(this.props.id);\n\t\tconst page = parseInt(query.page || '1');\n\t\tconst byRating = (query.sort === 'rating');\n\t\tif (page !== this.page || byRating !== this.byRating) this.updateSearch(query);\n\t}\n\tupdateSearch(query: { [k: string]: string }) {\n\t\tconst user = query.user || '';\n\t\tconst format = query.format || '';\n\t\tconst page = parseInt(query.page || '1');\n\t\tconst isPrivate = !!query.private;\n\t\tthis.byRating = (query.sort === 'rating');\n\t\tthis.search(user, format, isPrivate, page);\n\t}\n\tparseResponse(response: string, isPrivate?: boolean) {\n\t\tthis.results = null;\n\t\tthis.resultError = null;\n\n\t\tif (isPrivate) {\n\t\t\tif (!response.startsWith(']')) {\n\t\t\t\tthis.resultError = `Unrecognized response: ${response}`;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresponse = response.slice(1);\n\t\t}\n\t\tconst results = JSON.parse(response);\n\t\tif (!Array.isArray(results)) {\n\t\t\tthis.resultError = results.actionerror || `Unrecognized response: ${response}`;\n\t\t\treturn;\n\t\t}\n\t\tthis.results = results;\n\t}\n\tsearch(user: string, format: string, isPrivate?: boolean, page = 1) {\n\t\tthis.base!.querySelector<HTMLInputElement>('input[name=user]')!.value = user;\n\t\tthis.base!.querySelector<HTMLInputElement>('input[name=format]')!.value = format;\n\t\tthis.base!.querySelectorAll<HTMLInputElement>('input[name=private]')[isPrivate ? 1 : 0].checked = true;\n\n\t\tif (!format && !user) return this.recent();\n\t\tthis.user = user;\n\t\tthis.format = format;\n\t\tthis.isPrivate = !!isPrivate;\n\t\tthis.page = page;\n\t\tthis.results = null;\n\t\tthis.resultError = null;\n\t\tif (user || !format) this.byRating = false;\n\n\t\tif (!format && !user) {\n\t\t\tPSRouter.replace('');\n\t\t} else {\n\t\t\tPSRouter.replace('?' + Net.encodeQuery({\n\t\t\t\tuser: user || undefined,\n\t\t\t\tformat: format || undefined,\n\t\t\t\tprivate: isPrivate ? '1' : undefined,\n\t\t\t\tpage: page === 1 ? undefined : page,\n\t\t\t\tsort: this.byRating ? 'rating' : undefined,\n\t\t\t}));\n\t\t}\n\t\tthis.forceUpdate();\n\t\tNet(`/api/replays/${isPrivate ? 'searchprivate' : 'search'}`).get({\n\t\t\tquery: {\n\t\t\t\tusername: this.user,\n\t\t\t\tformat: this.format,\n\t\t\t\tpage,\n\t\t\t\tsort: this.byRating ? 'rating' : undefined,\n\t\t\t},\n\t\t}).then(response => {\n\t\t\tif (this.format !== format || this.user !== user) return;\n\t\t\tthis.parseResponse(response, true);\n\t\t\tthis.forceUpdate();\n\t\t}).catch(error => {\n\t\t\tif (this.format !== '' || this.user !== '') return;\n\t\t\tthis.resultError = '' + error;\n\t\t\tthis.forceUpdate();\n\t\t});\n\t}\n\tmodLink(overrides: { page?: number, sort?: string }) {\n\t\tconst newPage = (overrides.page !== undefined ? this.page + overrides.page : 1);\n\t\treturn PSRouter.href('?' + Net.encodeQuery({\n\t\t\tuser: this.user || undefined,\n\t\t\tformat: this.format || undefined,\n\t\t\tprivate: this.isPrivate ? '1' : undefined,\n\t\t\tpage: newPage === 1 ? undefined : newPage,\n\t\t\tsort: (overrides.sort ? overrides.sort === 'rating' : this.byRating) ? 'rating' : undefined,\n\t\t}));\n\t}\n\trecent() {\n\t\tthis.format = '';\n\t\tthis.user = '';\n\t\tthis.results = null;\n\t\tthis.forceUpdate();\n\t\tNet(`/api/replays/recent`).get().then(response => {\n\t\t\tif (this.format !== '' || this.user !== '') return;\n\t\t\tthis.parseResponse(response, true);\n\t\t\tthis.forceUpdate();\n\t\t}).catch(error => {\n\t\t\tif (this.format !== '' || this.user !== '') return;\n\t\t\tthis.resultError = '' + error;\n\t\t\tthis.forceUpdate();\n\t\t});\n\t}\n\tsubmitForm = (e: Event) => {\n\t\te.preventDefault();\n\t\tconst format = this.base!.querySelector<HTMLInputElement>('input[name=format]')?.value || '';\n\t\tconst user = this.base!.querySelector<HTMLInputElement>('input[name=user]')?.value || '';\n\t\tconst isPrivate = !this.base!.querySelector<HTMLInputElement>('input[name=private]')?.checked;\n\t\tthis.search(user, format, isPrivate);\n\t};\n\tcancelForm = (e: Event) => {\n\t\te.preventDefault();\n\t\tthis.search('', '');\n\t};\n\tsearchLoggedIn = (e: Event) => {\n\t\tif (!this.loggedInUser) return; // shouldn't happen\n\t\tthis.base!.querySelector<HTMLInputElement>('input[name=user]')!.value = this.loggedInUser;\n\t\tthis.submitForm(e);\n\t};\n\turl(replay: ReplayResult) {\n\t\tconst viewpointSwitched = (toID(replay.players[1]) === toID(this.user));\n\t\treturn replay.id + (replay.password ? `-${replay.password}pw` : '') + (viewpointSwitched ? '?p2' : '');\n\t}\n\tformatid(replay: ReplayResult) {\n\t\tlet formatid = replay.format;\n\t\tif (!formatid.startsWith('gen') || !/[0-9]/.test(formatid.charAt(3))) {\n\t\t\t// 2013 Oct 14, two days after X and Y were released; good enough\n\t\t\t// estimate for when we renamed `ou` to `gen5ou`.\n\t\t\tformatid = (replay.uploadtime > 1381734000 ? 'gen6' : 'gen5') + formatid;\n\t\t}\n\t\tif (!/^gen[0-9]+-/.test(formatid)) {\n\t\t\tformatid = formatid.slice(0, 4) + '-' + formatid.slice(4);\n\t\t}\n\t\treturn formatid;\n\t}\n\toverride render() {\n\t\tconst activelySearching = !!(this.format || this.user);\n\t\tconst hasNextPageLink = (this.results?.length || 0) > 50;\n\t\tconst results = hasNextPageLink ? this.results!.slice(0, 50) : this.results;\n\t\tconst searchResults = <ul class=\"linklist\">\n\t\t\t{(this.resultError && <li>\n\t\t\t\t<strong class=\"message-error\">{this.resultError}</strong>\n\t\t\t</li>) ||\n\t\t\t(!results && <li>\n\t\t\t\t<em>Loading...</em>\n\t\t\t</li>) ||\n\t\t\t(results?.map(result => <li>\n\t\t\t\t<ReplayLink replay={result} user={toID(this.user)}></ReplayLink>\n\t\t\t</li>))}\n\t\t</ul>;\n\t\treturn <div class={PSRouter.showingRight() ? 'sidebar' : ''}>\n\t\t\t<section class=\"section first-section\">\n\t\t\t\t<h1>Search replays</h1>\n\t\t\t\t<form onSubmit={this.submitForm}>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\tUsername: <small class=\"gray\">(separate multiple usernames by commas)</small><br />\n\t\t\t\t\t\t\t<input type=\"search\" class=\"textbox\" name=\"user\" placeholder=\"(blank = any user)\" size={20} /> {}\n\t\t\t\t\t\t\t{this.loggedInUser &&\n\t\t\t\t\t\t\t\t<button type=\"button\" class=\"button\" onClick={this.searchLoggedIn}>{this.loggedInUser}'s replays</button>}\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<label>Format:<br />\n\t\t\t\t\t\t\t<input type=\"search\" class=\"textbox\" name=\"format\" placeholder=\"(blank = any format)\" size={30} /></label>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<label class=\"checkbox inline\"><input type=\"radio\" name=\"private\" value=\"\" /> Public</label> {}\n\t\t\t\t\t\t<label class=\"checkbox inline\"><input type=\"radio\" name=\"private\" value=\"1\" /> Private (your own replays only)</label>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<button type=\"submit\" class=\"button\"><i class=\"fa fa-search\" aria-hidden></i> <strong>Search</strong></button> {}\n\t\t\t\t\t\t{activelySearching && <button class=\"button\" onClick={this.cancelForm}>Cancel</button>}\n\t\t\t\t\t</p>\n\t\t\t\t\t{activelySearching && <h1 aria-label=\"Results\"></h1>}\n\t\t\t\t\t{activelySearching && this.format && !this.user && <p>\n\t\t\t\t\t\tSort by: {}\n\t\t\t\t\t\t<a href={this.modLink({ sort: 'date' })} class={`button button-first${this.byRating ? '' : ' disabled'}`}>\n\t\t\t\t\t\t\tDate\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<a href={this.modLink({ sort: 'rating' })} class={`button button-last${this.byRating ? ' disabled' : ''}`}>\n\t\t\t\t\t\t\tRating\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</p>}\n\t\t\t\t\t{activelySearching && this.page > 1 && <p class=\"pagelink\">\n\t\t\t\t\t\t<a href={this.modLink({ page: -1 })} class=\"button\">\n\t\t\t\t\t\t\t<i class=\"fa fa-caret-up\" aria-hidden></i><br />Page {this.page - 1}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</p>}\n\t\t\t\t\t{activelySearching && searchResults}\n\t\t\t\t\t{activelySearching && (this.results?.length || 0) > 50 && <p class=\"pagelink\">\n\t\t\t\t\t\t<a href={this.modLink({ page: 1 })} class=\"button\">\n\t\t\t\t\t\t\tPage {this.page + 1}<br /><i class=\"fa fa-caret-down\" aria-hidden></i>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</p>}\n\t\t\t\t</form>\n\t\t\t</section>\n\t\t\t{!activelySearching && <FeaturedReplays />}\n\t\t\t{!activelySearching && <section class=\"section\">\n\t\t\t\t<h1>Recent replays</h1>\n\t\t\t\t<ul class=\"linklist\">\n\t\t\t\t\t{searchResults}\n\t\t\t\t</ul>\n\t\t\t</section>}\n\t\t</div>;\n\t}\n}\n\nclass FeaturedReplays extends preact.Component {\n\tmoreFun = false;\n\tmoreCompetitive = false;\n\tshowMoreFun = (e: Event) => {\n\t\te.preventDefault();\n\t\tthis.moreFun = true;\n\t\tthis.forceUpdate();\n\t};\n\tshowMoreCompetitive = (e: Event) => {\n\t\te.preventDefault();\n\t\tthis.moreCompetitive = true;\n\t\tthis.forceUpdate();\n\t};\n\toverride render() {\n\t\treturn <section class=\"section\">\n\t\t\t<h1>Featured replays</h1>\n\t\t\t<ul class=\"linklist\">\n\t\t\t\t<li><h2>Fun</h2></li>\n\t\t\t\t<li><ReplayLink\n\t\t\t\t\treplay={{ id: 'oumonotype-82345404', format: 'gen6-oumonotype', players: ['kdarewolf', 'Onox'] }}\n\t\t\t\t>\n\t\t\t\t\tProtean + prediction\n\t\t\t\t</ReplayLink></li>\n\t\t\t\t<li><ReplayLink\n\t\t\t\t\treplay={{ id: 'anythinggoes-218380995', format: 'gen6-anythinggoes', players: ['Anta2', 'dscottnew'] }} switched\n\t\t\t\t>\n\t\t\t\t\tCheek Pouch\n\t\t\t\t</ReplayLink></li>\n\t\t\t\t<li><ReplayLink\n\t\t\t\t\treplay={{ id: 'uberssuspecttest-147833524', format: 'gen6-ubers', players: ['Metal Brellow', 'zig100'] }} switched\n\t\t\t\t>\n\t\t\t\t\tTopsy-Turvy\n\t\t\t\t</ReplayLink></li>\n\t\t\t\t{!this.moreFun && <li style={{ paddingLeft: '8px' }}>\n\t\t\t\t\t<button class=\"button\" onClick={this.showMoreFun}>More <i class=\"fa fa-caret-right\" aria-hidden></i></button>\n\t\t\t\t</li>}\n\t\t\t\t{this.moreFun && <li><ReplayLink\n\t\t\t\t\treplay={{ id: 'smogondoubles-75588440', format: 'gen6-smogondoubles', players: ['jamace6', 'DubsWelder'] }} switched\n\t\t\t\t>\n\t\t\t\t\tGarchomp sweeps 11 pokemon\n\t\t\t\t</ReplayLink></li>}\n\t\t\t\t{this.moreFun && <li><ReplayLink\n\t\t\t\t\treplay={{ id: 'ou-20651579', format: 'gen5-ou', players: ['RainSeven07', 'my body is regi'] }} switched\n\t\t\t\t>\n\t\t\t\t\tAn entire team based on Assist V-create\n\t\t\t\t</ReplayLink></li>}\n\t\t\t\t{this.moreFun && <li><ReplayLink\n\t\t\t\t\treplay={{ id: 'balancedhackmons7322360', format: 'gen5-balancedhackmons', players: ['a ver', 'Shuckie'] }} switched\n\t\t\t\t>\n\t\t\t\t\tTo a ver's frustration, PP stall is viable in Balanced Hackmons\n\t\t\t\t</ReplayLink></li>}\n\t\t\t\t<h2>Competitive</h2>\n\t\t\t\t<li><ReplayLink\n\t\t\t\t\treplay={{ id: 'doublesou-232753081', format: 'gen6-doublesou', players: ['Electrolyte', 'finally'] }}\n\t\t\t\t>\n\t\t\t\t\tfinally steals Electrolyte's spot in the finals of the Doubles Winter Seasonal by outplaying Toxic Aegislash.\n\t\t\t\t</ReplayLink></li>\n\t\t\t\t<li><ReplayLink\n\t\t\t\t\treplay={{ id: 'smogtours-gen5ou-59402', format: 'gen5-ou', players: ['Reymedy', 'Leftiez'] }}\n\t\t\t\t>\n\t\t\t\t\tReymedy's superior grasp over BW OU lead to his claim of victory over Leftiez in the No Johns Tournament.\n\t\t\t\t</ReplayLink></li>\n\t\t\t\t<li><ReplayLink\n\t\t\t\t\treplay={{ id: 'smogtours-gen3ou-56583', format: 'gen3-ou', players: ['pokebasket', \"Alf'\"] }}\n\t\t\t\t>\n\t\t\t\t\tpokebasket proved Blissey isn't really one to take a Focus Punch well in his victory match over Alf' in the\n\t\t\t\t\tFuck Trappers ADV OU tournament.\n\t\t\t\t</ReplayLink></li>\n\t\t\t\t<li><ReplayLink\n\t\t\t\t\treplay={{ id: 'smogtours-ou-55891', format: 'gen6-ou', players: ['Marshall.Law', 'Malekith'] }}\n\t\t\t\t>\n\t\t\t\t\tIn a \"match full of reverses\", Marshall.Law takes on Malekith in the finals of It's No Use.\n\t\t\t\t</ReplayLink></li>\n\t\t\t\t<li><ReplayLink\n\t\t\t\t\treplay={{ id: 'smogtours-ubers-54583', format: 'gen6-custom', players: ['hard', 'panamaxis'] }}\n\t\t\t\t>\n\t\t\t\t\tDark horse panamaxis proves his worth as the rightful winner of The Walkthrough Tournament in this exciting\n\t\t\t\t\tfinal versus hard.\n\t\t\t\t</ReplayLink></li>\n\t\t\t\t{!this.moreCompetitive && <li style={{ paddingLeft: '8px' }}>\n\t\t\t\t\t<button class=\"button\" onClick={this.showMoreCompetitive}>More <i class=\"fa fa-caret-right\" aria-hidden></i></button>\n\t\t\t\t</li>}\n\t\t\t\t{this.moreCompetitive && <li><ReplayLink\n\t\t\t\t\treplay={{ id: 'smogtours-ubers-34646', format: 'gen6-ubers', players: ['steelphoenix', 'Jibaku'] }}\n\t\t\t\t>\n\t\t\t\t\tIn this SPL Week 4 battle, Jibaku's clever plays with Mega Sableye keep the momentum mostly in his favor.\n\t\t\t\t</ReplayLink></li>}\n\t\t\t\t{this.moreCompetitive && <li><ReplayLink\n\t\t\t\t\treplay={{ id: 'smogtours-uu-36860', format: 'gen6-uu', players: ['IronBullet93', 'Laurel'] }}\n\t\t\t\t>\n\t\t\t\t\tLaurel outplays IronBullet's Substitute Tyrantrum with the sly use of a Shuca Berry Cobalion, but luck was\n\t\t\t\t\tinevitably the deciding factor in this SPL Week 6 match.\n\t\t\t\t</ReplayLink></li>}\n\t\t\t\t{this.moreCompetitive && <ReplayLink\n\t\t\t\t\treplay={{ id: 'smogtours-gen5ou-36900', format: 'gen5-ou', players: ['Lowgock', 'Meridian'] }}\n\t\t\t\t>\n\t\t\t\t\tThis SPL Week 6 match features impressive plays, from Jirachi sacrificing itself to paralysis to avoid a\n\t\t\t\t\tburn to some clever late-game switches.\n\t\t\t\t</ReplayLink>}\n\t\t\t\t{this.moreCompetitive && <li><ReplayLink\n\t\t\t\t\treplay={{ id: 'smogtours-gen4ou-36782', format: 'gen4-ou', players: ['Heist', 'liberty32'] }}\n\t\t\t\t>\n\t\t\t\t\tStarting out as an entry hazard-filled stallfest, this close match is eventually decided by liberty32's\n\t\t\t\t\tefficient use of Aerodactyl.\n\t\t\t\t</ReplayLink></li>}\n\t\t\t\t{this.moreCompetitive && <li><ReplayLink\n\t\t\t\t\treplay={{ id: 'randombattle-213274483', format: 'gen6-randombattle', players: ['The Immortal', 'Amphinobite'] }}\n\t\t\t\t>\n\t\t\t\t\tSubstitute Lugia and Rotom-Fan take advantage of Slowking's utility and large HP stat, respectively,\n\t\t\t\t\tin this high ladder match.\n\t\t\t\t</ReplayLink></li>}\n\t\t\t</ul>\n\t\t</section>;\n\t}\n}\n"],"mappings":"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","ignoreList":[]}